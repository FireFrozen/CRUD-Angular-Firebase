"use strict";(self.webpackChunkcrud_angular_firebase=self.webpackChunkcrud_angular_firebase||[]).push([[179],{286:()=>{function xe(t){return"function"==typeof t}function Wu(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const nh=Wu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function $o(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Tn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(xe(r))try{r()}catch(s){e=s instanceof nh?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{DA(s)}catch(o){e=e??[],o instanceof nh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new nh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)DA(e);else{if(e instanceof Tn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&$o(n,e)}remove(e){const{_finalizers:n}=this;n&&$o(n,e),e instanceof Tn&&e._removeParent(this)}}Tn.EMPTY=(()=>{const t=new Tn;return t.closed=!0,t})();const IA=Tn.EMPTY;function EA(t){return t instanceof Tn||t&&"closed"in t&&xe(t.remove)&&xe(t.add)&&xe(t.unsubscribe)}function DA(t){xe(t)?t():t.unsubscribe()}const ks={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},rh={setTimeout(t,e,...n){const{delegate:r}=rh;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=rh;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function CA(t){rh.setTimeout(()=>{const{onUnhandledError:e}=ks;if(!e)throw t;e(t)})}function Hm(){}const N4=Gm("C",void 0,void 0);function Gm(t,e,n){return{kind:t,value:e,error:n}}let Ps=null;function ih(t){if(ks.useDeprecatedSynchronousErrorHandling){const e=!Ps;if(e&&(Ps={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Ps;if(Ps=null,n)throw r}}else t()}class zm extends Tn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,EA(e)&&e.add(this)):this.destination=V4}static create(e,n,r){return new Ku(e,n,r)}next(e){this.isStopped?Wm(function k4(t){return Gm("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Wm(function R4(t){return Gm("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Wm(N4,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const O4=Function.prototype.bind;function qm(t,e){return O4.call(t,e)}class F4{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){sh(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){sh(r)}else sh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){sh(n)}}}class Ku extends zm{constructor(e,n,r){let i;if(super(),xe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&ks.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&qm(e.next,s),error:e.error&&qm(e.error,s),complete:e.complete&&qm(e.complete,s)}):i=e}this.destination=new F4(i)}}function sh(t){ks.useDeprecatedSynchronousErrorHandling?function P4(t){ks.useDeprecatedSynchronousErrorHandling&&Ps&&(Ps.errorThrown=!0,Ps.error=t)}(t):CA(t)}function Wm(t,e){const{onStoppedNotification:n}=ks;n&&rh.setTimeout(()=>n(t,e))}const V4={closed:!0,next:Hm,error:function L4(t){throw t},complete:Hm},Km="function"==typeof Symbol&&Symbol.observable||"@@observable";function ji(t){return t}function Qm(...t){return bA(t)}function bA(t){return 0===t.length?ji:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let ze=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function B4(t){return t&&t instanceof zm||function U4(t){return t&&xe(t.next)&&xe(t.error)&&xe(t.complete)}(t)&&EA(t)}(n)?n:new Ku(n,r,i);return ih(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=TA(r))((i,s)=>{const o=new Ku({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Km](){return this}pipe(...n){return bA(n)(this)}toPromise(n){return new(n=TA(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function TA(t){var e;return null!==(e=t??ks.Promise)&&void 0!==e?e:Promise}const j4=Wu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let pr=(()=>{class t extends ze{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new SA(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new j4}next(n){ih(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){ih(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ih(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?IA:(this.currentObservers=null,s.push(n),new Tn(()=>{this.currentObservers=null,$o(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new ze;return n.source=this,n}}return t.create=(e,n)=>new SA(e,n),t})();class SA extends pr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:IA}}function AA(t){return xe(t?.lift)}function yt(t){return e=>{if(AA(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ht(t,e,n,r,i){return new $4(t,e,n,r,i)}class $4 extends zm{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function me(t,e){return yt((n,r)=>{let i=0;n.subscribe(ht(r,s=>{r.next(t.call(e,s,i++))}))})}function oh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function $i(t){return this instanceof $i?(this.v=t,this):new $i(t)}function RA(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Zm(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const kA=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function PA(t){return xe(t?.then)}function OA(t){return xe(t[Km])}function FA(t){return Symbol.asyncIterator&&xe(t?.[Symbol.asyncIterator])}function LA(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const VA=function cG(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function UA(t){return xe(t?.[VA])}function BA(t){return function NA(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof $i?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield $i(n.read());if(i)return yield $i(void 0);yield yield $i(r)}}finally{n.releaseLock()}})}function jA(t){return xe(t?.getReader)}function Un(t){if(t instanceof ze)return t;if(null!=t){if(OA(t))return function lG(t){return new ze(e=>{const n=t[Km]();if(xe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(kA(t))return function dG(t){return new ze(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(PA(t))return function hG(t){return new ze(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,CA)})}(t);if(FA(t))return $A(t);if(UA(t))return function fG(t){return new ze(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(jA(t))return function pG(t){return $A(BA(t))}(t)}throw LA(t)}function $A(t){return new ze(e=>{(function gG(t,e){var n,r,i,s;return function xA(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=RA(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function si(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Pt(t,e,n=1/0){return xe(e)?Pt((r,i)=>me((s,o)=>e(r,s,i,o))(Un(t(r,i))),n):("number"==typeof e&&(n=e),yt((r,i)=>function mG(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let y=!1;Un(n(m,l++)).subscribe(ht(e,w=>{i?.(w),s?f(w):e.next(w)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const w=u.shift();o?si(e,o,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(ht(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Ho(t=1/0){return Pt(ji,t)}const Mr=new ze(t=>t.complete());function ey(t){return t[t.length-1]}function HA(t){return xe(ey(t))?t.pop():void 0}function Qu(t){return function _G(t){return t&&xe(t.schedule)}(ey(t))?t.pop():void 0}function ah(t,e=0){return yt((n,r)=>{n.subscribe(ht(r,i=>si(r,t,()=>r.next(i),e),()=>si(r,t,()=>r.complete(),e),i=>si(r,t,()=>r.error(i),e)))})}function uh(t,e=0){return yt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function GA(t,e){if(!t)throw new Error("Iterable cannot be null");return new ze(n=>{si(n,e,()=>{const r=t[Symbol.asyncIterator]();si(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Ct(t,e){return e?function bG(t,e){if(null!=t){if(OA(t))return function wG(t,e){return Un(t).pipe(uh(e),ah(e))}(t,e);if(kA(t))return function EG(t,e){return new ze(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(PA(t))return function IG(t,e){return Un(t).pipe(uh(e),ah(e))}(t,e);if(FA(t))return GA(t,e);if(UA(t))return function DG(t,e){return new ze(n=>{let r;return si(n,e,()=>{r=t[VA](),si(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>xe(r?.return)&&r.return()})}(t,e);if(jA(t))return function CG(t,e){return GA(BA(t),e)}(t,e)}throw LA(t)}(t,e):Un(t)}class Zn extends pr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Y(...t){return Ct(t,Qu(t))}function zA(t={}){const{connector:e=(()=>new pr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return yt((m,y)=>{c++,!d&&!l&&h();const w=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=ty(p,i))}),w.subscribe(y),!o&&c>0&&(o=new Ku({next:_=>w.next(_),error:_=>{d=!0,h(),a=ty(f,n,_),w.error(_)},complete:()=>{l=!0,h(),a=ty(f,r),w.complete()}}),Un(m).subscribe(o))})(s)}}function ty(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Ku({next:()=>{r.unsubscribe(),t()}});return Un(e(...n)).subscribe(r)}function Nr(t,e){return yt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(ht(r,u=>{i?.unsubscribe();let c=0;const l=s++;Un(t(u,l)).subscribe(i=ht(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function AG(t,e){return t===e}function De(t){for(let e in t)if(t[e]===De)return e;throw Error("Could not find renamed property on target object.")}function ch(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function _t(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(_t).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function ny(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const xG=De({__forward_ref__:De});function ke(t){return t.__forward_ref__=ke,t.toString=function(){return _t(this())},t}function Q(t){return ry(t)?t():t}function ry(t){return"function"==typeof t&&t.hasOwnProperty(xG)&&t.__forward_ref__===ke}function iy(t){return t&&!!t.\u0275providers}const qA="https://g.co/ng/security#xss";class A extends Error{constructor(e,n){super(function lh(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function X(t){return"string"==typeof t?t:null==t?"":String(t)}function sy(t,e){throw new A(-201,!1)}function er(t,e){null==t&&function q(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ot(t){return{providers:t.providers||[],imports:t.imports||[]}}function dh(t){return WA(t,fh)||WA(t,KA)}function WA(t,e){return t.hasOwnProperty(e)?t[e]:null}function hh(t){return t&&(t.hasOwnProperty(oy)||t.hasOwnProperty(LG))?t[oy]:null}const fh=De({\u0275prov:De}),oy=De({\u0275inj:De}),KA=De({ngInjectableDef:De}),LG=De({ngInjectorDef:De});var ae=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ae||{});let ay;function Sn(t){const e=ay;return ay=t,e}function YA(t,e,n){const r=dh(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ae.Optional?null:void 0!==e?e:void sy(_t(t))}const Pe=globalThis,Yu={},hy="__NG_DI_FLAG__",ph="ngTempTokenPath",BG=/\n/gm,XA="__source";let Go;function Hi(t){const e=Go;return Go=t,e}function HG(t,e=ae.Default){if(void 0===Go)throw new A(-203,!1);return null===Go?YA(t,void 0,e):Go.get(t,e&ae.Optional?null:void 0,e)}function G(t,e=ae.Default){return(function QA(){return ay}()||HG)(Q(t),e)}function V(t,e=ae.Default){return G(t,gh(e))}function gh(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function fy(t){const e=[];for(let n=0;n<t.length;n++){const r=Q(t[n]);if(Array.isArray(r)){if(0===r.length)throw new A(900,!1);let i,s=ae.Default;for(let o=0;o<r.length;o++){const a=r[o],u=GG(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(G(i,s))}else e.push(G(r))}return e}function Ju(t,e){return t[hy]=e,t.prototype[hy]=e,t}function GG(t){return t[hy]}function oi(t){return{toString:t}.toString()}var mh=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(mh||{}),gr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(gr||{});const Rr={},_e=[],yh=De({\u0275cmp:De}),py=De({\u0275dir:De}),gy=De({\u0275pipe:De}),ex=De({\u0275mod:De}),ai=De({\u0275fac:De}),Xu=De({__NG_ELEMENT_ID__:De}),tx=De({__NG_ENV_ID__:De});function nx(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function my(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];ix(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function rx(t){return 3===t||4===t||6===t}function ix(t){return 64===t.charCodeAt(0)}function Zu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||sx(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function sx(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const ox="ng-template";function WG(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==nx(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function ax(t){return 4===t.type&&t.value!==ox}function KG(t,e,n){return e===(4!==t.type||n?t.value:ox)}function QG(t,e,n){let r=4;const i=t.attrs||[],s=function XG(t){for(let e=0;e<t.length;e++)if(rx(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!KG(t,u,n)||""===u&&1===e.length){if(mr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!WG(t.attrs,c,n)){if(mr(r))return!1;o=!0}continue}const d=YG(8&r?"class":u,i,ax(t),n);if(-1===d){if(mr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==nx(f,c,0)||2&r&&c!==h){if(mr(r))return!1;o=!0}}}}else{if(!o&&!mr(r)&&!mr(u))return!1;if(o&&mr(u))continue;o=!1,r=u|1&r}}return mr(r)||o}function mr(t){return 0==(1&t)}function YG(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function ZG(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ux(t,e,n=!1){for(let r=0;r<e.length;r++)if(QG(t,e[r],n))return!0;return!1}function cx(t,e){return t?":not("+e.trim()+")":e}function t3(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!mr(o)&&(e+=cx(s,i),i=""),r=o,s=s||!mr(r);n++}return""!==i&&(e+=cx(s,i)),e}function tr(t){return oi(()=>{const e=dx(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===mh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||gr.Emulated,styles:t.styles||_e,_:null,schemas:t.schemas||null,tView:null,id:""};hx(n);const r=t.dependencies;return n.directiveDefs=_h(r,!1),n.pipeDefs=_h(r,!0),n.id=function c3(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function s3(t){return he(t)||Ft(t)}function o3(t){return null!==t}function Qt(t){return oi(()=>({type:t.type,bootstrap:t.bootstrap||_e,declarations:t.declarations||_e,imports:t.imports||_e,exports:t.exports||_e,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function lx(t,e){if(null==t)return Rr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function W(t){return oi(()=>{const e=dx(t);return hx(e),e})}function ln(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function he(t){return t[yh]||null}function Ft(t){return t[py]||null}function dn(t){return t[gy]||null}function jn(t,e){const n=t[ex]||null;if(!n&&!0===e)throw new Error(`Type ${_t(t)} does not have '\u0275mod' property.`);return n}function dx(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Rr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||_e,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:lx(t.inputs,e),outputs:lx(t.outputs)}}function hx(t){t.features?.forEach(e=>e(t))}function _h(t,e){if(!t)return null;const n=e?dn:s3;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(o3)}const Xe=0,O=1,re=2,qe=3,yr=4,ec=5,Yt=6,qo=7,st=8,Gi=9,Wo=10,Z=11,tc=12,fx=13,Ko=14,ot=15,nc=16,Qo=17,kr=18,rc=19,px=20,zi=21,ui=22,ic=23,sc=24,ue=25,yy=1,gx=2,Pr=7,Yo=9,Lt=11;function An(t){return Array.isArray(t)&&"object"==typeof t[yy]}function hn(t){return Array.isArray(t)&&!0===t[yy]}function _y(t){return 0!=(4&t.flags)}function Fs(t){return t.componentOffset>-1}function wh(t){return 1==(1&t.flags)}function _r(t){return!!t.template}function vy(t){return 0!=(512&t[re])}function Ls(t,e){return t.hasOwnProperty(ai)?t[ai]:null}let Vt=null,Ih=!1;function nr(t){const e=Vt;return Vt=t,e}const _x={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function wx(t){if(!ac(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Dx(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Ex(t){t.dirty=!0,function Ix(t){if(void 0===t.liveConsumerNode)return;const e=Ih;Ih=!0;try{for(const n of t.liveConsumerNode)n.dirty||Ex(n)}finally{Ih=e}}(t),t.consumerMarkedDirty?.(t)}function Iy(t){return t&&(t.nextProducerIndex=0),nr(t)}function Ey(t,e){if(nr(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(ac(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Eh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Dx(t){Jo(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(wx(n),r!==n.version))return!0}return!1}function Cx(t){if(Jo(t),ac(t))for(let e=0;e<t.producerNode.length;e++)Eh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Eh(t,e){if(function Tx(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Jo(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Eh(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Jo(i),i.producerIndexOfThis[r]=e}}function ac(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Jo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Sx=null;const Nx=()=>{},E3=(()=>({..._x,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Nx}))();class D3{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function $n(){return Rx}function Rx(t){return t.type.prototype.ngOnChanges&&(t.setInput=b3),C3}function C3(){const t=Px(this),e=t?.current;if(e){const n=t.previous;if(n===Rr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function b3(t,e,n,r){const i=this.declaredInputs[n],s=Px(t)||function T3(t,e){return t[kx]=e}(t,{previous:Rr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new D3(u&&u.currentValue,e,a===Rr),t[r]=e}$n.ngInherit=!0;const kx="__ngSimpleChanges__";function Px(t){return t[kx]||null}const Or=function(t,e,n){};function Oe(t){for(;Array.isArray(t);)t=t[Xe];return t}function Dh(t,e){return Oe(e[t])}function xn(t,e){return Oe(e[t.index])}function Lx(t,e){return t.data[e]}function Xo(t,e){return t[e]}function Hn(t,e){const n=e[t];return An(n)?n:n[Xe]}function Wi(t,e){return null==e?null:t[e]}function Vx(t){t[Qo]=0}function R3(t){1024&t[re]||(t[re]|=1024,Bx(t,1))}function Ux(t){1024&t[re]&&(t[re]&=-1025,Bx(t,-1))}function Bx(t,e){let n=t[qe];if(null===n)return;n[ec]+=e;let r=n;for(n=n[qe];null!==n&&(1===e&&1===r[ec]||-1===e&&0===r[ec]);)n[ec]+=e,r=n,n=n[qe]}const K={lFrame:Jx(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Hx(){return K.bindingsEnabled}function D(){return K.lFrame.lView}function fe(){return K.lFrame.tView}function Mn(t){return K.lFrame.contextLView=t,t[st]}function Nn(t){return K.lFrame.contextLView=null,t}function Ut(){let t=Gx();for(;null!==t&&64===t.type;)t=t.parent;return t}function Gx(){return K.lFrame.currentTNode}function Fr(t,e){const n=K.lFrame;n.currentTNode=t,n.isParent=e}function Sy(){return K.lFrame.isParent}function Ay(){K.lFrame.isParent=!1}function fn(){const t=K.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ea(){return K.lFrame.bindingIndex++}function li(t){const e=K.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function G3(t,e){const n=K.lFrame;n.bindingIndex=n.bindingRootIndex=t,xy(e)}function xy(t){K.lFrame.currentDirectiveIndex=t}function Ny(t){K.lFrame.currentQueryIndex=t}function q3(t){const e=t[O];return 2===e.type?e.declTNode:1===e.type?t[Yt]:null}function Qx(t,e,n){if(n&ae.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&ae.Host||(i=q3(s),null===i||(s=s[Ko],10&i.type))););if(null===i)return!1;e=i,t=s}const r=K.lFrame=Yx();return r.currentTNode=e,r.lView=t,!0}function Ry(t){const e=Yx(),n=t[O];K.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Yx(){const t=K.lFrame,e=null===t?null:t.child;return null===e?Jx(t):e}function Jx(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Xx(){const t=K.lFrame;return K.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Zx=Xx;function ky(){const t=Xx();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function pn(){return K.lFrame.selectedIndex}function Vs(t){K.lFrame.selectedIndex=t}function Qe(){const t=K.lFrame;return Lx(t.tView,t.selectedIndex)}let tM=!0;function Ch(){return tM}function Ki(t){tM=t}function bh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Th(t,e,n){nM(t,e,3,n)}function Sh(t,e,n,r){(3&t[re])===n&&nM(t,e,n,r)}function Py(t,e){let n=t[re];(3&n)===e&&(n&=8191,n+=1,t[re]=n)}function nM(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Qo]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Qo]+=65536),(a<s||-1==s)&&(ez(t,n,e,u),t[Qo]=(4294901760&t[Qo])+u+2),u++}function rM(t,e){Or(4,t,e);const n=nr(null);try{e.call(t)}finally{nr(n),Or(5,t,e)}}function ez(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[re]>>13<t[Qo]>>16&&(3&t[re])===e&&(t[re]+=8192,rM(a,s)):rM(a,s)}const ta=-1;class cc{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Fy(t){return t!==ta}function lc(t){return 32767&t}function dc(t,e){let n=function iz(t){return t>>16}(t),r=e;for(;n>0;)r=r[Ko],n--;return r}let Ly=!0;function Ah(t){const e=Ly;return Ly=t,e}const iM=255,sM=5;let sz=0;const Lr={};function xh(t,e){const n=oM(t,e);if(-1!==n)return n;const r=e[O];r.firstCreatePass&&(t.injectorIndex=e.length,Vy(r.data,t),Vy(e,null),Vy(r.blueprint,null));const i=Mh(t,e),s=t.injectorIndex;if(Fy(i)){const o=lc(i),a=dc(i,e),u=a[O].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Vy(t,e){t.push(0,0,0,0,0,0,0,0,e)}function oM(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Mh(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=fM(i),null===r)return ta;if(n++,i=i[Ko],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ta}function Uy(t,e,n){!function oz(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Xu)&&(r=n[Xu]),null==r&&(r=n[Xu]=sz++);const i=r&iM;e.data[t+(i>>sM)]|=1<<i}(t,e,n)}function aM(t,e,n){if(n&ae.Optional||void 0!==t)return t;sy()}function uM(t,e,n,r){if(n&ae.Optional&&void 0===r&&(r=null),!(n&(ae.Self|ae.Host))){const i=t[Gi],s=Sn(void 0);try{return i?i.get(e,r,n&ae.Optional):YA(e,r,n&ae.Optional)}finally{Sn(s)}}return aM(r,0,n)}function cM(t,e,n,r=ae.Default,i){if(null!==t){if(2048&e[re]&&!(r&ae.Self)){const o=function hz(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[re]&&!(512&o[re]);){const a=lM(s,o,n,r|ae.Self,Lr);if(a!==Lr)return a;let u=s.parent;if(!u){const c=o[px];if(c){const l=c.get(n,Lr,r);if(l!==Lr)return l}u=fM(o),o=o[Ko]}s=u}return i}(t,e,n,r,Lr);if(o!==Lr)return o}const s=lM(t,e,n,r,Lr);if(s!==Lr)return s}return uM(e,n,r,i)}function lM(t,e,n,r,i){const s=function cz(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Xu)?t[Xu]:void 0;return"number"==typeof e?e>=0?e&iM:dz:e}(n);if("function"==typeof s){if(!Qx(e,t,r))return r&ae.Host?aM(i,0,r):uM(e,n,r,i);try{let o;if(o=s(r),null!=o||r&ae.Optional)return o;sy()}finally{Zx()}}else if("number"==typeof s){let o=null,a=oM(t,e),u=ta,c=r&ae.Host?e[ot][Yt]:null;for((-1===a||r&ae.SkipSelf)&&(u=-1===a?Mh(t,e):e[a+8],u!==ta&&hM(r,!1)?(o=e[O],a=lc(u),e=dc(u,e)):a=-1);-1!==a;){const l=e[O];if(dM(s,a,l.data)){const d=uz(a,e,n,o,r,c);if(d!==Lr)return d}u=e[a+8],u!==ta&&hM(r,e[O].data[a+8]===c)&&dM(s,a,e)?(o=l,a=lc(u),e=dc(u,e)):a=-1}}return i}function uz(t,e,n,r,i,s){const o=e[O],a=o.data[t+8],l=function Nh(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&_r(f)&&f.type===n)return u}return null}(a,o,n,null==r?Fs(a)&&Ly:r!=o&&0!=(3&a.type),i&ae.Host&&s===a);return null!==l?Us(e,o,l,a):Lr}function Us(t,e,n,r){let i=t[n];const s=e.data;if(function tz(t){return t instanceof cc}(i)){const o=i;o.resolving&&function MG(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new A(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ie(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():X(t)}(s[n]));const a=Ah(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Sn(o.injectImpl):null;Qx(t,r,ae.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Z3(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Rx(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==c&&Sn(c),Ah(a),o.resolving=!1,Zx()}}return i}function dM(t,e,n){return!!(n[e+(t>>sM)]&1<<t)}function hM(t,e){return!(t&ae.Self||t&ae.Host&&e)}class gn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return cM(this._tNode,this._lView,e,gh(r),n)}}function dz(){return new gn(Ut(),D())}function Bt(t){return oi(()=>{const e=t.prototype.constructor,n=e[ai]||By(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[ai]||By(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function By(t){return ry(t)?()=>{const e=By(Q(t));return e&&e()}:Ls(t)}function fM(t){const e=t[O],n=e.type;return 2===n?e.declTNode:1===n?t[Yt]:null}const ra="__parameters__";function sa(t,e,n){return oi(()=>{const r=function jy(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(ra)?u[ra]:Object.defineProperty(u,ra,{value:[]})[ra];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function aa(t,e){t.forEach(n=>Array.isArray(n)?aa(n,e):e(n))}function gM(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function kh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Gn(t,e,n){let r=ua(t,e);return r>=0?t[1|r]=n:(r=~r,function vz(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function $y(t,e){const n=ua(t,e);if(n>=0)return t[1|n]}function ua(t,e){return function mM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const mn=Ju(sa("Optional"),8),Oh=Ju(sa("SkipSelf"),4);function Bh(t){return 128==(128&t.flags)}var Qi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Qi||{});const Bz=/^>|^->|<!--|-->|--!>|<!-$/g,jz=/(<|>)/g,$z="\u200b$1\u200b";const Wy=new Map;let Hz=0;const Qy="__ngContext__";function Jt(t,e){An(e)?(t[Qy]=e[rc],function zz(t){Wy.set(t[rc],t)}(e)):t[Qy]=e}let Yy;function Jy(t,e){return Yy(t,e)}function yc(t){const e=t[qe];return hn(e)?e[qe]:e}function FM(t){return VM(t[tc])}function LM(t){return VM(t[yr])}function VM(t){for(;null!==t&&!hn(t);)t=t[yr];return t}function da(t,e,n,r,i){if(null!=r){let s,o=!1;hn(r)?s=r:An(r)&&(o=!0,r=r[Xe]);const a=Oe(r);0===t&&null!==n?null==i?$M(e,n,a):Bs(e,n,a,i||null,!0):1===t&&null!==n?Bs(e,n,a,i||null,!0):2===t?function Wh(t,e,n){const r=zh(t,e);r&&function lq(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function fq(t,e,n,r,i){const s=n[Pr];s!==Oe(n)&&da(e,t,r,s,i);for(let a=Lt;a<n.length;a++){const u=n[a];vc(u[O],u,t,e,r,s)}}(e,t,s,n,i)}}function Xy(t,e){return t.createComment(function AM(t){return t.replace(Bz,e=>e.replace(jz,$z))}(e))}function Hh(t,e,n){return t.createElement(e,n)}function BM(t,e){const n=t[Yo],r=n.indexOf(e);Ux(e),n.splice(r,1)}function Gh(t,e){if(t.length<=Lt)return;const n=Lt+e,r=t[n];if(r){const i=r[nc];null!==i&&i!==t&&BM(i,r),e>0&&(t[n-1][yr]=r[yr]);const s=kh(t,Lt+e);!function nq(t,e){vc(t,e,e[Z],2,null,null),e[Xe]=null,e[Yt]=null}(r[O],r);const o=s[kr];null!==o&&o.detachView(s[O]),r[qe]=null,r[yr]=null,r[re]&=-129}return r}function Zy(t,e){if(!(256&e[re])){const n=e[Z];e[ic]&&Cx(e[ic]),e[sc]&&Cx(e[sc]),n.destroyNode&&vc(t,e,n,3,null,null),function sq(t){let e=t[tc];if(!e)return e_(t[O],t);for(;e;){let n=null;if(An(e))n=e[tc];else{const r=e[Lt];r&&(n=r)}if(!n){for(;e&&!e[yr]&&e!==t;)An(e)&&e_(e[O],e),e=e[qe];null===e&&(e=t),An(e)&&e_(e[O],e),n=e&&e[yr]}e=n}}(e)}}function e_(t,e){if(!(256&e[re])){e[re]&=-129,e[re]|=256,function cq(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof cc)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Or(4,a,u);try{u.call(a)}finally{Or(5,a,u)}}else{Or(4,i,s);try{s.call(i)}finally{Or(5,i,s)}}}}}(t,e),function uq(t,e){const n=t.cleanup,r=e[qo];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[qo]=null);const i=e[zi];if(null!==i){e[zi]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[O].type&&e[Z].destroy();const n=e[nc];if(null!==n&&hn(e[qe])){n!==e[qe]&&BM(n,e);const r=e[kr];null!==r&&r.detachView(t)}!function qz(t){Wy.delete(t[rc])}(e)}}function t_(t,e,n){return function jM(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Xe];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===gr.None||s===gr.Emulated)return null}return xn(r,n)}}(t,e.parent,n)}function Bs(t,e,n,r,i){t.insertBefore(e,n,r,i)}function $M(t,e,n){t.appendChild(e,n)}function HM(t,e,n,r,i){null!==r?Bs(t,e,n,r,i):$M(t,e,n)}function zh(t,e){return t.parentNode(e)}let n_,o_,Qh,qM=function zM(t,e,n){return 40&t.type?xn(t,n):null};function qh(t,e,n,r){const i=t_(t,r,e),s=e[Z],a=function GM(t,e,n){return qM(t,e,n)}(r.parent||e[Yt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)HM(s,i,n[u],a,!1);else HM(s,i,n,a,!1);void 0!==n_&&n_(s,r,e,n,i)}function _c(t,e){if(null!==e){const n=e.type;if(3&n)return xn(e,t);if(4&n)return r_(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return _c(t,r);{const i=t[e.index];return hn(i)?r_(-1,i):Oe(i)}}if(32&n)return Jy(e,t)()||Oe(t[e.index]);{const r=KM(t,e);return null!==r?Array.isArray(r)?r[0]:_c(yc(t[ot]),r):_c(t,e.next)}}return null}function KM(t,e){return null!==e?t[ot][Yt].projection[e.projection]:null}function r_(t,e){const n=Lt+t+1;if(n<e.length){const r=e[n],i=r[O].firstChild;if(null!==i)return _c(r,i)}return e[Pr]}function i_(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Jt(Oe(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)i_(t,e,n.child,r,i,s,!1),da(e,t,i,a,s);else if(32&u){const c=Jy(n,r);let l;for(;l=c();)da(e,t,i,l,s);da(e,t,i,a,s)}else 16&u?YM(t,e,r,n,i,s):da(e,t,i,a,s);n=o?n.projectionNext:n.next}}function vc(t,e,n,r,i,s){i_(n,r,t.firstChild,e,i,s,!1)}function YM(t,e,n,r,i,s){const o=n[ot],u=o[Yt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)da(e,t,i,u[c],s);else{let c=u;const l=o[qe];Bh(r)&&(c.flags|=128),i_(t,e,c,l,i,s,!0)}}function JM(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function XM(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&my(t,e,r),null!==i&&JM(t,e,i),null!==s&&function gq(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function t1(t){return function a_(){if(void 0===Qh&&(Qh=null,Pe.trustedTypes))try{Qh=Pe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Qh}()?.createScriptURL(t)||t}class n1{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qA})`}}function Yi(t){return t instanceof n1?t.changingThisBreaksApplicationSecurity:t}function wc(t,e){const n=function bq(t){return t instanceof n1&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${qA})`)}return n===e}const xq=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var pa=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(pa||{});function h_(t){const e=Ec();return e?e.sanitize(pa.URL,t)||"":wc(t,"URL")?Yi(t):function u_(t){return(t=String(t)).match(xq)?t:"unsafe:"+t}(X(t))}function c1(t){const e=Ec();if(e)return t1(e.sanitize(pa.RESOURCE_URL,t)||"");if(wc(t,"ResourceURL"))return t1(Yi(t));throw new A(904,!1)}function Ec(){const t=D();return t&&t[Wo].sanitizer}class U{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Dc=new U("ENVIRONMENT_INITIALIZER"),d1=new U("INJECTOR",-1),h1=new U("INJECTOR_DEF_TYPES");class f_{get(e,n=Yu){if(n===Yu){const r=new Error(`NullInjectorError: No provider for ${_t(e)}!`);throw r.name="NullInjectorError",r}return n}}function $q(...t){return{\u0275providers:p1(0,t),\u0275fromNgModule:!0}}function p1(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return aa(e,o=>{const a=o;Jh(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&g1(i,s),n}function g1(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];p_(i,s=>{e(s,r)})}}function Jh(t,e,n,r){if(!(t=Q(t)))return!1;let i=null,s=hh(t);const o=!s&&he(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=hh(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Jh(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{aa(s.imports,l=>{Jh(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&g1(c,e)}if(!a){const c=Ls(i)||(()=>new i);e({provide:i,useFactory:c,deps:_e},i),e({provide:h1,useValue:i,multi:!0},i),e({provide:Dc,useValue:()=>G(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const c=t;p_(u,l=>{e(l,c)})}}}return i!==t&&void 0!==t.providers}function p_(t,e){for(let n of t)iy(n)&&(n=n.\u0275providers),Array.isArray(n)?p_(n,e):e(n)}const Hq=De({provide:String,useValue:De});function g_(t){return null!==t&&"object"==typeof t&&Hq in t}function js(t){return"function"==typeof t}const m_=new U("Set Injector scope."),Xh={},zq={};let y_;function Zh(){return void 0===y_&&(y_=new f_),y_}class ir{}class ef extends ir{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,v_(e,o=>this.processProvider(o)),this.records.set(d1,ga(void 0,this)),i.has("environment")&&this.records.set(ir,ga(void 0,this));const s=this.records.get(m_);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(h1.multi,_e,ae.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Hi(this),r=Sn(void 0);try{return e()}finally{Hi(n),Sn(r)}}get(e,n=Yu,r=ae.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(tx))return e[tx](this);r=gh(r);const s=Hi(this),o=Sn(void 0);try{if(!(r&ae.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function Yq(t){return"function"==typeof t||"object"==typeof t&&t instanceof U}(e)&&dh(e);u=c&&this.injectableDefInScope(c)?ga(__(e),Xh):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&ae.Self?Zh():this.parent).get(e,n=r&ae.Optional&&n===Yu?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[ph]=a[ph]||[]).unshift(_t(e)),s)throw a;return function zG(t,e,n,r){const i=t[ph];throw e[XA]&&i.unshift(e[XA]),t.message=function qG(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=_t(e);if(Array.isArray(e))i=e.map(_t).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):_t(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(BG,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[ph]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Sn(o),Hi(s)}}resolveInjectorInitializers(){const e=Hi(this),n=Sn(void 0);try{const i=this.get(Dc.multi,_e,ae.Self);for(const s of i)s()}finally{Hi(e),Sn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(_t(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new A(205,!1)}processProvider(e){let n=js(e=Q(e))?e:Q(e&&e.provide);const r=function Wq(t){return g_(t)?ga(void 0,t.useValue):ga(_1(t),Xh)}(e);if(js(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ga(void 0,Xh,!0),i.factory=()=>fy(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Xh&&(n.value=zq,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Qq(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Q(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function __(t){const e=dh(t),n=null!==e?e.factory:Ls(t);if(null!==n)return n;if(t instanceof U)throw new A(204,!1);if(t instanceof Function)return function qq(t){const e=t.length;if(e>0)throw function pc(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new A(204,!1);const n=function FG(t){return t&&(t[fh]||t[KA])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new A(204,!1)}function _1(t,e,n){let r;if(js(t)){const i=Q(t);return Ls(i)||__(i)}if(g_(t))r=()=>Q(t.useValue);else if(function y1(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...fy(t.deps||[]));else if(function m1(t){return!(!t||!t.useExisting)}(t))r=()=>G(Q(t.useExisting));else{const i=Q(t&&(t.useClass||t.provide));if(!function Kq(t){return!!t.deps}(t))return Ls(i)||__(i);r=()=>new i(...fy(t.deps))}return r}function ga(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function v_(t,e){for(const n of t)Array.isArray(n)?v_(n,e):n&&iy(n)?v_(n.\u0275providers,e):e(n)}const tf=new U("AppId",{providedIn:"root",factory:()=>Jq}),Jq="ng",v1=new U("Platform Initializer"),Ji=new U("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),w1=new U("CSP nonce",{providedIn:"root",factory:()=>function fa(){if(void 0!==o_)return o_;if(typeof document<"u")return document;throw new A(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let I1=(t,e,n)=>null;function S_(t,e,n=!1){return I1(t,e,n)}class a6{}class C1{}class c6{resolveComponentFactory(e){throw function u6(t){const e=Error(`No component factory found for ${_t(t)}.`);return e.ngComponent=t,e}(e)}}let cf=(()=>{class t{static#e=this.NULL=new c6}return t})();function l6(){return _a(Ut(),D())}function _a(t,e){return new zn(xn(t,e))}let zn=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=l6}return t})();class T1{}let hi=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function h6(){const t=D(),n=Hn(Ut().index,t);return(An(n)?n:t)[Z]}()}return t})(),f6=(()=>{class t{static#e=this.\u0275prov=z({token:t,providedIn:"root",factory:()=>null})}return t})();class va{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const S1=new va("16.2.10"),M_={};function N1(t,e=null,n=null,r){const i=R1(t,e,n,r);return i.resolveInjectorInitializers(),i}function R1(t,e=null,n=null,r,i=new Set){const s=[n||_e,$q(t)];return r=r||("object"==typeof t?void 0:_t(t)),new ef(s,e||Zh(),r||null,i)}let Xt=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Yu;static#t=this.NULL=new f_;static create(n,r){if(Array.isArray(n))return N1({name:""},r,n,"");{const i=n.name??"";return N1({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=z({token:t,providedIn:"any",factory:()=>G(d1)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function R_(t){return t.ngOriginalError}class fi{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&R_(e);for(;n&&R_(n);)n=R_(n);return n||null}}function P_(t){return e=>{setTimeout(t,void 0,e)}}const Me=class w6 extends pr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=P_(s),i&&(i=P_(i)),o&&(o=P_(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Tn&&e.add(a),a}};function P1(...t){}class Ee{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Me(!1),this.onMicrotaskEmpty=new Me(!1),this.onStable=new Me(!1),this.onError=new Me(!1),typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function I6(){const t="function"==typeof Pe.requestAnimationFrame;let e=Pe[t?"requestAnimationFrame":"setTimeout"],n=Pe[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function C6(t){const e=()=>{!function D6(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Pe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,F_(t),t.isCheckStableRunning=!0,O_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),F_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function T6(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return O1(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),F1(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return O1(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),F1(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,F_(t),O_(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ee.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(Ee.isInAngularZone())throw new A(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,E6,P1,P1);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const E6={};function O_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function F_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function O1(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function F1(t){t._nesting--,O_(t)}class b6{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Me,this.onMicrotaskEmpty=new Me,this.onStable=new Me,this.onError=new Me}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const L1=new U("",{providedIn:"root",factory:V1});function V1(){const t=V(Ee);let e=!0;return function TG(...t){const e=Qu(t),n=function vG(t,e){return"number"==typeof ey(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Un(r[0]):Ho(n)(Ct(r,e)):Mr}(new ze(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new ze(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(zA()))}function pi(t){return t instanceof Function?t():t}let L_=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}return t})();function Tc(t){for(;t;){t[re]|=64;const e=yc(t);if(vy(t)&&!e)return t;t=e}return null}const H1=new U("",{providedIn:"root",factory:()=>!1});let df=null;function W1(t,e){return t[e]??Y1()}function K1(t,e){const n=Y1();n.producerNode?.length&&(t[e]=df,n.lView=t,df=Q1())}const F6={..._x,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Tc(t.lView)},lView:null};function Q1(){return Object.create(F6)}function Y1(){return df??=Q1(),df}const te={};function B(t){J1(fe(),D(),pn()+t,!1)}function J1(t,e,n,r){if(!r)if(3==(3&e[re])){const s=t.preOrderCheckHooks;null!==s&&Th(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Sh(e,s,0,n)}Vs(n)}function E(t,e=ae.Default){const n=D();return null===n?G(t,e):cM(Ut(),n,Q(t),e)}function hf(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[Xe]=i,d[re]=140|r,(null!==c||t&&2048&t[re])&&(d[re]|=2048),Vx(d),d[qe]=d[Ko]=t,d[st]=n,d[Wo]=o||t&&t[Wo],d[Z]=a||t&&t[Z],d[Gi]=u||t&&t[Gi]||null,d[Yt]=s,d[rc]=function Gz(){return Hz++}(),d[ui]=l,d[px]=c,d[ot]=2==e.type?t[ot]:d,d}function Ea(t,e,n,r,i){let s=t.data[e];if(null===s)s=function V_(t,e,n,r,i){const s=Gx(),o=Sy(),u=t.data[e]=function G6(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function Zo(){return null!==K.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function H3(){return K.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function uc(){const t=K.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Fr(s,!0),s}function Sc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Z1(t,e,n,r,i){const s=W1(e,ic),o=pn(),a=2&r;try{Vs(-1),a&&e.length>ue&&J1(t,e,ue,!1),Or(a?2:0,i);const c=a?s:null,l=Iy(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{Ey(c,l)}}finally{a&&null===e[ic]&&K1(e,ic),Vs(o),Or(a?3:1,i)}}function U_(t,e,n){if(_y(e)){const r=nr(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{nr(r)}}}function B_(t,e,n){Hx()&&(function J6(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Fs(n)&&function i5(t,e,n){const r=xn(e,t),i=eN(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=ff(t,hf(t,i,null,o,r,e,null,t[Wo].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||xh(n,e),Jt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Us(e,t,a,n);Jt(c,e),null!==o&&s5(0,a-i,c,u,0,o),_r(u)&&(Hn(n.index,e)[st]=Us(e,t,a,n))}}(t,e,n,xn(n,e)),64==(64&n.flags)&&sN(t,e,n))}function j_(t,e,n=xn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function eN(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=$_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function $_(t,e,n,r,i,s,o,a,u,c,l){const d=ue+r,h=d+i,f=function V6(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:te);return n}(d,h),p="function"==typeof c?c():c;return f[O]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let tN=t=>null;function nN(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?rN(n,e,i,s):r.hasOwnProperty(i)&&rN(n,e,r[i],s)}return n}function rN(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function qn(t,e,n,r,i,s,o,a){const u=xn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(W_(t,n,l,r,i),Fs(e)&&function W6(t,e){const n=Hn(e,t);16&n[re]||(n[re]|=64)}(n,e.index)):3&e.type&&(r=function q6(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function H_(t,e,n,r){if(Hx()){const i=null===r?null:{"":-1},s=function Z6(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(ux(e,o.selectors,!1))if(r||(r=[]),_r(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),G_(t,e,a.length)}else r.unshift(o),G_(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&iN(t,e,n,o,i,a),i&&function e5(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new A(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Zu(n.mergedAttrs,n.attrs)}function iN(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Uy(xh(n,e),t,r[c].type);!function n5(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Sc(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Zu(n.mergedAttrs,l.hostAttrs),r5(t,n,e,u,l),t5(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function z6(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=nN(d.inputs,l,u,h?h.inputs:null),c=nN(d.outputs,l,c,p);const m=null===u||null===o||ax(e)?null:o5(u,l,o);a.push(m)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function sN(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function z3(){return K.lFrame.currentDirectiveIndex}();try{Vs(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];xy(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&X6(u,c)}}finally{Vs(-1),xy(o)}}function X6(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function G_(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function t5(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;_r(e)&&(n[""]=t)}}function r5(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Ls(i.type)),o=new cc(s,_r(i),E);t.blueprint[r]=o,n[r]=o,function Q6(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function Y6(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Sc(t,n,i.hostVars,te),i)}function Vr(t,e,n,r,i,s){const o=xn(t,e);!function z_(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?X(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[Z],o,s,t.value,n,r,i)}function s5(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)oN(r,n,o[a++],o[a++],o[a++])}function oN(t,e,n,r,i){const s=nr(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{nr(s)}}function o5(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function aN(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function uN(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];Ny(n[r]),o.contentQueries(2,e[s],s)}}}function ff(t,e){return t[tc]?t[fx][yr]=e:t[tc]=e,t[fx]=e,e}function q_(t,e,n){Ny(0);const r=nr(null);try{e(t,n)}finally{nr(r)}}function hN(t,e){const n=t[Gi],r=n?n.get(fi,null):null;r&&r.handleError(e)}function W_(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];oN(t.data[o],e[o],r,a,i)}}function gi(t,e,n){const r=Dh(e,t);!function UM(t,e,n){t.setValue(e,n)}(t[Z],r,n)}function a5(t,e){const n=Hn(e,t),r=n[O];!function u5(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Xe];null!==i&&null===n[ui]&&(n[ui]=S_(i,n[Gi])),K_(r,n,n[st])}function K_(t,e,n){Ry(e);try{const r=t.viewQuery;null!==r&&q_(1,r,n);const i=t.template;null!==i&&Z1(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&uN(t,e),t.staticViewQueries&&q_(2,t.viewQuery,n);const s=t.components;null!==s&&function c5(t,e){for(let n=0;n<e.length;n++)a5(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[re]&=-5,ky()}}let fN=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function I3(t,e,n){const r=Object.create(E3);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>Ex(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Dx(r))return;r.hasRun=!0;const o=Iy(r);try{r.cleanupFn(),r.cleanupFn=Nx,r.fn(i)}finally{Ey(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}return t})();function pf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=ny(i,a):2==s&&(r=ny(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Ac(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(Oe(s)),hn(s)&&pN(s,r);const o=n.type;if(8&o)Ac(t,e,n.child,r);else if(32&o){const a=Jy(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=KM(e,n);if(Array.isArray(a))r.push(...a);else{const u=yc(e[ot]);Ac(u[O],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function pN(t,e){for(let n=Lt;n<t.length;n++){const r=t[n],i=r[O].firstChild;null!==i&&Ac(r[O],r,i,e)}t[Pr]!==t[Xe]&&e.push(t[Pr])}function gf(t,e,n,r=!0){const i=e[Wo],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{gN(t,e,t.template,n)}catch(u){throw r&&hN(e,u),u}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function gN(t,e,n,r){const i=e[re];if(256!=(256&i)){e[Wo].effectManager?.flush(),Ry(e);try{Vx(e),function qx(t){return K.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Z1(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Th(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Sh(e,c,0,null),Py(e,0)}if(function h5(t){for(let e=FM(t);null!==e;e=LM(e)){if(!e[gx])continue;const n=e[Yo];for(let r=0;r<n.length;r++){R3(n[r])}}}(e),mN(e,2),null!==t.contentQueries&&uN(t,e),o){const c=t.contentCheckHooks;null!==c&&Th(e,c)}else{const c=t.contentHooks;null!==c&&Sh(e,c,1),Py(e,1)}!function L6(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=W1(e,sc);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Vs(~s);else{const o=s,a=n[++i],u=n[++i];G3(a,o),r.dirty=!1;const c=Iy(r);try{u(2,e[o])}finally{Ey(r,c)}}}}finally{null===e[sc]&&K1(e,sc),Vs(-1)}}(t,e);const a=t.components;null!==a&&_N(e,a,0);const u=t.viewQuery;if(null!==u&&q_(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Th(e,c)}else{const c=t.viewHooks;null!==c&&Sh(e,c,2),Py(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[re]&=-73,Ux(e)}finally{ky()}}}function mN(t,e){for(let n=FM(t);null!==n;n=LM(n))for(let r=Lt;r<n.length;r++)yN(n[r],e)}function f5(t,e,n){yN(Hn(e,t),n)}function yN(t,e){if(!function M3(t){return 128==(128&t[re])}(t))return;const n=t[O],r=t[re];if(80&r&&0===e||1024&r||2===e)gN(n,t,n.template,t[st]);else if(t[ec]>0){mN(t,1);const i=n.components;null!==i&&_N(t,i,1)}}function _N(t,e,n){for(let r=0;r<e.length;r++)f5(t,e[r],n)}class xc{get rootNodes(){const e=this._lView,n=e[O];return Ac(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[st]}set context(e){this._lView[st]=e}get destroyed(){return 256==(256&this._lView[re])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[qe];if(hn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Gh(e,r),kh(n,r))}this._attachedToViewContainer=!1}Zy(this._lView[O],this._lView)}onDestroy(e){!function jx(t,e){if(256==(256&t[re]))throw new A(911,!1);null===t[zi]&&(t[zi]=[]),t[zi].push(e)}(this._lView,e)}markForCheck(){Tc(this._cdRefInjectingView||this._lView)}detach(){this._lView[re]&=-129}reattach(){this._lView[re]|=128}detectChanges(){gf(this._lView[O],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function iq(t,e){vc(t,e,e[Z],2,null,null)}(this._lView[O],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=e}}class p5 extends xc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;gf(e[O],e,e[st],!1)}checkNoChanges(){}get context(){return null}}class vN extends cf{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=he(e);return new Mc(n,this.ngModule)}}function wN(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class m5{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=gh(r);const i=this.injector.get(e,M_,r);return i!==M_||n===M_?i:this.parentInjector.get(e,n,r)}}class Mc extends C1{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=wN(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return wN(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function n3(t){return t.map(t3).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof ir?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new m5(e,s):e,a=o.get(T1,null);if(null===a)throw new A(407,!1);const d={rendererFactory:a,sanitizer:o.get(f6,null),effectManager:o.get(fN,null),afterRenderEventManager:o.get(L_,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function U6(t,e,n,r){const s=r.get(H1,!1)||n===gr.ShadowDom,o=t.selectRootElement(e,s);return function B6(t){tN(t)}(o),o}(h,r,this.componentDef.encapsulation,o):Hh(h,f,function g5(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),w=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=S_(p,o,!0));const S=$_(0,null,null,1,0,null,null,null,null,null,null),F=hf(null,S,null,w,null,null,d,h,o,null,_);let $,ne;Ry(F);try{const Re=this.componentDef;let cn,ii=null;Re.findHostDirectiveDefs?(cn=[],ii=new Map,Re.findHostDirectiveDefs(Re,cn,ii),cn.push(Re)):cn=[Re];const wA=function _5(t,e){const n=t[O],r=ue;return t[r]=e,Ea(n,r,2,"#host",null)}(F,p),vge=function v5(t,e,n,r,i,s,o){const a=i[O];!function w5(t,e,n,r){for(const i of t)e.mergedAttrs=Zu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(pf(e,e.mergedAttrs,!0),null!==n&&XM(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=S_(e,i[Gi]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=hf(i,eN(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&G_(a,t,r.length-1),ff(i,d),i[t.index]=d}(wA,p,Re,cn,F,d,h);ne=Lx(S,ue),p&&function E5(t,e,n,r){if(r)my(t,n,["ng-version",S1.full]);else{const{attrs:i,classes:s}=function r3(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!mr(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&my(t,n,i),s&&s.length>0&&JM(t,n,s.join(" "))}}(h,Re,p,r),void 0!==n&&function D5(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(ne,this.ngContentSelectors,n),$=function I5(t,e,n,r,i,s){const o=Ut(),a=i[O],u=xn(o,i);iN(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Jt(Us(i,a,o.directiveStart+l,o),i);sN(a,i,o),u&&Jt(u,i);const c=Us(i,a,o.directiveStart+o.componentOffset,o);if(t[st]=i[st]=c,null!==s)for(const l of s)l(c,e);return U_(a,o,t),c}(vge,Re,cn,ii,F,[C5]),K_(S,F,null)}finally{ky()}return new y5(this.componentType,$,_a(ne,F),F,ne)}}class y5 extends a6{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new p5(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;W_(s[O],s,i,e,n),this.previousInputValues.set(e,n),Tc(Hn(this._tNode.index,s))}}get injector(){return new gn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function C5(){const t=Ut();bh(D()[O],t)}function Ce(t){let e=function IN(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(_r(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new A(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=mf(t.inputs),o.inputTransforms=mf(t.inputTransforms),o.declaredInputs=mf(t.declaredInputs),o.outputs=mf(t.outputs);const a=i.hostBindings;a&&A5(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&T5(t,u),c&&S5(t,c),ch(t.inputs,i.inputs),ch(t.declaredInputs,i.declaredInputs),ch(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),ch(o.inputTransforms,i.inputTransforms)),_r(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Ce&&(n=!1)}}e=Object.getPrototypeOf(e)}!function b5(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Zu(i.hostAttrs,n=Zu(n,i.hostAttrs))}}(r)}function mf(t){return t===Rr?{}:t===_e?[]:t}function T5(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function S5(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function A5(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function bN(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function yf(t){return!!function Q_(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Ur(t,e,n){return t[e]=n}function Zt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function $s(t,e,n,r){const i=Zt(t,e,n);return Zt(t,e+1,r)||i}function vr(t,e,n,r){const i=D();return Zt(i,ea(),e)&&(fe(),Vr(Qe(),i,t,e,n,r)),vr}function Ca(t,e,n,r){return Zt(t,ea(),n)?e+X(n)+r:te}function ba(t,e,n,r,i,s){const a=$s(t,function ci(){return K.lFrame.bindingIndex}(),n,i);return li(2),a?e+X(n)+r+X(i)+s:te}function be(t,e,n,r,i,s,o,a){const u=D(),c=fe(),l=t+ue,d=c.firstCreatePass?function Z5(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Ea(e,t,4,o||null,Wi(c,a));H_(e,n,l,Wi(c,u)),bh(e,l);const d=l.tView=$_(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Fr(d,!1);const h=VN(c,u,d,t);Ch()&&qh(c,u,h,d),Jt(h,u),ff(u,u[l]=aN(h,u,h,d)),wh(d)&&B_(c,u,d),null!=o&&j_(u,d,a)}let VN=function UN(t,e,n,r){return Ki(!0),e[Z].createComment("")};function en(t){return Xo(function $3(){return K.lFrame.contextLView}(),ue+t)}function oe(t,e,n){const r=D();return Zt(r,ea(),e)&&qn(fe(),Qe(),r,t,e,r[Z],n,!1),oe}function tv(t,e,n,r,i){const o=i?"class":"style";W_(t,n,e.inputs[o],o,r)}function b(t,e,n,r){const i=D(),s=fe(),o=ue+t,a=i[Z],u=s.firstCreatePass?function r9(t,e,n,r,i,s){const o=e.consts,u=Ea(e,t,2,r,Wi(o,i));return H_(e,n,u,Wi(o,s)),null!==u.attrs&&pf(u,u.attrs,!1),null!==u.mergedAttrs&&pf(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=BN(s,i,u,a,e,t);i[o]=c;const l=wh(u);return Fr(u,!0),XM(a,c,u),32!=(32&u.flags)&&Ch()&&qh(s,i,c,u),0===function P3(){return K.lFrame.elementDepthCount}()&&Jt(c,i),function O3(){K.lFrame.elementDepthCount++}(),l&&(B_(s,i,u),U_(s,u,i)),null!==r&&j_(i,u),b}function C(){let t=Ut();Sy()?Ay():(t=t.parent,Fr(t,!1));const e=t;(function L3(t){return K.skipHydrationRootTNode===t})(e)&&function j3(){K.skipHydrationRootTNode=null}(),function F3(){K.lFrame.elementDepthCount--}();const n=fe();return n.firstCreatePass&&(bh(n,t),_y(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function nz(t){return 0!=(8&t.flags)}(e)&&tv(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function rz(t){return 0!=(16&t.flags)}(e)&&tv(n,e,D(),e.stylesWithoutHost,!1),C}function Fe(t,e,n,r){return b(t,e,n,r),C(),Fe}let BN=(t,e,n,r,i,s)=>(Ki(!0),Hh(r,i,function eM(){return K.lFrame.currentNamespace}()));function Ef(t,e,n){const r=D(),i=fe(),s=t+ue,o=i.firstCreatePass?function o9(t,e,n,r,i){const s=e.consts,o=Wi(s,r),a=Ea(e,t,8,"ng-container",o);return null!==o&&pf(a,o,!0),H_(e,n,a,Wi(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Fr(o,!0);const a=$N(i,r,o,t);return r[s]=a,Ch()&&qh(i,r,a,o),Jt(a,r),wh(o)&&(B_(i,r,o),U_(i,o,r)),null!=n&&j_(r,o),Ef}function Df(){let t=Ut();const e=fe();return Sy()?Ay():(t=t.parent,Fr(t,!1)),e.firstCreatePass&&(bh(e,t),_y(t)&&e.queries.elementEnd(t)),Df}let $N=(t,e,n,r)=>(Ki(!0),Xy(e[Z],""));function mi(){return D()}function Oc(t){return!!t&&"function"==typeof t.then}function HN(t){return!!t&&"function"==typeof t.subscribe}function Le(t,e,n,r){const i=D(),s=fe(),o=Ut();return function zN(t,e,n,r,i,s,o){const a=wh(r),c=t.firstCreatePass&&function lN(t){return t.cleanup||(t.cleanup=[])}(t),l=e[st],d=function cN(t){return t[qo]||(t[qo]=[])}(e);let h=!0;if(3&r.type||o){const m=xn(r,e),y=o?o(m):m,w=d.length,_=o?F=>o(Oe(F[r.index])):r.index;let S=null;if(!o&&a&&(S=function c9(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[qo],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==S)(S.__ngLastListenerFn__||S).__ngNextListenerFn__=s,S.__ngLastListenerFn__=s,h=!1;else{s=WN(r,e,l,s,!1);const F=n.listen(y,i,s);d.push(s,F),c&&c.push(i,_,w,w+1)}}else s=WN(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let y=0;y<m;y+=2){const $=e[p[y]][p[y+1]].subscribe(s),ne=d.length;d.push(s,$),c&&c.push(i,r.index,ne,-(ne+1))}}}(s,i,i[Z],o,t,e,r),Le}function qN(t,e,n,r){try{return Or(6,e,n),!1!==n(r)}catch(i){return hN(t,i),!1}finally{Or(7,e,n)}}function WN(t,e,n,r,i){return function s(o){if(o===Function)return r;Tc(t.componentOffset>-1?Hn(t.index,e):e);let u=qN(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=qN(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function le(t=1){return function W3(t){return(K.lFrame.contextLView=function K3(t,e){for(;t>0;)e=e[Ko],t--;return e}(t,K.lFrame.contextLView))[st]}(t)}function nv(t,e,n){return rv(t,"",e,"",n),nv}function rv(t,e,n,r,i){const s=D(),o=Ca(s,e,n,r);return o!==te&&qn(fe(),Qe(),s,t,o,s[Z],i,!1),rv}function Cf(t,e){return t<<17|e<<2}function Xi(t){return t>>17&32767}function iv(t){return 2|t}function Hs(t){return(131068&t)>>2}function sv(t,e){return-131069&t|e<<2}function ov(t){return 1|t}function nR(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Xi(s):Hs(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];_9(t[a],e)&&(u=!0,t[a+1]=r?ov(l):iv(l)),a=r?Xi(l):Hs(l)}u&&(t[n+1]=r?iv(s):ov(s))}function _9(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ua(t,e)>=0}function Zi(t,e){return function wr(t,e,n,r){const i=D(),s=fe(),o=li(2);s.firstUpdatePass&&function dR(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[pn()],o=function lR(t,e){return e>=t.expandoStartIndex}(t,n);(function gR(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function S9(t,e,n,r){const i=function My(t){const e=K.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Fc(n=av(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=av(i,t,e,n,r),null===s){let u=function A9(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Hs(r))return t[Xi(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=av(null,t,e,u[1],r),u=Fc(u,e.attrs,r),function x9(t,e,n,r){t[Xi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function M9(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Fc(r,t[s].hostAttrs,n);return Fc(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function m9(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Xi(o),u=Hs(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||ua(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=Xi(t[a+1]);t[r+1]=Cf(h,a),0!==h&&(t[h+1]=sv(t[h+1],r)),t[a+1]=function p9(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Cf(a,0),0!==a&&(t[a+1]=sv(t[a+1],r)),a=r;else t[r+1]=Cf(u,0),0===a?a=r:t[u+1]=sv(t[u+1],r),u=r;c&&(t[r+1]=iv(t[r+1])),nR(t,l,r,!0),nR(t,l,r,!1),function y9(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&ua(s,e)>=0&&(n[r+1]=ov(n[r+1]))}(e,l,t,r,s),o=Cf(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==te&&Zt(i,o,e)&&function fR(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function g9(t){return 1==(1&t)}(c)?pR(u,e,n,i,Hs(c),o):void 0;bf(l)||(bf(s)||function f9(t){return 2==(2&t)}(c)&&(s=pR(u,null,n,i,a,o)),function pq(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Qi.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Qi.Important),t.setStyle(n,r,i,s))}}(r,o,Dh(pn(),n),i,s))}(s,s.data[pn()],i,i[Z],t,i[o+1]=function P9(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=_t(Yi(t)))),t}(e,n),r,o)}(t,e,null,!0),Zi}function av(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Fc(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Fc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Gn(t,o,!!n||e[++s]))}return void 0===t?null:t}function pR(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===te&&(h=d?_e:void 0);let f=d?$y(h,r):l===r?h:void 0;if(c&&!bf(f)&&(f=$y(u,r)),bf(f)&&(a=f,o))return a;const p=t[i+1];i=o?Xi(p):Hs(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=$y(u,r))}return a}function bf(t){return void 0!==t}function M(t,e=""){const n=D(),r=fe(),i=t+ue,s=r.firstCreatePass?Ea(r,i,1,e,null):r.data[i],o=mR(r,n,s,e,t);n[i]=o,Ch()&&qh(r,n,o,s),Fr(s,!1)}let mR=(t,e,n,r,i)=>(Ki(!0),function $h(t,e){return t.createText(e)}(e[Z],r));function or(t){return Wn("",t,""),or}function Wn(t,e,n){const r=D(),i=Ca(r,t,e,n);return i!==te&&gi(r,pn(),i),Wn}function uv(t,e,n,r,i){const s=D(),o=ba(s,t,e,n,r,i);return o!==te&&gi(s,pn(),o),uv}const Gs=void 0;var nW=["en",[["a","p"],["AM","PM"],Gs],[["AM","PM"],Gs,Gs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Gs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Gs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Gs,"{1} 'at' {0}",Gs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function tW(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let ka={};function yn(t){const e=function rW(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=FR(e);if(n)return n;const r=e.split("-")[0];if(n=FR(r),n)return n;if("en"===r)return nW;throw new A(701,!1)}function FR(t){return t in ka||(ka[t]=Pe.ng&&Pe.ng.common&&Pe.ng.common.locales&&Pe.ng.common.locales[t]),ka[t]}var Ve=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ve||{});const Pa="en-US";let LR=Pa;function dv(t,e,n,r,i){if(t=Q(t),Array.isArray(t))for(let s=0;s<t.length;s++)dv(t[s],e,n,r,i);else{const s=fe(),o=D(),a=Ut();let u=js(t)?t:Q(t.provide);const c=_1(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(js(t)||!t.multi){const f=new cc(c,i,E),p=fv(u,e,i?l:l+h,d);-1===p?(Uy(xh(a,o),s,u),hv(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=fv(u,e,l+h,d),p=fv(u,e,l,l+h),y=p>=0&&n[p];if(i&&!y||!i&&!(f>=0&&n[f])){Uy(xh(a,o),s,u);const w=function t7(t,e,n,r,i){const s=new cc(t,n,E);return s.multi=[],s.index=e,s.componentProviders=0,uk(s,i,r&&!n),s}(i?e7:ZW,n.length,i,r,c);!i&&y&&(n[p].providerFactory=w),hv(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(w),o.push(w)}else hv(s,t,f>-1?f:p,uk(n[i?p:f],c,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function hv(t,e,n,r){const i=js(e),s=function Gq(t){return!!t.useClass}(e);if(i||s){const u=(s?Q(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function uk(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function fv(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ZW(t,e,n,r){return pv(this.multi,[])}function e7(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Us(n,n[O],this.providerFactory.index,r);s=a.slice(0,o),pv(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],pv(i,s);return s}function pv(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function We(t,e=[]){return n=>{n.providersResolver=(r,i)=>function XW(t,e,n){const r=fe();if(r.firstCreatePass){const i=_r(t);dv(n,r.data,r.blueprint,i,!0),dv(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class zs{}class ck{}class gv extends zs{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vN(this);const i=jn(e);this._bootstrapComponents=pi(i.bootstrap),this._r3Injector=R1(e,n,[{provide:zs,useValue:this},{provide:cf,useValue:this.componentFactoryResolver},...r],_t(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class mv extends ck{constructor(e){super(),this.moduleType=e}create(e){return new gv(this.moduleType,e,[])}}class lk extends zs{constructor(e){super(),this.componentFactoryResolver=new vN(this),this.instance=null;const n=new ef([...e.providers,{provide:zs,useValue:this},{provide:cf,useValue:this.componentFactoryResolver}],e.parent||Zh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function yv(t,e,n=null){return new lk({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let i7=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=p1(0,n.type),i=r.length>0?yv([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=z({token:t,providedIn:"environment",factory:()=>new t(G(ir))})}return t})();function dk(t){t.getStandaloneInjector=e=>e.get(i7).getOrCreateStandaloneInjector(t)}function $r(t,e,n){const r=fn()+t,i=D();return i[r]===te?Ur(i,r,n?e.call(n):e()):function Nc(t,e){return t[e]}(i,r)}function _k(t,e,n,r){return function wk(t,e,n,r,i,s){const o=e+n;return Zt(t,o,i)?Ur(t,o+1,s?r.call(s,i):r(i)):$c(t,o+1)}(D(),fn(),t,e,n,r)}function $c(t,e){const n=t[e];return n===te?void 0:n}function Ik(t,e,n,r,i,s,o){const a=e+n;return $s(t,a,i,s)?Ur(t,a+2,o?r.call(o,i,s):r(i,s)):$c(t,a+2)}function Hc(t,e){const n=fe();let r;const i=t+ue;n.firstCreatePass?(r=function w7(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Ls(r.type)),a=Sn(E);try{const u=Ah(!1),c=s();return Ah(u),function n9(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,D(),i,c),c}finally{Sn(a)}}function Gc(t,e,n,r){const i=t+ue,s=D(),o=Xo(s,i);return function zc(t,e){return t[O].data[e].pure}(s,i)?Ik(s,fn(),e,o.transform,n,r,o):o.transform(n,r)}function S7(t,e,n,r=!0){const i=e[O];if(function oq(t,e,n,r){const i=Lt+r,s=n.length;r>0&&(n[i-1][yr]=e),r<s-Lt?(e[yr]=n[i],gM(n,Lt+r,e)):(n.push(e),e[yr]=null),e[qe]=n;const o=e[nc];null!==o&&n!==o&&function aq(t,e){const n=t[Yo];e[ot]!==e[qe][qe][ot]&&(t[gx]=!0),null===n?t[Yo]=[e]:n.push(e)}(o,e);const a=e[kr];null!==a&&a.insertView(t),e[re]|=128}(i,e,t,n),r){const s=r_(n,t),o=e[Z],a=zh(o,t[Pr]);null!==a&&function rq(t,e,n,r,i,s){r[Xe]=i,r[Yt]=e,vc(t,r,n,1,i,s)}(i,t[Yt],o,e,a,s)}}Symbol;let yi=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=M7}return t})();const A7=yi,x7=class extends A7{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function T7(t,e,n,r){const i=e.tView,a=hf(t,i,n,4096&t[re]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[nc]=t[e.index];const c=t[kr];return null!==c&&(a[kr]=c.createEmbeddedView(i)),K_(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new xc(i)}};function M7(){return Mf(Ut(),D())}function Mf(t,e){return 4&t.type?new x7(e,t,_a(t,e)):null}let Er=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=F7}return t})();function F7(){return function Nk(t,e){let n;const r=e[t.index];return hn(r)?n=r:(n=aN(r,e,null,t),e[t.index]=n,ff(e,n)),Rk(n,e,t,r),new xk(n,t,e)}(Ut(),D())}const L7=Er,xk=class extends L7{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return _a(this._hostTNode,this._hostLView)}get injector(){return new gn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Mh(this._hostTNode,this._hostLView);if(Fy(e)){const n=dc(e,this._hostLView),r=lc(e);return new gn(n[O].data[r+8],n)}return new gn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=Mk(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Lt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function fc(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const u=o?e:new Mc(he(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const y=(o?c:this.parentInjector).get(ir,null);y&&(s=y)}he(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function N3(t){return hn(t[qe])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[qe],l=new xk(c,c[Yt],c[qe]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return S7(a,i,o,!r),e.attachToViewContainerRef(),gM(wv(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=Mk(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Gh(this._lContainer,n);r&&(kh(wv(this._lContainer),n),Zy(r[O],r))}detach(e){const n=this._adjustIndex(e,-1),r=Gh(this._lContainer,n);return r&&null!=kh(wv(this._lContainer),n)?new xc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Mk(t){return t[8]}function wv(t){return t[8]||(t[8]=[])}let Rk=function kk(t,e,n,r){if(t[Pr])return;let i;i=8&n.type?Oe(r):function V7(t,e){const n=t[Z],r=n.createComment(""),i=xn(e,t);return Bs(n,zh(n,i),r,function dq(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Pr]=i};function qc(t,e){return Mf(t,e)}const Nv=new U("Application Initializer");let Rv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=V(Nv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Oc(s))n.push(s);else if(HN(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),iP=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const _i=new U("LocaleId",{providedIn:"root",factory:()=>V(_i,ae.Optional|ae.SkipSelf)||function p8(){return typeof $localize<"u"&&$localize.locale||Pa}()}),g8=new U("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let sP=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Zn(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class y8{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let oP=(()=>{class t{compileModuleSync(n){return new mv(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=pi(jn(n).declarations).reduce((o,a)=>{const u=he(a);return u&&o.push(new Mc(u)),o},[]);return new y8(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const lP=new U(""),Pf=new U("");let Lv,Ov=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Lv||(function L8(t){Lv=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(G(Ee),G(Fv),G(Pf))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),Fv=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Lv?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),es=null;const dP=new U("AllowMultipleToken"),Vv=new U("PlatformDestroyListeners"),Uv=new U("appBootstrapListener");class fP{constructor(e,n){this.name=e,this.token=n}}function gP(t,e,n=[]){const r=`Platform: ${e}`,i=new U(r);return(s=[])=>{let o=Bv();if(!o||o.injector.get(dP,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function B8(t){if(es&&!es.get(dP,!1))throw new A(400,!1);(function hP(){!function m3(t){Sx=t}(()=>{throw new A(600,!1)})})(),es=t;const e=t.get(yP);(function pP(t){t.get(v1,null)?.forEach(n=>n())})(t)}(function mP(t=[],e){return Xt.create({name:e,providers:[{provide:m_,useValue:"platform"},{provide:Vv,useValue:new Set([()=>es=null])},...t]})}(a,r))}return function $8(t){const e=Bv();if(!e)throw new A(401,!1);return e}()}}function Bv(){return es?.get(yP)??null}let yP=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function H8(t="zone.js",e){return"noop"===t?new b6:"zone.js"===t?new Ee(e):t}(r?.ngZone,function _P(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function r7(t,e,n){return new gv(t,e,n)}(n.moduleType,this.injector,function DP(t){return[{provide:Ee,useFactory:t},{provide:Dc,multi:!0,useFactory:()=>{const e=V(z8,{optional:!0});return()=>e.initialize()}},{provide:EP,useFactory:G8},{provide:L1,useFactory:V1}]}(()=>i)),o=s.injector.get(fi,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{Of(this._modules,s),a.unsubscribe()})}),function vP(t,e,n){try{const r=n();return Oc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(Rv);return a.runInitializers(),a.donePromise.then(()=>(function VR(t){er(t,"Expected localeId to be defined"),"string"==typeof t&&(LR=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(_i,Pa)||Pa),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=wP({},r);return function V8(t,e,n){const r=new mv(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(La);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new A(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new A(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Vv,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(G(Xt))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function wP(t,e){return Array.isArray(e)?e.reduce(wP,t):{...t,...e}}let La=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=V(EP),this.zoneIsStable=V(L1),this.componentTypes=[],this.components=[],this.isStable=V(sP).hasPendingTasks.pipe(Nr(n=>n?Y(!1):this.zoneIsStable),function SG(t,e=ji){return t=t??AG,yt((n,r)=>{let i,s=!0;n.subscribe(ht(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),zA()),this._injector=V(ir)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof C1;if(!this._injector.get(Rv).done)throw!i&&function zo(t){const e=he(t)||Ft(t)||dn(t);return null!==e&&e.standalone}(n),new A(405,!1);let o;o=i?n:this._injector.get(cf).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function U8(t){return t.isBoundToModule}(o)?void 0:this._injector.get(zs),c=o.create(Xt.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(lP,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Of(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new A(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Of(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Uv,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Of(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new A(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Of(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const EP=new U("",{providedIn:"root",factory:()=>V(fi).handleError.bind(void 0)});function G8(){const t=V(Ee),e=V(fi);return n=>t.runOutsideAngular(()=>e.handleError(n))}let z8=(()=>{class t{constructor(){this.zone=V(Ee),this.applicationRef=V(La)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let Qc=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=W8}return t})();function W8(t){return function K8(t,e,n){if(Fs(t)&&!n){const r=Hn(t.index,e);return new xc(r,r)}return 47&t.type?new xc(e[ot],e):null}(Ut(),D(),16==(16&t))}class SP{constructor(){}supports(e){return yf(e)}create(e){return new eK(e)}}const Z8=(t,e)=>e;class eK{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Z8}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<xP(r,i,s)?n:r,a=xP(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!yf(e))throw new A(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function O5(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new tK(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new AP),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new AP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class tK{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nK{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class AP{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new nK,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xP(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function NP(){return new Vf([new SP])}let Vf=(()=>{class t{static#e=this.\u0275prov=z({token:t,providedIn:"root",factory:NP});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||NP()),deps:[[t,new Oh,new mn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new A(901,!1)}}return t})();const aK=gP(null,"core",[]);let uK=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(G(La))};static#t=this.\u0275mod=Qt({type:t});static#n=this.\u0275inj=Ot({})}return t})();function Va(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let qv=null;function ts(){return qv}class EK{}const ar=new U("DocumentToken");let Wv=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return V(CK)},providedIn:"platform"})}return t})();const DK=new U("Location Initialized");let CK=(()=>{class t extends Wv{constructor(){super(),this._doc=V(ar),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ts().getBaseHref(this._doc)}onPopState(n){const r=ts().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=ts().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function Kv(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function jP(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function vi(t){return t&&"?"!==t[0]?"?"+t:t}let Ws=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return V(HP)},providedIn:"root"})}return t})();const $P=new U("appBaseHref");let HP=(()=>{class t extends Ws{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V(ar).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Kv(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+vi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+vi(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+vi(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(G(Wv),G($P,8))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),bK=(()=>{class t extends Ws{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Kv(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+vi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+vi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(G(Wv),G($P,8))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),Qv=(()=>{class t{constructor(n){this._subject=new Me,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function AK(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(jP(GP(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+vi(r))}normalize(n){return t.stripTrailingSlash(function SK(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,GP(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=vi;static#t=this.joinWithSlash=Kv;static#n=this.stripTrailingSlash=jP;static#r=this.\u0275fac=function(r){return new(r||t)(G(Ws))};static#i=this.\u0275prov=z({token:t,factory:function(){return function TK(){return new Qv(G(Ws))}()},providedIn:"root"})}return t})();function GP(t){return t.replace(/\/index.html$/,"")}const zP={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Bf=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Bf||{}),at=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(at||{});function ur(t,e){const n=yn(t),r=n[Ve.NumberSymbols][e];if(typeof r>"u"){if(e===at.CurrencyDecimal)return n[Ve.NumberSymbols][at.Decimal];if(e===at.CurrencyGroup)return n[Ve.NumberSymbols][at.Group]}return r}function Yv(t,e){return yn(t)[Ve.NumberFormats][e]}const tQ=/^(\d+)?\.((\d+)(-(\d+))?)?$/,YP=22,Qf=".",Xc="0",nQ=";",rQ=",",ew="#";function tw(t,e,n,r,i,s,o=!1){let a="",u=!1;if(isFinite(t)){let c=function cQ(t){let r,i,s,o,a,e=Math.abs(t)+"",n=0;for((i=e.indexOf(Qf))>-1&&(e=e.replace(Qf,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===Xc;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Xc;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>YP&&(r=r.splice(0,YP-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);o&&(c=function uQ(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,d=e.minFrac,h=e.maxFrac;if(s){const _=s.match(tQ);if(null===_)throw new Error(`${s} is not a valid digit info`);const S=_[1],F=_[3],$=_[5];null!=S&&(l=rw(S)),null!=F&&(d=rw(F)),null!=$?h=rw($):null!=F&&d>h&&(h=d)}!function lQ(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=0!==s;const c=e+t.integerLen,l=r.reduceRight(function(d,h,f,p){return p[f]=(h+=d)<10?h:h-10,u&&(0===p[f]&&f>=c?p.pop():u=!1),h>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}(c,d,h);let f=c.digits,p=c.integerLen;const m=c.exponent;let y=[];for(u=f.every(_=>!_);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?y=f.splice(p,f.length):(y=f,f=[0]);const w=[];for(f.length>=e.lgSize&&w.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)w.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&w.unshift(f.join("")),a=w.join(ur(n,r)),y.length&&(a+=ur(n,i)+y.join("")),m&&(a+=ur(n,at.Exponential)+"+"+m)}else a=ur(n,at.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}function nw(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(nQ),i=r[0],s=r[1],o=-1!==i.indexOf(Qf)?i.split(Qf):[i.substring(0,i.lastIndexOf(Xc)+1),i.substring(i.lastIndexOf(Xc)+1)],a=o[0],u=o[1]||"";n.posPre=a.substring(0,a.indexOf(ew));for(let l=0;l<u.length;l++){const d=u.charAt(l);d===Xc?n.minFrac=n.maxFrac=l+1:d===ew?n.maxFrac=l+1:n.posSuf+=d}const c=a.split(rQ);if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const l=i.length-n.posPre.length-n.posSuf.length,d=s.indexOf(ew);n.negPre=s.substring(0,d).replace(/'/g,""),n.negSuf=s.slice(d+l).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function rw(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class gQ{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ow=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new gQ(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),tO(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{tO(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(E(Er),E(yi),E(Vf))};static#t=this.\u0275dir=W({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function tO(t,e){t.context.$implicit=e.item}let Zc=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new mQ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){nO("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){nO("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(E(Er),E(yi))};static#t=this.\u0275dir=W({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class mQ{constructor(){this.$implicit=null,this.ngIf=null}}function nO(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${_t(e)}'.`)}function Cr(t,e){return new A(2100,!1)}let sO=(()=>{class t{constructor(n){this._locale=n}transform(n,r,i){if(!cw(n))return null;i=i||this._locale;try{return function aQ(t,e,n){return tw(t,nw(Yv(e,Bf.Decimal),ur(e,at.MinusSign)),e,at.Group,at.Decimal,n)}(lw(n),i,r)}catch(s){throw Cr()}}static#e=this.\u0275fac=function(r){return new(r||t)(E(_i,16))};static#t=this.\u0275pipe=ln({name:"number",type:t,pure:!0,standalone:!0})}return t})(),oO=(()=>{class t{constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",s,o){if(!cw(n))return null;o=o||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function UK(t,e,n="en"){const r=function OK(t){return yn(t)[Ve.Currencies]}(n)[t]||zP[t]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||t}(a,"symbol"===i?"wide":"narrow",o):i);try{return function sQ(t,e,n,r,i){const o=nw(Yv(e,Bf.Currency),ur(e,at.MinusSign));return o.minFrac=function jK(t){let e;const n=zP[t];return n&&(e=n[2]),"number"==typeof e?e:2}(r),o.maxFrac=o.minFrac,tw(t,o,e,at.CurrencyGroup,at.CurrencyDecimal,i).replace("\xa4",n).replace("\xa4","").trim()}(lw(n),o,a,r,s)}catch(u){throw Cr()}}static#e=this.\u0275fac=function(r){return new(r||t)(E(_i,16),E(g8,16))};static#t=this.\u0275pipe=ln({name:"currency",type:t,pure:!0,standalone:!0})}return t})();function cw(t){return!(null==t||""===t||t!=t)}function lw(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}let Yf=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Qt({type:t});static#n=this.\u0275inj=Ot({})}return t})();function uO(t){return"server"===t}let $Q=(()=>{class t{static#e=this.\u0275prov=z({token:t,providedIn:"root",factory:()=>new HQ(G(ar),window)})}return t})();class HQ{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function GQ(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class pY extends EK{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fw extends pY{static makeCurrent(){!function IK(t){qv||(qv=t)}(new fw)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function gY(){return tl=tl||document.querySelector("base"),tl?tl.getAttribute("href"):null}();return null==n?null:function mY(t){Zf=Zf||document.createElement("a"),Zf.setAttribute("href",t);const e=Zf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){tl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function hQ(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Zf,tl=null,_Y=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();const pw=new U("EventManagerPlugins");let fO=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new A(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(G(pw),G(Ee))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();class pO{constructor(e){this._doc=e}}const gw="ng-app-id";let gO=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=uO(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${gw}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(gw),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(gw,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(G(ar),G(tf),G(w1,8),G(Ji))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();const mw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},yw=/%COMP%/g,EY=new U("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function yO(t,e){return e.map(n=>n.replace(yw,t))}let _O=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=uO(a),this.defaultRenderer=new _w(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===gr.ShadowDom&&(r={...r,encapsulation:gr.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof wO?i.applyToHost(n):i instanceof vw&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case gr.Emulated:s=new wO(u,c,r,this.appId,l,o,a,d);break;case gr.ShadowDom:return new TY(u,c,n,r,o,a,this.nonce,d);default:s=new vw(u,c,r,l,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(G(fO),G(gO),G(tf),G(EY),G(ar),G(Ji),G(Ee),G(w1))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();class _w{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(mw[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(vO(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(vO(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new A(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=mw[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=mw[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Qi.DashCase|Qi.Important)?e.style.setProperty(n,r,i&Qi.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Qi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=ts().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function vO(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class TY extends _w{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=yO(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class vw extends _w{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?yO(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class wO extends vw{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function DY(t){return"_ngcontent-%COMP%".replace(yw,t)}(c),this.hostAttr=function CY(t){return"_nghost-%COMP%".replace(yw,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let SY=(()=>{class t extends pO{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(G(ar))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();const IO=["alt","control","meta","shift"],AY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xY={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let MY=(()=>{class t extends pO{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ts().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),IO.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=AY[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),IO.forEach(o=>{o!==i&&(0,xY[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(G(ar))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();const DO=[{provide:Ji,useValue:"browser"},{provide:v1,useValue:function NY(){fw.makeCurrent()},multi:!0},{provide:ar,useFactory:function kY(){return function vq(t){o_=t}(document),document},deps:[]}],PY=gP(aK,"browser",DO),OY=new U(""),CO=[{provide:Pf,useClass:class yY{addToWindow(e){Pe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new A(5103,!1);return s},Pe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Pe.getAllAngularRootElements=()=>e.getAllRootElements(),Pe.frameworkStabilizers||(Pe.frameworkStabilizers=[]),Pe.frameworkStabilizers.push(r=>{const i=Pe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?ts().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:lP,useClass:Ov,deps:[Ee,Fv,Pf]},{provide:Ov,useClass:Ov,deps:[Ee,Fv,Pf]}],bO=[{provide:m_,useValue:"root"},{provide:fi,useFactory:function RY(){return new fi},deps:[]},{provide:pw,useClass:SY,multi:!0,deps:[ar,Ee,Ji]},{provide:pw,useClass:MY,multi:!0,deps:[ar]},_O,gO,fO,{provide:T1,useExisting:_O},{provide:class zQ{},useClass:_Y,deps:[]},[]];let FY=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:tf,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(G(OY,12))};static#t=this.\u0275mod=Qt({type:t});static#n=this.\u0275inj=Ot({providers:[...bO,...CO],imports:[Yf,uK]})}return t})(),TO=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(G(ar))};static#t=this.\u0275prov=z({token:t,factory:function(r){let i=null;return i=r?new r:function VY(){return new TO(G(ar))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;const{isArray:GY}=Array,{getPrototypeOf:zY,prototype:qY,keys:WY}=Object;function MO(t){if(1===t.length){const e=t[0];if(GY(e))return{args:e,keys:null};if(function KY(t){return t&&"object"==typeof t&&zY(t)===qY}(e)){const n=WY(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:QY}=Array;function NO(t){return me(e=>function YY(t,e){return QY(e)?t(...e):t(e)}(t,e))}function RO(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Iw(...t){const e=Qu(t),n=HA(t),{args:r,keys:i}=MO(t);if(0===r.length)return Ct([],e);const s=new ze(function JY(t,e,n=ji){return r=>{kO(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)kO(e,()=>{const c=Ct(t[u],e);let l=!1;c.subscribe(ht(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>RO(i,o):ji));return n?s.pipe(NO(n)):s}function kO(t,e,n){t?si(n,t,e):e()}const ep=Wu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ew(...t){return function XY(){return Ho(1)}()(Ct(t,Qu(t)))}function PO(t){return new ze(e=>{Un(t()).subscribe(e)})}function nl(t,e){const n=xe(t)?t:()=>t,r=i=>i.error(n());return new ze(e?i=>e.schedule(r,0,i):r)}function Dw(){return yt((t,e)=>{let n=null;t._refCount++;const r=ht(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class OO extends ze{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,AA(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Tn;const n=this.getSubject();e.add(this.source.subscribe(ht(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Tn.EMPTY)}return e}refCount(){return Dw()(this)}}function Ks(t){return t<=0?()=>Mr:yt((e,n)=>{let r=0;e.subscribe(ht(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function rs(t,e){return yt((n,r)=>{let i=0;n.subscribe(ht(r,s=>t.call(e,s,i++)&&r.next(s)))})}function tp(t){return yt((e,n)=>{let r=!1;e.subscribe(ht(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function FO(t=eJ){return yt((e,n)=>{let r=!1;e.subscribe(ht(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function eJ(){return new ep}function Qs(t,e){const n=arguments.length>=2;return r=>r.pipe(t?rs((i,s)=>t(i,s,r)):ji,Ks(1),n?tp(e):FO(()=>new ep))}function rl(t,e){return xe(e)?Pt(t,e,1):Pt(t,1)}function jt(t,e,n){const r=xe(t)||e||n?{next:t,error:e,complete:n}:t;return r?yt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ht(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ji}function Ys(t){return yt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(ht(n,void 0,void 0,o=>{s=Un(t(o,Ys(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Cw(t){return t<=0?()=>Mr:yt((e,n)=>{let r=[];e.subscribe(ht(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function bw(t){return yt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ie="primary",il=Symbol("RouteTitle");class oJ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ba(t){return new oJ(t)}function aJ(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Hr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!LO(t[i],e[i]))return!1;return!0}function LO(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function VO(t){return t.length>0?t[t.length-1]:null}function is(t){return function HY(t){return!!t&&(t instanceof ze||xe(t.lift)&&xe(t.subscribe))}(t)?t:Oc(t)?Ct(Promise.resolve(t)):Y(t)}const cJ={exact:function jO(t,e,n){if(!Js(t.segments,e.segments)||!np(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!jO(t.children[r],e.children[r],n))return!1;return!0},subset:$O},UO={exact:function lJ(t,e){return Hr(t,e)},subset:function dJ(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>LO(t[n],e[n]))},ignored:()=>!0};function BO(t,e,n){return cJ[n.paths](t.root,e.root,n.matrixParams)&&UO[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function $O(t,e,n){return HO(t,e,e.segments,n)}function HO(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Js(i,n)||e.hasChildren()||!np(i,n,r))}if(t.segments.length===n.length){if(!Js(t.segments,n)||!np(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!$O(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Js(t.segments,i)&&np(t.segments,i,r)&&t.children[ie])&&HO(t.children[ie],e,s,r)}}function np(t,e,n){return e.every((r,i)=>UO[n](t[i].parameters,r.parameters))}class ja{constructor(e=new Te([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ba(this.queryParams)),this._queryParamMap}toString(){return pJ.serialize(this)}}class Te{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rp(this)}}class sl{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ba(this.parameters)),this._parameterMap}toString(){return qO(this)}}function Js(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let ol=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return new Tw},providedIn:"root"})}return t})();class Tw{parse(e){const n=new bJ(e);return new ja(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${al(e.root,!0)}`,r=function yJ(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${ip(n)}=${ip(i)}`).join("&"):`${ip(n)}=${ip(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function gJ(t){return encodeURI(t)}(e.fragment)}`:""}`}}const pJ=new Tw;function rp(t){return t.segments.map(e=>qO(e)).join("/")}function al(t,e){if(!t.hasChildren())return rp(t);if(e){const n=t.children[ie]?al(t.children[ie],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ie&&r.push(`${i}:${al(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function fJ(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ie&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ie&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ie?[al(t.children[ie],!1)]:[`${i}:${al(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ie]?`${rp(t)}/${n[0]}`:`${rp(t)}/(${n.join("//")})`}}function GO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ip(t){return GO(t).replace(/%3B/gi,";")}function Sw(t){return GO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sp(t){return decodeURIComponent(t)}function zO(t){return sp(t.replace(/\+/g,"%20"))}function qO(t){return`${Sw(t.path)}${function mJ(t){return Object.keys(t).map(e=>`;${Sw(e)}=${Sw(t[e])}`).join("")}(t.parameters)}`}const _J=/^[^\/()?;#]+/;function Aw(t){const e=t.match(_J);return e?e[0]:""}const vJ=/^[^\/()?;=#]+/,IJ=/^[^=?&#]+/,DJ=/^[^&#]+/;class bJ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ie]=new Te(e,n)),r}parseSegment(){const e=Aw(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(e),new sl(sp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function wJ(t){const e=t.match(vJ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Aw(this.remaining);i&&(r=i,this.capture(r))}e[sp(n)]=sp(r)}parseQueryParam(e){const n=function EJ(t){const e=t.match(IJ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function CJ(t){const e=t.match(DJ);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=zO(n),s=zO(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Aw(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new A(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ie);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ie]:new Te([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new A(4011,!1)}}function WO(t){return t.segments.length>0?new Te([],{[ie]:t}):t}function KO(t){const e={};for(const r of Object.keys(t.children)){const s=KO(t.children[r]);if(r===ie&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function TJ(t){if(1===t.numberOfChildren&&t.children[ie]){const e=t.children[ie];return new Te(t.segments.concat(e.segments),e.children)}return t}(new Te(t.segments,e))}function Xs(t){return t instanceof ja}function QO(t){let e;const i=WO(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new Te(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function YO(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return xw(i,i,i,n,r);const s=function AJ(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new XO(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new XO(n,e,r)}(e);if(s.toRoot())return xw(i,i,new Te([],{}),n,r);const o=function xJ(t,e,n){if(t.isAbsolute)return new ap(e,!0,0);if(!n)return new ap(e,!1,NaN);if(null===n.parent)return new ap(n,!0,0);const r=op(t.commands[0])?0:1;return function MJ(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new A(4005,!1);i=r.segments.length}return new ap(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?cl(o.segmentGroup,o.index,s.commands):ZO(o.segmentGroup,o.index,s.commands);return xw(i,o.segmentGroup,a,n,r)}function op(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ul(t){return"object"==typeof t&&null!=t&&t.outlets}function xw(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:JO(t,e,n);const a=WO(KO(o));return new ja(a,s,i)}function JO(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:JO(s,e,n)}),new Te(t.segments,r)}class XO{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&op(r[0]))throw new A(4003,!1);const i=r.find(ul);if(i&&i!==VO(r))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ap{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function ZO(t,e,n){if(t||(t=new Te([],{})),0===t.segments.length&&t.hasChildren())return cl(t,e,n);const r=function RJ(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(ul(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!tF(u,c,o))return s;r+=2}else{if(!tF(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Te(t.segments.slice(0,r.pathIndex),{});return s.children[ie]=new Te(t.segments.slice(r.pathIndex),t.children),cl(s,0,i)}return r.match&&0===i.length?new Te(t.segments,{}):r.match&&!t.hasChildren()?Mw(t,e,n):r.match?cl(t,0,i):Mw(t,e,n)}function cl(t,e,n){if(0===n.length)return new Te(t.segments,{});{const r=function NJ(t){return ul(t[0])?t[0].outlets:{[ie]:t}}(n),i={};if(Object.keys(r).some(s=>s!==ie)&&t.children[ie]&&1===t.numberOfChildren&&0===t.children[ie].segments.length){const s=cl(t.children[ie],e,n);return new Te(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=ZO(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Te(t.segments,i)}}function Mw(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(ul(s)){const u=kJ(s.outlets);return new Te(r,u)}if(0===i&&op(n[0])){r.push(new sl(t.segments[e].path,eF(n[0]))),i++;continue}const o=ul(s)?s.outlets[ie]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&op(a)?(r.push(new sl(o,eF(a))),i+=2):(r.push(new sl(o,{})),i++)}return new Te(r,{})}function kJ(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=Mw(new Te([],{}),0,r))}),e}function eF(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function tF(t,e,n){return t==n.path&&Hr(e,n.parameters)}const ll="imperative";class Gr{constructor(e,n){this.id=e,this.url=n}}class up extends Gr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ss extends Gr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class dl extends Gr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $a extends Gr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class cp extends Gr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nF extends Gr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PJ extends Gr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class OJ extends Gr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class FJ extends Gr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LJ extends Gr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VJ{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class UJ{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class BJ{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jJ{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $J{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HJ{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rF{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Nw{}class Rw{constructor(e){this.url=e}}class GJ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new hl,this.attachRef=null}}let hl=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new GJ,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class iF{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=kw(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=kw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Pw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Pw(e,this._root).map(n=>n.value)}}function kw(t,e){if(t===e.value)return e;for(const n of e.children){const r=kw(t,n);if(r)return r}return null}function Pw(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Pw(t,n);if(r.length)return r.unshift(e),r}return[]}class Ei{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ha(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class sF extends iF{constructor(e,n){super(e),this.snapshot=n,Ow(this,e)}toString(){return this.snapshot.toString()}}function oF(t,e){const n=function zJ(t,e){const o=new lp([],{},{},"",{},ie,e,null,{});return new uF("",new Ei(o,[]))}(0,e),r=new Zn([new sl("",{})]),i=new Zn({}),s=new Zn({}),o=new Zn({}),a=new Zn(""),u=new Zs(r,i,o,a,s,ie,e,n.root);return u.snapshot=n.root,new sF(new Ei(u,[]),n)}class Zs{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(me(c=>c[il]))??Y(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(me(e=>Ba(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(me(e=>Ba(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function aF(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function qJ(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class lp{get title(){return this.data?.[il]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ba(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ba(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class uF extends iF{constructor(e,n){super(n),this.url=e,Ow(this,n)}toString(){return cF(this._root)}}function Ow(t,e){e.value._routerState=t,e.children.forEach(n=>Ow(t,n))}function cF(t){const e=t.children.length>0?` { ${t.children.map(cF).join(", ")} } `:"";return`${t.value}${e}`}function Fw(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Hr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Hr(e.params,n.params)||t.paramsSubject.next(n.params),function uJ(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Hr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Hr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Lw(t,e){const n=Hr(t.params,e.params)&&function hJ(t,e){return Js(t,e)&&t.every((n,r)=>Hr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Lw(t.parent,e.parent))}let Vw=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ie,this.activateEvents=new Me,this.deactivateEvents=new Me,this.attachEvents=new Me,this.detachEvents=new Me,this.parentContexts=V(hl),this.location=V(Er),this.changeDetector=V(Qc),this.environmentInjector=V(ir),this.inputBinder=V(dp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new A(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new WJ(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=W({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[$n]})}return t})();class WJ{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Zs?this.route:e===hl?this.childContexts:this.parent.get(e,n)}}const dp=new U("");let lF=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=Iw([r.queryParams,r.params,r.data]).pipe(Nr(([s,o,a],u)=>(a={...s,...o,...a},0===u?Y(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function wK(t){const e=he(t);if(!e)return null;const n=new Mc(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();function fl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function QJ(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return fl(t,r,i);return fl(t,r)})}(t,e,n);return new Ei(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>fl(t,a)),o}}const r=function YJ(t){return new Zs(new Zn(t.url),new Zn(t.params),new Zn(t.queryParams),new Zn(t.fragment),new Zn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>fl(t,s));return new Ei(r,i)}}const Uw="ngNavigationCancelingError";function dF(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Xs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=hF(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function hF(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Uw]=!0,r.cancellationCode=e,n&&(r.url=n),r}function fF(t){return t&&t[Uw]}let pF=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=tr({type:t,selectors:[["ng-component"]],standalone:!0,features:[dk],decls:1,vars:0,template:function(r,i){1&r&&Fe(0,"router-outlet")},dependencies:[Vw],encapsulation:2})}return t})();function Bw(t){const e=t.children&&t.children.map(Bw),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ie&&(n.component=pF),n}function br(t){return t.outlet||ie}function pl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class iX{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Fw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Ha(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ha(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ha(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Ha(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new HJ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new jJ(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Fw(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Fw(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=pl(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class gF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class hp{constructor(e,n){this.component=e,this.route=n}}function sX(t,e,n){const r=t._root;return gl(r,e?e._root:null,n,[r.value])}function Ga(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function OG(t){return null!==dh(t)}(t)?e.get(t):t:r}function gl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ha(e);return t.children.forEach(o=>{(function aX(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function uX(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Js(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Js(t.url,e.url)||!Hr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lw(t,e)||!Hr(t.queryParams,e.queryParams);default:return!Lw(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new gF(r)):(s.data=o.data,s._resolvedData=o._resolvedData),gl(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new hp(a.outlet.component,o))}else o&&ml(e,a,i),i.canActivateChecks.push(new gF(r)),gl(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ml(a,n.getContext(o),i)),i}function ml(t,e,n){const r=Ha(t),i=t.value;Object.entries(r).forEach(([s,o])=>{ml(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new hp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function yl(t){return"function"==typeof t}function mF(t){return t instanceof ep||"EmptyError"===t?.name}const fp=Symbol("INITIAL_VALUE");function za(){return Nr(t=>Iw(t.map(e=>e.pipe(Ks(1),function ZY(...t){const e=Qu(t);return yt((n,r)=>{(e?Ew(t,n,e):Ew(t,n)).subscribe(r)})}(fp)))).pipe(me(e=>{for(const n of e)if(!0!==n){if(n===fp)return fp;if(!1===n||n instanceof ja)return n}return!0}),rs(e=>e!==fp),Ks(1)))}function yF(t){return Qm(jt(e=>{if(Xs(e))throw dF(0,e)}),me(e=>!0===e))}class pp{constructor(e){this.segmentGroup=e||null}}class _F{constructor(e){this.urlTree=e}}function qa(t){return nl(new pp(t))}function vF(t){return nl(new _F(t))}class AX{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new A(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Y(r);if(i.numberOfChildren>1||!i.children[ie])return nl(new A(4e3,!1));i=i.children[ie]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new ja(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Te(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new A(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const jw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xX(t,e,n,r,i){const s=$w(t,e,n);return s.matched?(r=function XJ(t,e){return t.providers&&!t._injector&&(t._injector=yv(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function bX(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Y(i.map(o=>{const a=Ga(o,t);return is(function pX(t){return t&&yl(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(za(),yF()):Y(!0)}(r,e,n).pipe(me(o=>!0===o?s:{...jw}))):Y(s)}function $w(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...jw}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||aJ)(n,t,e);if(!i)return{...jw};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function wF(t,e,n,r){return n.length>0&&function RX(t,e,n){return n.some(r=>gp(t,e,r)&&br(r)!==ie)}(t,n,r)?{segmentGroup:new Te(e,NX(r,new Te(n,t.children))),slicedSegments:[]}:0===n.length&&function kX(t,e,n){return n.some(r=>gp(t,e,r))}(t,n,r)?{segmentGroup:new Te(t.segments,MX(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Te(t.segments,t.children),slicedSegments:n}}function MX(t,e,n,r,i){const s={};for(const o of r)if(gp(t,n,o)&&!i[br(o)]){const a=new Te([],{});s[br(o)]=a}return{...i,...s}}function NX(t,e){const n={};n[ie]=e;for(const r of t)if(""===r.path&&br(r)!==ie){const i=new Te([],{});n[br(r)]=i}return n}function gp(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class LX{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new AX(this.urlSerializer,this.urlTree)}noMatchError(e){return new A(4002,!1)}recognize(){const e=wF(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ie).pipe(Ys(n=>{if(n instanceof _F)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof pp?this.noMatchError(n):n}),me(n=>{const r=new lp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ie,this.rootComponentType,null,{}),i=new Ei(r,n),s=new uF("",i),o=function SJ(t,e,n=null,r=null){return YO(QO(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ie).pipe(Ys(r=>{throw r instanceof pp?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=aF(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Ct(i).pipe(rl(s=>{const o=r.children[s],a=function nX(t,e){const n=t.filter(r=>br(r)===e);return n.push(...t.filter(r=>br(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function nJ(t,e){return yt(function tJ(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(ht(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),tp(null),function rJ(t,e){const n=arguments.length>=2;return r=>r.pipe(t?rs((i,s)=>t(i,s,r)):ji,Cw(1),n?tp(e):FO(()=>new ep))}(),Pt(s=>{if(null===s)return qa(r);const o=IF(s);return function VX(t){t.sort((e,n)=>e.value.outlet===ie?-1:n.value.outlet===ie?1:e.value.outlet.localeCompare(n.value.outlet))}(o),Y(o)}))}processSegment(e,n,r,i,s,o){return Ct(n).pipe(rl(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Ys(u=>{if(u instanceof pp)return Y(null);throw u}))),Qs(a=>!!a),Ys(a=>{if(mF(a))return function OX(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?Y([]):qa(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function PX(t,e,n,r){return!!(br(t)===r||r!==ie&&gp(e,n,t))&&("**"===t.path||$w(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):qa(i):qa(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?vF(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Pt(o=>{const a=new Te(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=$w(n,i,s);if(!a)return qa(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?vF(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Pt(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?VO(i).parameters:{};a=Y({snapshot:new lp(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,EF(r),br(r),r.component??r._loadedComponent??null,r,DF(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=xX(n,r,i,e).pipe(me(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new lp(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,EF(r),br(r),r.component??r._loadedComponent??null,r,DF(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(Nr(u=>null===u?qa(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Nr(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:m}=wF(n,h,f,c);if(0===m.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(me(w=>null===w?null:[new Ei(d,w)]));if(0===c.length&&0===m.length)return Y([new Ei(d,[])]);const y=br(r)===s;return this.processSegment(l,c,p,m,y?ie:s,!0).pipe(me(w=>[new Ei(d,w)]))}))))}getChildConfig(e,n,r){return n.children?Y({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Y({routes:n._loadedRoutes,injector:n._loadedInjector}):function CX(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Y(!0):Y(i.map(o=>{const a=Ga(o,t);return is(function lX(t){return t&&yl(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(za(),yF())}(e,n,r).pipe(Pt(i=>i?this.configLoader.loadChildren(e,n).pipe(jt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function SX(t){return nl(hF(!1,3))}())):Y({routes:[],injector:e})}}function UX(t){const e=t.value.routeConfig;return e&&""===e.path}function IF(t){const e=[],n=new Set;for(const r of t){if(!UX(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=IF(r.children);e.push(new Ei(r.value,i))}return e.filter(r=>!n.has(r))}function EF(t){return t.data||{}}function DF(t){return t.resolve||{}}function CF(t){return"string"==typeof t.title||null===t.title}function Hw(t){return Nr(e=>{const n=t(e);return n?Ct(n).pipe(me(()=>e)):Y(e)})}const Wa=new U("ROUTES");let Gw=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=V(oP)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Y(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=is(n.loadComponent()).pipe(me(bF),jt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),bw(()=>{this.componentLoaders.delete(n)})),i=new OO(r,()=>new pr).pipe(Dw());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Y({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function qX(t,e,n,r){return is(t.loadChildren()).pipe(me(bF),Pt(i=>i instanceof ck||Array.isArray(i)?Y(i):Ct(e.compileModuleAsync(i))),me(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(Wa,[],{optional:!0,self:!0}).flat()),{routes:o.map(Bw),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(bw(()=>{this.childrenLoaders.delete(r)})),o=new OO(s,()=>new pr).pipe(Dw());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bF(t){return function WX(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let mp=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new pr,this.transitionAbortSubject=new pr,this.configLoader=V(Gw),this.environmentInjector=V(ir),this.urlSerializer=V(ol),this.rootContexts=V(hl),this.inputBindingEnabled=null!==V(dp,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new UJ(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new VJ(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new Zn({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ll,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(rs(s=>0!==s.id),me(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),Nr(s=>{this.currentTransition=s;let o=!1,a=!1;return Y(s).pipe(jt(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Nr(u=>{const c=u.currentBrowserUrl.toString(),l=!n.navigated||u.extractedUrl.toString()!==c||c!==u.currentUrlTree.toString();if(!l&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new $a(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),Mr}if(n.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Y(u).pipe(Nr(h=>{const f=this.transitions?.getValue();return this.events.next(new up(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Mr:Promise.resolve(h)}),function BX(t,e,n,r,i,s){return Pt(o=>function FX(t,e,n,r,i,s,o="emptyOnly"){return new LX(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(me(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),jt(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new nF(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:y}=u,w=new up(h,this.urlSerializer.serialize(f),p,m);this.events.next(w);const _=oF(0,this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:_,urlAfterRedirects:f,extras:{...y,skipLocationChange:!1,replaceUrl:!1}},Y(s)}{const h="";return this.events.next(new $a(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),Mr}}),jt(u=>{const c=new PJ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),me(u=>(this.currentTransition=s={...u,guards:sX(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function mX(t,e){return Pt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Y({...n,guardsResult:!0}):function yX(t,e,n,r){return Ct(t).pipe(Pt(i=>function DX(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Y(s.map(a=>{const u=pl(e)??i,c=Ga(a,u);return is(function fX(t){return t&&yl(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Qs())})).pipe(za()):Y(!0)}(i.component,i.route,n,e,r)),Qs(i=>!0!==i,!0))}(o,r,i,t).pipe(Pt(a=>a&&function cX(t){return"boolean"==typeof t}(a)?function _X(t,e,n,r){return Ct(e).pipe(rl(i=>Ew(function wX(t,e){return null!==t&&e&&e(new BJ(t)),Y(!0)}(i.route.parent,r),function vX(t,e){return null!==t&&e&&e(new $J(t)),Y(!0)}(i.route,r),function EX(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function oX(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>PO(()=>Y(o.guards.map(u=>{const c=pl(o.node)??n,l=Ga(u,c);return is(function hX(t){return t&&yl(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Qs())})).pipe(za())));return Y(s).pipe(za())}(t,i.path,n),function IX(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Y(!0);const i=r.map(s=>PO(()=>{const o=pl(e)??n,a=Ga(s,o);return is(function dX(t){return t&&yl(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Qs())}));return Y(i).pipe(za())}(t,i.route,n))),Qs(i=>!0!==i,!0))}(r,s,t,e):Y(a)),me(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),jt(u=>{if(s.guardsResult=u.guardsResult,Xs(u.guardsResult))throw dF(0,u.guardsResult);const c=new OJ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),rs(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),Hw(u=>{if(u.guards.canActivateChecks.length)return Y(u).pipe(jt(c=>{const l=new FJ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Nr(c=>{let l=!1;return Y(c).pipe(function jX(t,e){return Pt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Y(n);let s=0;return Ct(i).pipe(rl(o=>function $X(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!CF(i)&&(s[il]=i.title),function HX(t,e,n,r){const i=function GX(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Y({});const s={};return Ct(i).pipe(Pt(o=>function zX(t,e,n,r){const i=pl(e)??r,s=Ga(t,i);return is(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Qs(),jt(a=>{s[o]=a}))),Cw(1),function iJ(t){return me(()=>t)}(s),Ys(o=>mF(o)?Mr:nl(o)))}(s,t,e,r).pipe(me(o=>(t._resolvedData=o,t.data=aF(t,n).resolve,i&&CF(i)&&(t.data[il]=i.title),null)))}(o.route,r,t,e)),jt(()=>s++),Cw(1),Pt(o=>s===i.length?Y(n):Mr))})}(n.paramsInheritanceStrategy,this.environmentInjector),jt({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(c,"",2)}}))}),jt(c=>{const l=new LJ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}))}),Hw(u=>{const c=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(jt(h=>{l.component=h}),me(()=>{})));for(const h of l.children)d.push(...c(h));return d};return Iw(c(u.targetSnapshot.root)).pipe(tp(),Ks(1))}),Hw(()=>this.afterPreactivation()),me(u=>{const c=function KJ(t,e,n){const r=fl(t,e._root,n?n._root:void 0);return new sF(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:c},s}),jt(()=>{this.events.next(new Nw)}),((t,e,n,r)=>me(i=>(new iX(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Ks(1),jt({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ss(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),n.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),function sJ(t){return yt((e,n)=>{Un(t).subscribe(ht(n,()=>n.complete(),Hm)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(jt(u=>{throw u}))),bw(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Ys(u=>{if(a=!0,fF(u))this.events.next(new dl(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function JJ(t){return fF(t)&&Xs(t.url)}(u)?this.events.next(new Rw(u.url)):s.resolve(!1);else{this.events.next(new cp(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(u))}catch(c){s.reject(c)}}return Mr}))}))}cancelNavigationTransition(n,r,i){const s=new dl(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function TF(t){return t!==ll}let SF=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ie);return r}getResolvedTitleForRoute(n){return n.data[il]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return V(KX)},providedIn:"root"})}return t})(),KX=(()=>{class t extends SF{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(G(TO))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),QX=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return V(JX)},providedIn:"root"})}return t})();class YX{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let JX=(()=>{class t extends YX{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Bt(t)))(i||t)}}();static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const yp=new U("",{providedIn:"root",factory:()=>({})});let XX=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return V(ZX)},providedIn:"root"})}return t})(),ZX=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var _l=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(_l||{});function AF(t,e){t.events.pipe(rs(n=>n instanceof ss||n instanceof dl||n instanceof cp||n instanceof $a),me(n=>n instanceof ss||n instanceof $a?_l.COMPLETE:n instanceof dl&&(0===n.code||1===n.code)?_l.REDIRECTING:_l.FAILED),rs(n=>n!==_l.REDIRECTING),Ks(1)).subscribe(()=>{e()})}function eZ(t){throw t}function tZ(t,e,n){return e.parse("/")}const nZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bt=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=V(iP),this.isNgZoneEnabled=!1,this._events=new pr,this.options=V(yp,{optional:!0})||{},this.pendingTasks=V(sP),this.errorHandler=this.options.errorHandler||eZ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||tZ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=V(XX),this.routeReuseStrategy=V(QX),this.titleStrategy=V(SF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=V(Wa,{optional:!0})?.flat()??[],this.navigationTransitions=V(mp),this.urlSerializer=V(ol),this.location=V(Qv),this.componentInputBindingEnabled=!!V(dp,{optional:!0}),this.eventsSubscription=new Tn,this.isNgZoneEnabled=V(Ee)instanceof Ee&&Ee.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ja,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=oF(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(xF(r)&&this._events.next(r));if(r instanceof up)TF(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof $a)this.rawUrlTree=i.rawUrl;else if(r instanceof nF){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof Nw)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof dl)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof Rw){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||TF(i.source)};this.scheduleNavigation(s,ll,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof cp&&this.restoreHistory(i,!0),r instanceof ss&&(this.navigated=!0),xF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ll,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Bw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=QO(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return YO(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Xs(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,ll,null,r)}navigate(n,r={skipLocationChange:!1}){return function iZ(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new A(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...nZ}:!1===r?{...rZ}:r,Xs(n))return BO(this.currentUrlTree,n,i);const s=this.parseUrl(n);return BO(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return AF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function xF(t){return!(t instanceof Nw||t instanceof Rw)}let os=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new pr,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof ss&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function l1(t,e,n){return function jq(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?c1:h_}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(E(bt),E(Zs),function Rh(t){return function az(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(rx(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Ut(),t)}("tabindex"),E(hi),E(zn),E(Ws))};static#t=this.\u0275dir=W({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Le("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&vr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Va],skipLocationChange:["skipLocationChange","skipLocationChange",Va],replaceUrl:["replaceUrl","replaceUrl",Va],routerLink:"routerLink"},standalone:!0,features:[bN,$n]})}return t})();class MF{}let aZ=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(rs(n=>n instanceof ss),rl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=yv(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Ct(i).pipe(Ho())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Y(null);const s=i.pipe(Pt(o=>null===o?Y(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?Ct([s,this.loader.loadComponent(r)]).pipe(Ho()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(G(bt),G(oP),G(ir),G(MF),G(Gw))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const zw=new U("");let NF=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof up?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ss?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof $a&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof rF&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new rF(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function X1(){throw new Error("invalid")}()};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();function Di(t,e){return{\u0275kind:t,\u0275providers:e}}function kF(){const t=V(Xt);return e=>{const n=t.get(La);if(e!==n.components[0])return;const r=t.get(bt),i=t.get(PF);1===t.get(qw)&&r.initialNavigation(),t.get(OF,null,ae.Optional)?.setUpPreloading(),t.get(zw,null,ae.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const PF=new U("",{factory:()=>new pr}),qw=new U("",{providedIn:"root",factory:()=>1}),OF=new U("");function dZ(t){return Di(0,[{provide:OF,useExisting:aZ},{provide:MF,useExisting:t}])}const FF=new U("ROUTER_FORROOT_GUARD"),fZ=[Qv,{provide:ol,useClass:Tw},bt,hl,{provide:Zs,useFactory:function RF(t){return t.routerState.root},deps:[bt]},Gw,[]];function pZ(){return new fP("Router",bt)}let LF=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[fZ,[],{provide:Wa,multi:!0,useValue:n},{provide:FF,useFactory:_Z,deps:[[bt,new mn,new Oh]]},{provide:yp,useValue:r||{}},r?.useHash?{provide:Ws,useClass:bK}:{provide:Ws,useClass:HP},{provide:zw,useFactory:()=>{const t=V($Q),e=V(Ee),n=V(yp),r=V(mp),i=V(ol);return n.scrollOffset&&t.setOffset(n.scrollOffset),new NF(i,r,t,e,n)}},r?.preloadingStrategy?dZ(r.preloadingStrategy).\u0275providers:[],{provide:fP,multi:!0,useFactory:pZ},r?.initialNavigation?vZ(r):[],r?.bindToComponentInputs?Di(8,[lF,{provide:dp,useExisting:lF}]).\u0275providers:[],[{provide:VF,useFactory:kF},{provide:Uv,multi:!0,useExisting:VF}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Wa,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(G(FF,8))};static#t=this.\u0275mod=Qt({type:t});static#n=this.\u0275inj=Ot({})}return t})();function _Z(t){return"guarded"}function vZ(t){return["disabled"===t.initialNavigation?Di(3,[{provide:Nv,multi:!0,useFactory:()=>{const e=V(bt);return()=>{e.setUpLocationChangeListener()}}},{provide:qw,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Di(2,[{provide:qw,useValue:0},{provide:Nv,multi:!0,deps:[Xt],useFactory:e=>{const n=e.get(DK,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(bt),s=e.get(PF);AF(i,()=>{r(!0)}),e.get(mp).afterPreactivation=()=>(r(!0),s.closed?Y(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const VF=new U("");function UF(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){UF(s,r,i,o,a,"next",u)}function a(u){UF(s,r,i,o,a,"throw",u)}o(void 0)})}}const BF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Kw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new CZ;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class CZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _p=function(t){return function(t){const e=BF(t);return Kw.encodeByteArray(e,!0)}(t).replace(/\./g,"")},vp=function(t){try{return Kw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},wp=()=>{try{return function SZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vp(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},$F=t=>{var e,n;return null===(n=null===(e=wp())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},HF=()=>{var t;return null===(t=wp())||void 0===t?void 0:t.config},GF=t=>{var e;return null===(e=wp())||void 0===e?void 0:e[`_${t}`]};class Ip{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Tt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Qw(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function eo(){try{return"object"==typeof indexedDB}catch{return!1}}function vl(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function Yw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class lr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zr.prototype.create)}}class zr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function VZ(t,e){return t.replace(UZ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new lr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const UZ=/\{\$([^}]+)}/g;function Dp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(qF(s)&&qF(o)){if(!Dp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function qF(t){return null!==t&&"object"==typeof t}function wl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Il(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function El(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class $Z{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function HZ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Jw),void 0===i.error&&(i.error=Jw),void 0===i.complete&&(i.complete=Jw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jw(){}const GZ=1e3,zZ=2,qZ=144e5,WZ=.5;function Zw(t,e=GZ,n=zZ){const r=e*Math.pow(n,t),i=Math.round(WZ*r*(Math.random()-.5)*2);return Math.min(qZ,r+i)}function It(t){return t&&t._delegate?t._delegate:t}class tn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const to="[DEFAULT]";class QZ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ip;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function JZ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:to})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=to){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=to){return this.instances.has(e)}getOptions(e=to){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===to?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=to){return this.component?this.component.multipleInstances?e:to:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class XZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new QZ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const eI=[];var ye=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ye||{});const WF={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},ZZ=ye.INFO,eee={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},tee=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=eee[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ka{constructor(e){this.name=e,this._logLevel=ZZ,this._logHandler=tee,this._userLogHandler=null,eI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?WF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const nee=(t,e)=>e.some(n=>t instanceof n);let KF,QF;const YF=new WeakMap,tI=new WeakMap,JF=new WeakMap,nI=new WeakMap,rI=new WeakMap;let iI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return tI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||JF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return as(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function cee(t){return"function"==typeof t?function uee(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function iee(){return QF||(QF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(sI(this),e),as(YF.get(this))}:function(...e){return as(t.apply(sI(this),e))}:function(e,...n){const r=t.call(sI(this),e,...n);return JF.set(r,e.sort?e.sort():[e]),as(r)}}(t):(t instanceof IDBTransaction&&function oee(t){if(tI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});tI.set(t,e)}(t),nee(t,function ree(){return KF||(KF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,iI):t)}function as(t){if(t instanceof IDBRequest)return function see(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(as(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&YF.set(n,t)}).catch(()=>{}),rI.set(e,t),e}(t);if(nI.has(t))return nI.get(t);const e=cee(t);return e!==t&&(nI.set(t,e),rI.set(e,t)),e}const sI=t=>rI.get(t),dee=["get","getKey","getAll","getAllKeys","count"],hee=["put","add","delete","clear"],oI=new Map;function XF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(oI.get(e))return oI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!dee.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return oI.set(e,s),s}!function aee(t){iI=t(iI)}(t=>({...t,get:(e,n,r)=>XF(e,n)||t.get(e,n,r),has:(e,n)=>!!XF(e,n)||t.has(e,n)}));class fee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function pee(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const aI="@firebase/app",no=new Ka("@firebase/app"),Cp="[DEFAULT]",Bee={[aI]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ro=new Map,bp=new Map;function jee(t,e){try{t.container.addComponent(e)}catch(n){no.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wn(t){const e=t.name;if(bp.has(e))return no.debug(`There were multiple attempts to register component ${e}.`),!1;bp.set(e,t);for(const n of ro.values())jee(n,t);return!0}function Qa(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Ci=new zr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Hee{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new tn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ci.create("app-deleted",{appName:this._name})}}const io="9.23.0";function eL(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Cp,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ci.create("bad-app-name",{appName:String(i)});if(n||(n=HF()),!n)throw Ci.create("no-options");const s=ro.get(i);if(s){if(Dp(n,s.options)&&Dp(r,s.config))return s;throw Ci.create("duplicate-app",{appName:i})}const o=new XZ(i);for(const u of bp.values())o.addComponent(u);const a=new Hee(n,r,o);return ro.set(i,a),a}function uI(t=Cp){const e=ro.get(t);if(!e&&t===Cp&&HF())return eL();if(!e)throw Ci.create("no-app",{appName:t});return e}function tL(){return Array.from(ro.values())}function et(t,e,n){var r;let i=null!==(r=Bee[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void no.warn(a.join(" "))}wn(new tn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Gee="firebase-heartbeat-database",zee=1,Dl="firebase-heartbeat-store";let lI=null;function nL(){return lI||(lI=function lee(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=as(o);return r&&o.addEventListener("upgradeneeded",u=>{r(as(o.result),u.oldVersion,u.newVersion,as(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(Gee,zee,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Dl)}}).catch(t=>{throw Ci.create("idb-open",{originalErrorMessage:t.message})})),lI}function dI(){return(dI=g(function*(t){try{return yield(yield nL()).transaction(Dl).objectStore(Dl).get(iL(t))}catch(e){if(e instanceof lr)no.warn(e.message);else{const n=Ci.create("idb-get",{originalErrorMessage:e?.message});no.warn(n.message)}}})).apply(this,arguments)}function rL(t,e){return hI.apply(this,arguments)}function hI(){return(hI=g(function*(t,e){try{const r=(yield nL()).transaction(Dl,"readwrite");yield r.objectStore(Dl).put(e,iL(t)),yield r.done}catch(n){if(n instanceof lr)no.warn(n.message);else{const r=Ci.create("idb-set",{originalErrorMessage:n?.message});no.warn(r.message)}}})).apply(this,arguments)}function iL(t){return`${t.name}!${t.options.appId}`}class Qee{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Jee(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=sL();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=sL(),{heartbeatsToSend:r,unsentEntries:i}=function Yee(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),oL(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),oL(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=_p(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function sL(){return(new Date).toISOString().substring(0,10)}class Jee{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!eo()&&vl().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function qee(t){return dI.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return rL(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return rL(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function oL(t){return _p(JSON.stringify({version:2,heartbeats:t})).length}!function Xee(t){wn(new tn("platform-logger",e=>new fee(e),"PRIVATE")),wn(new tn("heartbeat",e=>new Qee(e),"PRIVATE")),et(aI,"0.9.13",t),et(aI,"0.9.13","esm2017"),et("fire-js","")}(""),et("firebase","9.23.0","app");const tte=(t,e)=>e.some(n=>t instanceof n);let aL,uL;const cL=new WeakMap,fI=new WeakMap,lL=new WeakMap,pI=new WeakMap,gI=new WeakMap;let mI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return fI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||lL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return us(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function ute(t){return"function"==typeof t?function ate(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function rte(){return uL||(uL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(yI(this),e),us(cL.get(this))}:function(...e){return us(t.apply(yI(this),e))}:function(e,...n){const r=t.call(yI(this),e,...n);return lL.set(r,e.sort?e.sort():[e]),us(r)}}(t):(t instanceof IDBTransaction&&function ste(t){if(fI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});fI.set(t,e)}(t),tte(t,function nte(){return aL||(aL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,mI):t)}function us(t){if(t instanceof IDBRequest)return function ite(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(us(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&cL.set(n,t)}).catch(()=>{}),gI.set(e,t),e}(t);if(pI.has(t))return pI.get(t);const e=ute(t);return e!==t&&(pI.set(t,e),gI.set(e,t)),e}const yI=t=>gI.get(t),lte=["get","getKey","getAll","getAllKeys","count"],dte=["put","add","delete","clear"],_I=new Map;function dL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(_I.get(e))return _I.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=dte.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!lte.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return _I.set(e,s),s}!function ote(t){mI=t(mI)}(t=>({...t,get:(e,n,r)=>dL(e,n)||t.get(e,n,r),has:(e,n)=>!!dL(e,n)||t.has(e,n)}));const hL="@firebase/installations",vI="0.6.4",fL=1e4,pL=`w:${vI}`,gL="FIS_v2",hte="https://firebaseinstallations.googleapis.com/v1",fte=36e5,bi=new zr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function mL(t){return t instanceof lr&&t.code.includes("request-failed")}function wI({projectId:t}){return`${hte}/projects/${t}/installations`}function yL(t){return{token:t.token,requestStatus:2,expiresIn:yte(t.expiresIn),creationTime:Date.now()}}function II(t,e){return EI.apply(this,arguments)}function EI(){return(EI=g(function*(t,e){const r=(yield e.json()).error;return bi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function _L({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function DI(t){return CI.apply(this,arguments)}function CI(){return(CI=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function yte(t){return Number(t.replace("s","000"))}function bI(){return(bI=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=wI(t),i=_L(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:gL,appId:t.appId,sdkVersion:pL})},u=yield DI(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:yL(c.authToken)}}throw yield II("Create Installation",u)})).apply(this,arguments)}function wL(t){return new Promise(e=>{setTimeout(e,t)})}const Ite=/^[cdef][\w-]{21}$/,TI="";function Ete(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Dte(t){return function wte(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Ite.test(n)?n:TI}catch{return TI}}function Ya(t){return`${t.appName}!${t.appId}`}const Ja=new Map;function IL(t,e){const n=Ya(t);EL(n,e),function Tte(t,e){const n=function DL(){return!so&&"BroadcastChannel"in self&&(so=new BroadcastChannel("[Firebase] FID Change"),so.onmessage=t=>{EL(t.data.key,t.data.fid)}),so}();n&&n.postMessage({key:t,fid:e}),function CL(){0===Ja.size&&so&&(so.close(),so=null)}()}(n,e)}function EL(t,e){const n=Ja.get(t);if(n)for(const r of n)r(e)}let so=null;const Ste="firebase-installations-database",Ate=1,oo="firebase-installations-store";let SI=null;function AI(){return SI||(SI=function cte(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=us(o);return r&&o.addEventListener("upgradeneeded",u=>{r(us(o.result),u.oldVersion,u.newVersion,us(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Ste,Ate,{upgrade:(t,e)=>{0===e&&t.createObjectStore(oo)}})),SI}function Tp(t,e){return xI.apply(this,arguments)}function xI(){return(xI=g(function*(t,e){const n=Ya(t),i=(yield AI()).transaction(oo,"readwrite"),s=i.objectStore(oo),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&IL(t,e.fid),e})).apply(this,arguments)}function MI(t){return NI.apply(this,arguments)}function NI(){return(NI=g(function*(t){const e=Ya(t),r=(yield AI()).transaction(oo,"readwrite");yield r.objectStore(oo).delete(e),yield r.done})).apply(this,arguments)}function Cl(t,e){return RI.apply(this,arguments)}function RI(){return(RI=g(function*(t,e){const n=Ya(t),i=(yield AI()).transaction(oo,"readwrite"),s=i.objectStore(oo),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&IL(t,a.fid),a})).apply(this,arguments)}function kI(t){return PI.apply(this,arguments)}function PI(){return PI=g(function*(t){let e;const n=yield Cl(t.appConfig,r=>{const i=function xte(t){return TL(t||{fid:Ete(),registrationStatus:0})}(r),s=function Mte(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(bi.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Nte(t,e){return OI.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Rte(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===TI?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),PI.apply(this,arguments)}function OI(){return OI=g(function*(t,e){try{const n=yield function vte(t,e){return bI.apply(this,arguments)}(t,e);return Tp(t.appConfig,n)}catch(n){throw mL(n)&&409===n.customData.serverCode?yield MI(t.appConfig):yield Tp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),OI.apply(this,arguments)}function Rte(t){return FI.apply(this,arguments)}function FI(){return(FI=g(function*(t){let e=yield bL(t.appConfig);for(;1===e.registrationStatus;)yield wL(100),e=yield bL(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield kI(t);return r||n}return e})).apply(this,arguments)}function bL(t){return Cl(t,e=>{if(!e)throw bi.create("installation-not-found");return TL(e)})}function TL(t){return function kte(t){return 1===t.registrationStatus&&t.registrationTime+fL<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function LI(){return(LI=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Ote(t,{fid:e}){return`${wI(t)}/${e}/authTokens:generate`}(t,n),i=function vL(t,{refreshToken:e}){const n=_L(t);return n.append("Authorization",function _te(t){return`${gL} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:pL,appId:t.appId}})},u=yield DI(()=>fetch(r,a));if(u.ok)return yL(yield u.json());throw yield II("Generate Auth Token",u)})).apply(this,arguments)}function VI(t){return UI.apply(this,arguments)}function UI(){return UI=g(function*(t,e=!1){let n;const r=yield Cl(t.appConfig,s=>{if(!AL(s))throw bi.create("not-registered");const o=s.authToken;if(!e&&function Vte(t){return 2===t.requestStatus&&!function Ute(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+fte}(t)}(o))return s;if(1===o.requestStatus)return n=function Fte(t,e){return BI.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw bi.create("app-offline");const a=function Bte(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Lte(t,e){return jI.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),UI.apply(this,arguments)}function BI(){return(BI=g(function*(t,e){let n=yield SL(t.appConfig);for(;1===n.authToken.requestStatus;)yield wL(100),n=yield SL(t.appConfig);const r=n.authToken;return 0===r.requestStatus?VI(t,e):r})).apply(this,arguments)}function SL(t){return Cl(t,e=>{if(!AL(e))throw bi.create("not-registered");return function jte(t){return 1===t.requestStatus&&t.requestTime+fL<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function jI(){return jI=g(function*(t,e){try{const n=yield function Pte(t,e){return LI.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Tp(t.appConfig,r),n}catch(n){if(!mL(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Tp(t.appConfig,r)}else yield MI(t.appConfig);throw n}}),jI.apply(this,arguments)}function AL(t){return void 0!==t&&2===t.registrationStatus}function $I(){return($I=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield kI(e);return r?r.catch(console.error):VI(e).catch(console.error),n.fid})).apply(this,arguments)}function HI(){return HI=g(function*(t,e=!1){const n=t;return yield function Gte(t){return GI.apply(this,arguments)}(n),(yield VI(n,e)).token}),HI.apply(this,arguments)}function GI(){return(GI=g(function*(t){const{registrationPromise:e}=yield kI(t);e&&(yield e)})).apply(this,arguments)}function WI(t){return bi.create("missing-app-config-values",{valueName:t})}const xL="installations",Qte=t=>{const e=t.getProvider("app").getImmediate(),n=function Wte(t){if(!t||!t.options)throw WI("App Configuration");if(!t.name)throw WI("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw WI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Qa(e,"heartbeat"),_delete:()=>Promise.resolve()}},Yte=t=>{const n=Qa(t.getProvider("app").getImmediate(),xL).getImmediate();return{getId:()=>function $te(t){return $I.apply(this,arguments)}(n),getToken:i=>function Hte(t){return HI.apply(this,arguments)}(n,i)}};(function Jte(){wn(new tn(xL,Qte,"PUBLIC")),wn(new tn("installations-internal",Yte,"PRIVATE"))})(),et(hL,vI),et(hL,vI,"esm2017");const KI="@firebase/remote-config",On=new zr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class une{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function cne(t=navigator){return t.languages&&t.languages[0]||t.language}class lne{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:cne()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((w,_)=>{e.signal.addEventListener(()=>{const S=new Error("The operation was aborted.");S.name="AbortError",_(S)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(w){let _="fetch-client-network";throw"AbortError"===w?.name&&(_="fetch-timeout"),On.create(_,{originalErrorMessage:w?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,y;if(200===h.status){let w;try{w=yield h.json()}catch(_){throw On.create("fetch-client-parse",{originalErrorMessage:_?.message})}m=w.entries,y=w.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==f&&200!==f)throw On.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class fne{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function dne(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(On.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function hne(t){if(!(t instanceof lr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Zw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class mne{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ap(t,e){const n=t.target.error||void 0;return On.create(e,{originalErrorMessage:n&&n?.message})}const ao="app_namespace_store";class wne{constructor(e,n,r,i=function vne(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Ap(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ao,{keyPath:"compositeKey"})}}catch(n){e(On.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ao],"readonly").objectStore(ao),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Ap(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(On.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([ao],"readwrite").objectStore(ao),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Ap(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(On.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ao],"readwrite").objectStore(ao),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Ap(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(On.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Ine{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Dne(){return ZI.apply(this,arguments)}function ZI(){return(ZI=g(function*(){if(!eo())return!1;try{return yield vl()}catch{return!1}})).apply(this,arguments)}!function Ene(){wn(new tn("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw On.create("registration-window");if(!eo())throw On.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw On.create("registration-project-id");if(!o)throw On.create("registration-api-key");if(!a)throw On.create("registration-app-id");const u=new wne(a,r.name,n=n||"firebase"),c=new Ine(u),l=new Ka(KI);l.logLevel=ye.ERROR;const d=new lne(i,io,n,s,o,a),h=new fne(d,u),f=new une(h,u,c,l),p=new mne(r,f,c,u,l);return function sne(t){const e=It(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),et(KI,"0.4.4"),et(KI,"0.4.4","esm2017")}();const Cne=(t,e)=>e.some(n=>t instanceof n);let kL,PL;const OL=new WeakMap,eE=new WeakMap,FL=new WeakMap,tE=new WeakMap,nE=new WeakMap;let rE={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return eE.get(t);if("objectStoreNames"===e)return t.objectStoreNames||FL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ti(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Nne(t){return"function"==typeof t?function Mne(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Tne(){return PL||(PL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(iE(this),e),Ti(OL.get(this))}:function(...e){return Ti(t.apply(iE(this),e))}:function(e,...n){const r=t.call(iE(this),e,...n);return FL.set(r,e.sort?e.sort():[e]),Ti(r)}}(t):(t instanceof IDBTransaction&&function Ane(t){if(eE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});eE.set(t,e)}(t),Cne(t,function bne(){return kL||(kL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,rE):t)}function Ti(t){if(t instanceof IDBRequest)return function Sne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ti(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&OL.set(n,t)}).catch(()=>{}),nE.set(e,t),e}(t);if(tE.has(t))return tE.get(t);const e=Nne(t);return e!==t&&(tE.set(t,e),nE.set(e,t)),e}const iE=t=>nE.get(t);function LL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ti(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ti(o.result),u.oldVersion,u.newVersion,Ti(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function sE(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Ti(n).then(()=>{})}const Rne=["get","getKey","getAll","getAllKeys","count"],kne=["put","add","delete","clear"],oE=new Map;function VL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(oE.get(e))return oE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=kne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Rne.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return oE.set(e,s),s}!function xne(t){rE=t(rE)}(t=>({...t,get:(e,n,r)=>VL(e,n)||t.get(e,n,r),has:(e,n)=>!!VL(e,n)||t.has(e,n)}));const Pne="/firebase-messaging-sw.js",One="/firebase-cloud-messaging-push-scope",UL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Fne="https://fcmregistrations.googleapis.com/v1",BL="google.c.a.c_id",Lne="google.c.a.c_l",Vne="google.c.a.ts";var xp=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(xp||{});function Si(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function jne(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const aE="fcm_token_details_db",$ne=5,jL="fcm_token_object_Store";function uE(){return uE=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(aE))return null;let e=null;return(yield LL(aE,$ne,{upgrade:(r=g(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(jL))return;const c=a.objectStore(jL),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Si(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Si(d.auth),p256dh:Si(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Si(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Si(d.auth),p256dh:Si(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Si(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield sE(aE),yield sE("fcm_vapid_details_db"),yield sE("undefined"),function Gne(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),uE.apply(this,arguments)}const zne="firebase-messaging-database",qne=1,uo="firebase-messaging-store";let cE=null;function lE(){return cE||(cE=LL(zne,qne,{upgrade:(t,e)=>{0===e&&t.createObjectStore(uo)}})),cE}function $L(t){return dE.apply(this,arguments)}function dE(){return dE=g(function*(t){const e=gE(t),r=yield(yield lE()).transaction(uo).objectStore(uo).get(e);if(r)return r;{const i=yield function Hne(t){return uE.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield hE(t,i),i}}),dE.apply(this,arguments)}function hE(t,e){return fE.apply(this,arguments)}function fE(){return(fE=g(function*(t,e){const n=gE(t),i=(yield lE()).transaction(uo,"readwrite");return yield i.objectStore(uo).put(e,n),yield i.done,e})).apply(this,arguments)}function pE(){return(pE=g(function*(t){const e=gE(t),r=(yield lE()).transaction(uo,"readwrite");yield r.objectStore(uo).delete(e),yield r.done})).apply(this,arguments)}function gE({appConfig:t}){return t.appId}const $t=new zr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Qne(t,e){return mE.apply(this,arguments)}function mE(){return(mE=g(function*(t,e){const n=yield wE(t),r=GL(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(vE(t.appConfig),i)).json()}catch(o){throw $t.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw $t.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw $t.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function yE(){return(yE=g(function*(t,e){const n=yield wE(t),r=GL(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${vE(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw $t.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw $t.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw $t.create("token-update-no-token");return s.token})).apply(this,arguments)}function HL(t,e){return _E.apply(this,arguments)}function _E(){return(_E=g(function*(t,e){const r={method:"DELETE",headers:yield wE(t)};try{const s=yield(yield fetch(`${vE(t.appConfig)}/${e}`,r)).json();if(s.error)throw $t.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw $t.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function vE({projectId:t}){return`${Fne}/projects/${t}/registrations`}function wE(t){return IE.apply(this,arguments)}function IE(){return(IE=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function GL({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==UL&&(i.web.applicationPubKey=r),i}const Jne=6048e5;function EE(){return EE=g(function*(t){const e=yield function ere(t,e){return TE.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Si(e.getKey("auth")),p256dh:Si(e.getKey("p256dh"))},r=yield $L(t.firebaseDependencies);if(r){if(function tre(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+Jne?function Zne(t,e){return CE.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield HL(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return qL(t.firebaseDependencies,n)}return qL(t.firebaseDependencies,n)}),EE.apply(this,arguments)}function DE(){return DE=g(function*(t){const e=yield $L(t.firebaseDependencies);e&&(yield HL(t.firebaseDependencies,e.token),yield function Wne(t){return pE.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),DE.apply(this,arguments)}function CE(){return CE=g(function*(t,e){try{const n=yield function Yne(t,e){return yE.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield hE(t.firebaseDependencies,r),n}catch(n){throw yield function zL(t){return DE.apply(this,arguments)}(t),n}}),CE.apply(this,arguments)}function qL(t,e){return bE.apply(this,arguments)}function bE(){return(bE=g(function*(t,e){const r={token:yield Qne(t,e),createTime:Date.now(),subscriptionOptions:e};return yield hE(t,r),r.token})).apply(this,arguments)}function TE(){return(TE=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:jne(e)})})).apply(this,arguments)}function WL(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function nre(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function rre(t,e){e.data&&(t.data=e.data)}(e,t),function ire(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function KL(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function SE(t){return $t.create("missing-app-config-values",{valueName:t})}KL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),KL("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class are{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function ore(t){if(!t||!t.options)throw SE("App Configuration Object");if(!t.name)throw SE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw SE(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function AE(){return(AE=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Pne,{scope:One}),t.swRegistration.update().catch(()=>{})}catch(e){throw $t.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function xE(){return(xE=g(function*(t,e){if(!e&&!t.swRegistration&&(yield function QL(t){return AE.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw $t.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function ME(){return(ME=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=UL)})).apply(this,arguments)}function NE(){return NE=g(function*(t,e){if(!navigator)throw $t.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw $t.create("permission-blocked");return yield function cre(t,e){return ME.apply(this,arguments)}(t,e?.vapidKey),yield function ure(t,e){return xE.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function Xne(t){return EE.apply(this,arguments)}(t)}),NE.apply(this,arguments)}function RE(){return(RE=g(function*(t,e,n){const r=function dre(t){switch(t){case xp.NOTIFICATION_CLICKED:return"notification_open";case xp.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[BL],message_name:n[Lne],message_time:n[Vne],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function kE(){return kE=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===xp.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(WL(n)):t.onMessageHandler.next(WL(n)));const r=n.data;(function sre(t){return"object"==typeof t&&!!t&&BL in t})(r)&&"1"===r["google.c.a.e"]&&(yield function lre(t,e,n){return RE.apply(this,arguments)}(t,n.messageType,r))}),kE.apply(this,arguments)}const JL="@firebase/messaging",fre=t=>{const e=new are(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function hre(t,e){return kE.apply(this,arguments)}(e,n)),e},pre=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function YL(t,e){return NE.apply(this,arguments)}(e,r)}};function ZL(){return PE.apply(this,arguments)}function PE(){return(PE=g(function*(){try{yield vl()}catch{return!1}return typeof window<"u"&&eo()&&Yw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function gre(){wn(new tn("messaging",fre,"PUBLIC")),wn(new tn("messaging-internal",pre,"PRIVATE")),et(JL,"0.12.4"),et(JL,"0.12.4","esm2017")}();const Mp="analytics",_re="firebase_id",vre="origin",wre=6e4,Ire="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",LE="https://www.googletagmanager.com/gtag/js",St=new Ka("@firebase/analytics"),In=new zr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Dre(t){if(!t.startsWith(LE)){const e=In.create("invalid-gtag-resource",{gtagURL:t});return St.warn(e.message),""}return t}function e2(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function VE(){return(VE=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield e2(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){St.error(a)}t("config",i,s)})).apply(this,arguments)}function UE(){return(UE=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield e2(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){St.error(s)}})).apply(this,arguments)}const Rre=30,t2=new class Pre{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Ore(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function BE(){return(BE=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Ore(r)},s=Ire.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw In.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function jE(){return(jE=g(function*(t,e=t2,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw In.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw In.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Bre;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:wre),n2({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function n2(t,e,n){return $E.apply(this,arguments)}function $E(){return $E=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=t2){var s;const{appId:o,measurementId:a}=t;try{yield function Vre(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(In.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return St.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function Fre(t){return BE.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function Ure(t){if(!(t instanceof lr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return St.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?Zw(n,i.intervalMillis,Rre):Zw(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),St.debug(`Calling attemptFetch again in ${l} millis`),n2(t,d,r,i)}}),$E.apply(this,arguments)}class Bre{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let HE,YE;function GE(){return(GE=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function JE(){return(JE=g(function*(){if(!eo())return St.warn(In.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield vl()}catch(t){return St.warn(In.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function XE(){return XE=g(function*(t,e,n,r,i,s,o){var a;const u=function Lre(t){return jE.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&St.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>St.error(f)),e.push(u);const c=function Wre(){return JE.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function Nre(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(LE)&&n.src.includes(t))return n;return null})(s)||function bre(t,e){const n=function Cre(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Dre}),r=document.createElement("script"),i=`${LE}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),YE&&(i("consent","default",YE),function r2(t){YE=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[vre]="firebase",h.update=!0,null!=d&&(h[_re]=d),i("config",l.measurementId,h),HE&&(i("set",HE),function i2(t){HE=t}(void 0)),l.measurementId}),XE.apply(this,arguments)}class Qre{constructor(e){this.app=e}_delete(){return delete qr[this.app.options.appId],Promise.resolve()}}let qr={},s2=[];const o2={};let u2,Wr,Np="dataLayer",ZE=!1;function Jre(t,e,n){!function Yre(){const t=[];if(Qw()&&t.push("This is a browser extension environment."),Yw()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=In.create("invalid-analytics-context",{errorInfo:e});St.warn(n.message)}}();const r=t.options.appId;if(!r)throw In.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw In.create("no-api-key");St.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=qr[r])throw In.create("already-exists",{id:r});if(!ZE){!function Tre(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Np);const{wrappedGtag:s,gtagCore:o}=function Mre(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function xre(t,e,n,r){function s(){return s=g(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function Are(t,e,n,r,i){return UE.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function Sre(t,e,n,r,i,s){return VE.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){St.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(qr,s2,o2,Np,"gtag");Wr=s,u2=o,ZE=!0}return qr[r]=function Kre(t,e,n,r,i,s,o){return XE.apply(this,arguments)}(t,s2,o2,e,u2,Np,n),new Qre(t)}function Zre(){return eD.apply(this,arguments)}function eD(){return(eD=g(function*(){if(Qw()||!Yw()||!eo())return!1;try{return yield vl()}catch{return!1}})).apply(this,arguments)}const c2="@firebase/analytics";!function tie(){wn(new tn(Mp,(e,{options:n})=>Jre(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),wn(new tn("analytics-internal",function t(e){try{const n=e.getProvider(Mp).getImmediate();return{logEvent:(r,i,s)=>function eie(t,e,n,r){t=It(t),function jre(t,e,n,r,i){return GE.apply(this,arguments)}(Wr,qr[t.app.options.appId],e,n,r).catch(i=>St.error(i))}(n,r,i,s)}}catch(n){throw In.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),et(c2,"0.10.0"),et(c2,"0.10.0","esm2017")}();class nie extends Tn{constructor(e,n){super()}schedule(e,n=0){return this}}const Rp={setInterval(t,e,...n){const{delegate:r}=Rp;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Rp;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class d2 extends nie{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Rp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Rp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,$o(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const h2={now:()=>(h2.delegate||Date).now(),delegate:void 0};class bl{constructor(e,n=bl.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}bl.now=h2.now;class f2 extends bl{constructor(e,n=bl.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const sie=new class iie extends f2{}(class rie extends d2{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),oie=new f2(d2),kp=new va("7.6.1"),nD="__angularfire_symbol__analyticsIsSupportedValue",rD="__angularfire_symbol__analyticsIsSupported",iD="__angularfire_symbol__remoteConfigIsSupportedValue",sD="__angularfire_symbol__remoteConfigIsSupported",oD="__angularfire_symbol__messagingIsSupportedValue",aD="__angularfire_symbol__messagingIsSupported";function cD(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[rD]||(globalThis[rD]=Zre().then(t=>globalThis[nD]=t).catch(()=>globalThis[nD]=!1)),globalThis[aD]||(globalThis[aD]=ZL().then(t=>globalThis[oD]=t).catch(()=>globalThis[oD]=!1)),globalThis[sD]||(globalThis[sD]=Dne().then(t=>globalThis[iD]=t).catch(()=>globalThis[iD]=!1));const lD=(t,e)=>{const n=e?[e]:tL(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Xa(){}class p2{constructor(e,n=sie){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class aie{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xa,{},Xa,Xa)),n.pipe(jt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let dD=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new p2(Zone.current)),this.insideAngular=n.run(()=>new p2(Zone.current,oie)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(G(Ee))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function co(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function lo(t){return co().ngZone.run(()=>t())}function cie(t){return co(),function lie(t){return function(n){return(n=n.lift(new aie(t.ngZone))).pipe(uh(t.outsideAngular),ah(t.insideAngular))}}(co())(t)}const die=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),lo(()=>t.apply(void 0,r))},En=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=lo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xa,{},Xa,Xa)))),r[s]=die(r[s],n));const i=function uie(t){return co().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof ze){const s=co();return i.pipe(uh(s.outsideAngular),ah(s.insideAngular))}return lo(()=>i)}return i instanceof ze?i.pipe(cie):i instanceof Promise?lo(()=>new Promise((s,o)=>i.then(a=>lo(()=>s(a)),a=>lo(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:lo(()=>i)};class Za{constructor(e){return e}}class hD{constructor(){return tL()}}const fD=new U("angularfire2._apps"),fie={provide:Za,useFactory:function hie(t){return t&&1===t.length?t[0]:new Za(uI())},deps:[[new mn,fD]]},pie={provide:hD,deps:[[new mn,fD]]};function gie(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Za(r)}}let mie=(()=>{class t{constructor(n){et("angularfire",kp.full,"core"),et("angularfire",kp.full,"app"),et("angular",S1.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(G(Ji))},t.\u0275mod=Qt({type:t}),t.\u0275inj=Ot({providers:[fie,pie]}),t})();function yie(t,...e){return{ngModule:mie,providers:[{provide:fD,useFactory:gie(t),multi:!0,deps:[Ee,Xt,dD,...e]}]}}const _ie=En(eL,!0),pD=new Map,g2={activated:!1,tokenObservers:[]},vie={initialized:!1,enabled:!1};function tt(t){return pD.get(t)||Object.assign({},g2)}function Pp(){return vie}const gD="https://content-firebaseappcheck.googleapis.com/v1",Die="exchangeDebugToken",m2={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class bie{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new Ip,yield function Tie(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Ip,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Ht=new zr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function mD(t){if(!tt(t).activated)throw Ht.create("use-before-activation",{appName:t.name})}function Lp(t,e){return _D.apply(this,arguments)}function _D(){return(_D=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Ht.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Ht.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Ht.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Ht.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function y2(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${gD}/projects/${n}/apps/${r}:${Die}?key=${i}`,body:{debug_token:e}}}const Mie="firebase-app-check-database",Nie=1,Tl="firebase-app-check-store";let Vp=null;function vD(){return(vD=g(function*(t,e){const r=(yield function v2(){return Vp||(Vp=new Promise((t,e)=>{try{const n=indexedDB.open(Mie,Nie);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Ht.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Tl,{keyPath:"compositeKey"})}}catch(n){e(Ht.create("storage-open",{originalErrorMessage:n?.message}))}}),Vp)}()).transaction(Tl,"readwrite"),s=r.objectStore(Tl).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Ht.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Sl=new Ka("@firebase/app-check");function ED(t,e){return eo()?function kie(t,e){return function w2(t,e){return vD.apply(this,arguments)}(function E2(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Sl.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function CD(){return Pp().enabled}function bD(){return TD.apply(this,arguments)}function TD(){return(TD=g(function*(){const t=Pp();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Uie={error:"UNKNOWN_ERROR"};function Bie(t){return Kw.encodeString(JSON.stringify(t),!1)}function Up(t){return SD.apply(this,arguments)}function SD(){return(SD=g(function*(t,e=!1){const n=t.app;mD(n);const r=tt(n);let s,i=r.token;if(i&&!eu(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(eu(u)?i=u:yield ED(n,void 0))}if(!e&&i&&eu(i))return{token:i.token};let a,o=!1;if(CD()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Lp(y2(n,yield bD()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield ED(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield tt(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Sl.warn(u.message):Sl.error(u),s=u}return i?s?a=eu(i)?{token:i.token,internalError:s}:T2(s):(a={token:i.token},r.token=i,yield ED(n,i)):a=T2(s),o&&function b2(t,e){const n=tt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function D2(t){return AD.apply(this,arguments)}function AD(){return(AD=g(function*(t){const e=t.app;mD(e);const{provider:n}=tt(e);if(CD()){const r=yield bD(),{token:i}=yield Lp(y2(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function MD(t,e){const n=tt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function C2(t){const{app:e}=t,n=tt(e);let r=n.tokenRefresher;r||(r=function jie(t){const{app:e}=t;return new bie(g(function*(){let r;if(r=tt(e).token?yield Up(t,!0):yield Up(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=tt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},m2.RETRIAL_MIN_WAIT,m2.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function eu(t){return t.expireTimeMillis-Date.now()>0}function T2(t){return{token:Bie(Uie),error:t}}class $ie{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=tt(this.app);for(const n of e)MD(this.app,n.next);return Promise.resolve()}}const P2="app-check-internal";!function nse(){wn(new tn("app-check",t=>function Hie(t,e){return new $ie(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(P2).initialize()})),wn(new tn(P2,t=>function Gie(t){return{getToken:e=>Up(t,e),getLimitedUseToken:()=>D2(t),addTokenListener:e=>function xD(t,e,n,r){const{app:i}=t,s=tt(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&eu(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),C2(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>C2(t))}(t,"INTERNAL",e),removeTokenListener:e=>MD(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),et("@firebase/app-check","0.8.0")}();class PD{constructor(){return lD("app-check")}}typeof window<"u"&&window;const ase=function F2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},L2=new zr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),jp=new Ka("@firebase/auth");function $p(t,...e){jp.logLevel<=ye.ERROR&&jp.error(`Auth (${io}): ${t}`,...e)}function Fn(t,...e){throw FD(t,...e)}function Qn(t,...e){return FD(t,...e)}function V2(t,e,n){const r=Object.assign(Object.assign({},ase()),{[e]:n});return new zr("auth","Firebase",r).create(e,{appName:t.name})}function FD(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return L2.create(t,...e)}function N(t,e,...n){if(!t)throw FD(e,...n)}function Kr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw $p(e),new Error(e)}function Ai(t,e){t||Kr(e)}function Al(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function U2(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class xl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ai(n>e,"Short delay should be less than long delay!"),this.isMobile=function kZ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}()||function OZ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function cse(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function LD(){return"http:"===U2()||"https:"===U2()}()||Qw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function VD(t,e){Ai(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class B2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dse={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},hse=new xl(3e4,6e4);function Ye(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function nt(t,e,n,r){return UD.apply(this,arguments)}function UD(){return(UD=g(function*(t,e,n,r,i={}){return j2(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=wl(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),B2.fetch()($2(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function j2(t,e,n){return BD.apply(this,arguments)}function BD(){return(BD=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},dse),e);try{const i=new fse(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Ml(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Ml(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Ml(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw Ml(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw V2(t,l,c);Fn(t,l)}}catch(i){if(i instanceof lr)throw i;Fn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function xi(t,e,n,r){return jD.apply(this,arguments)}function jD(){return(jD=g(function*(t,e,n,r,i={}){const s=yield nt(t,e,n,r,i);return"mfaPendingCredential"in s&&Fn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function $2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?VD(t.config,i):`${t.config.apiScheme}://${i}`}class fse{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qn(this.auth,"network-request-failed")),hse.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ml(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qn(t,e,r);return i.customData._tokenResponse=n,i}function $D(){return($D=g(function*(t,e){return nt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function GD(){return(GD=g(function*(t,e){return nt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Nl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function zD(){return(zD=g(function*(t,e=!1){const n=It(t),r=yield n.getIdToken(e),i=Hp(r);N(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Nl(qD(i.auth_time)),issuedAtTime:Nl(qD(i.iat)),expirationTime:Nl(qD(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function qD(t){return 1e3*Number(t)}function Hp(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return $p("JWT malformed, contained fewer than 3 sections"),null;try{const i=vp(n);return i?JSON.parse(i):($p("Failed to decode base64 JWT payload"),null)}catch(i){return $p("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Mi(t,e){return WD.apply(this,arguments)}function WD(){return(WD=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof lr&&function vse({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class wse{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class H2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Rl(t){return KD.apply(this,arguments)}function KD(){return KD=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Mi(t,function mse(t,e){return GD.apply(this,arguments)}(n,{idToken:r}));N(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Dse(t){return t.map(e=>{var{providerId:n}=e,r=oh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Ese(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new H2(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),KD.apply(this,arguments)}function QD(){return(QD=g(function*(t){const e=It(t);yield Rl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function YD(){return(YD=g(function*(t,e){const n=yield j2(t,{},g(function*(){const r=wl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=$2(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",B2.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){N(e.idToken,"internal-error"),N(typeof e.idToken<"u","internal-error"),N(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function _se(t){const e=Hp(t);return N(e,"internal-error"),N(typeof e.exp<"u","internal-error"),N(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return N(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Cse(t,e){return YD.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new kl;return r&&(N("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(N("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(N("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kl,this.toJSON())}_performRefresh(){return Kr("not implemented")}}function cs(t,e){N("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class ho{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=oh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wse(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new H2(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield Mi(n,n.stsTokenManager.getToken(n.auth,e));return N(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function yse(t){return zD.apply(this,arguments)}(this,e)}reload(){return function Ise(t){return QD.apply(this,arguments)}(this)}_assign(e){this!==e&&(N(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ho(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){N(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Rl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield Mi(e,function pse(t,e){return $D.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,w=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:S,emailVerified:F,isAnonymous:$,providerData:ne,stsTokenManager:Re}=n;N(S&&Re,e,"internal-error");const cn=kl.fromJSON(this.name,Re);N("string"==typeof S,e,"internal-error"),cs(d,e.name),cs(h,e.name),N("boolean"==typeof F,e,"internal-error"),N("boolean"==typeof $,e,"internal-error"),cs(f,e.name),cs(p,e.name),cs(m,e.name),cs(y,e.name),cs(w,e.name),cs(_,e.name);const ii=new ho({uid:S,auth:e,email:h,emailVerified:F,displayName:d,isAnonymous:$,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:cn,createdAt:w,lastLoginAt:_});return ne&&Array.isArray(ne)&&(ii.providerData=ne.map(wA=>Object.assign({},wA))),y&&(ii._redirectEventId=y),ii}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new kl;i.updateFromServerResponse(n);const s=new ho({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Rl(s),s})()}}const G2=new Map;function Ni(t){Ai(t instanceof Function,"Expected a class definition");let e=G2.get(t);return e?(Ai(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,G2.set(t,e),e)}const z2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Gp(t,e,n){return`firebase:${t}:${e}:${n}`}class nu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Gp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Gp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?ho._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new nu(Ni(z2),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Ni(z2);const o=Gp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=ho._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new nu(s,e,r)):new nu(s,e,r)})()}}function q2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Q2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(W2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(J2(e))return"Blackberry";if(X2(e))return"Webos";if(JD(e))return"Safari";if((e.includes("chrome/")||K2(e))&&!e.includes("edge/"))return"Chrome";if(Y2(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function W2(t=Tt()){return/firefox\//i.test(t)}function JD(t=Tt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function K2(t=Tt()){return/crios\//i.test(t)}function Q2(t=Tt()){return/iemobile/i.test(t)}function Y2(t=Tt()){return/android/i.test(t)}function J2(t=Tt()){return/blackberry/i.test(t)}function X2(t=Tt()){return/webos/i.test(t)}function zp(t=Tt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Z2(t=Tt()){return zp(t)||Y2(t)||X2(t)||J2(t)||/windows phone/i.test(t)||Q2(t)}function eV(t,e=[]){let n;switch(t){case"Browser":n=q2(Tt());break;case"Worker":n=`${q2(Tt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${io}/${r}`}function tV(t,e){return ZD.apply(this,arguments)}function ZD(){return(ZD=g(function*(t,e){return nt(t,"GET","/v2/recaptchaConfig",Ye(t,e))})).apply(this,arguments)}function rV(t){return void 0!==t&&void 0!==t.enterprise}class iV{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function eC(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Qn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function xse(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function sV(t){return`__${t}${Math.floor(1e6*Math.random())}`}class oV{constructor(e){this.type="recaptcha-enterprise",this.auth=At(e)}verify(e="verify",n=!1){var r=this;return g(function*(){function s(){return s=g(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=g(function*(c,l){tV(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new iV(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;rV(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&rV(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));eC("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}function ls(t,e,n){return tC.apply(this,arguments)}function tC(){return(tC=g(function*(t,e,n,r=!1){const i=new oV(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}class kse{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return g(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Pse{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aV(this),this.idTokenSubscription=new aV(this),this.beforeStateQueue=new kse(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=L2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Ni(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield nu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return N(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield Rl(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function lse(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?It(e):null;return r&&N(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return g(function*(){if(!r._deleted)return e&&N(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(Ni(e))}))}initializeRecaptchaConfig(){var e=this;return g(function*(){const n=yield tV(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new iV(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new oV(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&Ni(e)||n._popupRedirectResolver;N(r,n,"argument-error"),n.redirectPersistenceManager=yield nu.create(n,[Ni(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return N(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return N(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return g(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function use(t,...e){jp.logLevel<=ye.WARN&&jp.warn(`Auth (${io}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function At(t){return It(t)}class aV{constructor(e){this.auth=e,this.observer=null,this.addObserver=function jZ(t,e){const n=new $Z(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return N(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function uV(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cV(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class nC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Kr("not implemented")}_getIdTokenResponse(e){return Kr("not implemented")}_linkToIdToken(e,n){return Kr("not implemented")}_getReauthenticationResolver(e){return Kr("not implemented")}}function dV(t,e){return iC.apply(this,arguments)}function iC(){return(iC=g(function*(t,e){return nt(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function oC(t,e){return aC.apply(this,arguments)}function aC(){return(aC=g(function*(t,e){return xi(t,"POST","/v1/accounts:signInWithPassword",Ye(t,e))})).apply(this,arguments)}function gC(){return(gC=g(function*(t,e){return xi(t,"POST","/v1/accounts:signInWithEmailLink",Ye(t,e))})).apply(this,arguments)}function mC(){return(mC=g(function*(t,e){return xi(t,"POST","/v1/accounts:signInWithEmailLink",Ye(t,e))})).apply(this,arguments)}class Pl extends nC{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Pl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Pl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return g(function*(){var r;switch(n.signInMethod){case"password":const i={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const s=yield ls(e,i,"signInWithPassword");return oC(e,s)}return oC(e,i).catch(function(){var s=g(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield ls(e,i,"signInWithPassword");return oC(e,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}());case"emailLink":return function Hse(t,e){return gC.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Fn(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return g(function*(){switch(r.signInMethod){case"password":return dV(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Gse(t,e){return mC.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Fn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Ri(t,e){return yC.apply(this,arguments)}function yC(){return(yC=g(function*(t,e){return xi(t,"POST","/v1/accounts:signInWithIdp",Ye(t,e))})).apply(this,arguments)}class ru extends nC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ru(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=oh(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ru(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return Ri(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ri(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ri(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wl(n)}return e}}class Fl{constructor(e){var n,r,i,s,o,a;const u=Il(El(e)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function Jse(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);N(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function Xse(t){const e=Il(El(t)).link,n=e?Il(El(e)).deep_link_id:null,r=Il(El(t)).deep_link_id;return(r?Il(El(r)).link:null)||r||n||e||t}(e);try{return new Fl(n)}catch{return null}}}let hV=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Pl._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Fl.parseLink(r);return N(i,"argument-error"),Pl._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class ds{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class fV extends ds{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let Zse=(()=>{class t extends fV{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return ru._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();function Kp(t,e){return DC.apply(this,arguments)}function DC(){return(DC=g(function*(t,e){return xi(t,"POST","/v1/accounts:signUp",Ye(t,e))})).apply(this,arguments)}class dr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield ho._fromIdTokenResponse(e,r,i),o=pV(r);return new dr({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=pV(r);return new dr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function pV(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Qp extends lr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Qp.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Qp(e,n,r,i)}}function gV(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Qp._fromErrorAndOperation(t,s,e,r):s})}function SC(){return(SC=g(function*(t,e,n=!1){const r=yield Mi(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return dr._forOperation(t,"link",r)})).apply(this,arguments)}function xC(){return(xC=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Mi(t,gV(r,i,e,t),n);N(s.idToken,r,"internal-error");const o=Hp(s.idToken);N(o,r,"internal-error");const{sub:a}=o;return N(t.uid===a,r,"user-mismatch"),dr._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Fn(r,"user-mismatch"),s}})).apply(this,arguments)}function _V(t,e){return MC.apply(this,arguments)}function MC(){return(MC=g(function*(t,e,n=!1){const r="signIn",i=yield gV(t,r,e),s=yield dr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function RC(){return(RC=g(function*(t,e){return _V(At(t),e)})).apply(this,arguments)}function ooe(t,e,n){return zC.apply(this,arguments)}function zC(){return zC=g(function*(t,e,n){var r;const i=At(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const c=yield ls(i,s,"signUpPassword");o=Kp(i,c)}else o=Kp(i,s).catch(function(){var c=g(function*(l){if("auth/missing-recaptcha-token"===l.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield ls(i,s,"signUpPassword");return Kp(i,d)}return Promise.reject(l)});return function(l){return c.apply(this,arguments)}}());const a=yield o.catch(c=>Promise.reject(c)),u=yield dr._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(u.user),u}),zC.apply(this,arguments)}function aoe(t,e,n){return function NC(t,e){return RC.apply(this,arguments)}(It(t),hV.credential(e,n))}function wV(t,e,n,r){return It(t).onIdTokenChanged(e,n,r)}function moe(t){return It(t).signOut()}const Jp="__sak";class IV{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jp,"1"),this.storage.removeItem(Jp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Coe=(()=>{class t extends IV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ioe(){const t=Tt();return JD(t)||zp(t)}()&&function Sse(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Z2(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Tse(){return function FZ(){const t=Tt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),EV=(()=>{class t extends IV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let Toe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function boe(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function Xp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class Soe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=Xp("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function pt(){return window}function ob(){return typeof pt().WorkerGlobalScope<"u"&&"function"==typeof pt().importScripts}function ab(){return(ab=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const DV="firebaseLocalStorageDb",Zp="firebaseLocalStorage",CV="fbase_key";class Vl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function eg(t,e){return t.transaction([Zp],e?"readwrite":"readonly").objectStore(Zp)}function ub(){const t=indexedDB.open(DV,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zp,{keyPath:CV})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(Zp)?e(r):(r.close(),yield function koe(){const t=indexedDB.deleteDatabase(DV);return new Vl(t).toPromise()}(),e(yield ub()))}))})}function bV(t,e,n){return cb.apply(this,arguments)}function cb(){return(cb=g(function*(t,e,n){const r=eg(t,!0).put({[CV]:e,value:n});return new Vl(r).toPromise()})).apply(this,arguments)}function lb(){return(lb=g(function*(t,e){const n=eg(t,!1).get(e),r=yield new Vl(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function TV(t,e){const n=eg(t,!0).delete(e);return new Vl(n).toPromise()}const Loe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield ub()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return ob()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=Toe._getInstance(function Noe(){return ob()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function xoe(){return ab.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new Soe(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function Moe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield ub();return yield bV(n,Jp,"1"),yield TV(n,Jp),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>bV(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function Poe(t,e){return lb.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>TV(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=eg(o,!1).getAll();return new Vl(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function po(t,e){return e?Ni(e):(N(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}sV("rcb"),new xl(3e4,6e4);class vb extends nC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ri(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ri(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ri(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Zoe(t){return _V(t.auth,new vb(t),t.bypassAuthState)}function eae(t){const{auth:e,user:n}=t;return N(n,e,"internal-error"),function yV(t,e){return xC.apply(this,arguments)}(n,new vb(t),t.bypassAuthState)}function tae(t){return wb.apply(this,arguments)}function wb(){return(wb=g(function*(t){const{auth:e,user:n}=t;return N(n,e,"internal-error"),function TC(t,e){return SC.apply(this,arguments)}(n,new vb(t),t.bypassAuthState)})).apply(this,arguments)}class AV{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zoe;case"linkViaPopup":case"linkViaRedirect":return tae;case"reauthViaPopup":case"reauthViaRedirect":return eae;default:Fn(this.auth,"internal-error")}}resolve(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nae=new xl(2e3,1e4);function rae(t,e,n){return Ib.apply(this,arguments)}function Ib(){return(Ib=g(function*(t,e,n){const r=At(t);!function tu(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&Fn(t,"argument-error"),V2(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,ds);const i=po(r,n);return new Cb(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let Cb=(()=>{class t extends AV{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return g(function*(){const r=yield n.execute();return N(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return g(function*(){Ai(1===n.filter.length,"Popup operations only handle one event");const r=Xp();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(Qn(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,nae.get())};n()}}return t.currentPopupAction=null,t})();const iae="pendingRedirect",Ul=new Map;class sae extends AV{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=Ul.get(n.auth._key());if(!r){try{const s=(yield function oae(t,e){return bb.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Ul.set(n.auth._key(),r)}return n.bypassAuthState||Ul.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function bb(){return(bb=g(function*(t,e){const n=function MV(t){return Gp(iae,t.config.apiKey,t.name)}(e),r=function xV(t){return Ni(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function aae(t,e){Ul.set(t._key(),e)}function NV(t,e){return Rb.apply(this,arguments)}function Rb(){return(Rb=g(function*(t,e,n=!1){const r=At(t),i=po(r,e),o=yield new sae(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class hae{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function fae(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PV(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!PV(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(kV(e))}saveEventToCache(e){this.cachedEventUids.add(kV(e)),this.lastProcessedEventTime=Date.now()}}function kV(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function PV({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function Pb(){return(Pb=g(function*(t,e={}){return nt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const gae=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mae=/^https?/;function Ob(){return Ob=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function pae(t){return Pb.apply(this,arguments)}(t);for(const n of e)try{if(_ae(n))return}catch{}Fn(t,"unauthorized-domain")}),Ob.apply(this,arguments)}function _ae(t){const e=Al(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!mae.test(n))return!1;if(gae.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const vae=new xl(3e4,6e4);function OV(){const t=pt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let ng=null;const Eae=new xl(5e3,15e3),Dae="__/auth/iframe",Cae="emulator/auth/iframe",bae={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tae=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sae(t){const e=t.config;N(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?VD(e,Cae):`https://${t.config.authDomain}/${Dae}`,r={apiKey:e.apiKey,appName:t.name,v:io},i=Tae.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${wl(r).slice(1)}`}function Fb(){return Fb=g(function*(t){const e=yield function Iae(t){return ng=ng||function wae(t){return new Promise((e,n)=>{var r,i,s;function o(){OV(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OV(),n(Qn(t,"network-request-failed"))},timeout:vae.get()})}if(null!==(i=null===(r=pt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=pt().gapi)||void 0===s||!s.load){const a=sV("iframefcb");return pt()[a]=()=>{gapi.load?o():n(Qn(t,"network-request-failed"))},eC(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw ng=null,e})}(t),ng}(t),n=pt().gapi;return N(n,t,"internal-error"),e.open({where:document.body,url:Sae(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bae,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Qn(t,"network-request-failed"),u=pt().setTimeout(()=>{o(a)},Eae.get());function c(){pt().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),Fb.apply(this,arguments)}const xae={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class FV{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Fae="__/auth/handler",Lae="emulator/auth/handler",Vae=encodeURIComponent("fac");function LV(t,e,n,r,i,s){return Lb.apply(this,arguments)}function Lb(){return(Lb=g(function*(t,e,n,r,i,s){N(t.config.authDomain,t,"auth-domain-config-required"),N(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:io,eventId:i};if(e instanceof ds){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function BZ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof fV){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield t._getAppCheckToken(),c=u?`#${Vae}=${encodeURIComponent(u)}`:"";return`${function Uae({config:t}){return t.emulator?VD(t,Lae):`https://${t.authDomain}/${Fae}`}(t)}?${wl(a).slice(1)}${c}`})).apply(this,arguments)}const Vb="webStorageSupport",jae=class Bae{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=EV,this._completeRedirectFn=NV,this._overrideRedirectResult=aae}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;Ai(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield LV(e,n,r,Al(),i);return function Pae(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},xae),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Tt().toLowerCase();n&&(a=K2(c)?"_blank":n),W2(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function bse(t=Tt()){var e;return zp(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function Oae(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new FV(null);const d=window.open(e||"",a,l);N(d,t,"popup-blocked");try{d.focus()}catch{}return new FV(d)}(e,a,Xp())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function Aoe(t){pt().location.href=t}(yield LV(e,n,r,Al(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ai(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function Aae(t){return Fb.apply(this,arguments)}(e),i=new hae(e);return r.register("authEvent",s=>(N(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vb,{type:Vb},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[Vb];void 0!==o&&n(!!o),Fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function yae(t){return Ob.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Z2()||JD()||zp()}};var BV="@firebase/auth";class $ae{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){N(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const qae=GF("authIdTokenMaxAge")||300;let $V=null;const Wae=t=>function(){var e=g(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>qae)return;const s=r?.token;$V!==s&&($V=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Kae(t=uI()){const e=Qa(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function Ose(t,e){const n=Qa(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Dp(n.getOptions(),e??{}))return i;Fn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:jae,persistence:[Loe,Coe,EV]}),r=GF("authTokenSyncURL");if(r){const s=Wae(r);(function goe(t,e,n){It(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),wV(n,o=>s(o))}const i=$F("auth");return i&&function Lse(t,e,n){const r=At(t);N(r._canInitEmulator,r,"emulator-config-failed"),N(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=uV(e),{host:o,port:a}=function Vse(t){const e=uV(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:cV(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:cV(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Use(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function HV(t){return new ze(function(e){return{unsubscribe:wV(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}!function Gae(t){wn(new tn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;N(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eV(t)},c=new Pse(r,i,s,u);return function Fse(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ni);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),wn(new tn("auth-internal",e=>{const n=At(e.getProvider("auth").getImmediate());return new $ae(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),et(BV,"0.23.2",function Hae(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),et(BV,"0.23.2","esm2017")}("Browser");class Bl{constructor(e){return e}}class zV{constructor(){return lD("auth")}}const Bb=new U("angularfire2.auth-instances");function Yae(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Bl(r)}}const Jae={provide:zV,deps:[[new mn,Bb]]},Xae={provide:Bl,useFactory:function Qae(t,e){const n=cD("auth",t,e);return n&&new Bl(n)},deps:[[new mn,Bb],Za]};let Zae=(()=>{class t{constructor(){et("angularfire",kp.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=Ot({providers:[Xae,Jae]}),t})();function eue(t,...e){return{ngModule:Zae,providers:[{provide:Bb,useFactory:Yae(t),multi:!0,deps:[Ee,Xt,dD,hD,[new mn,PD],...e]}]}}const tue=En(HV,!0),nue=En(ooe,!0),rue=En(Kae,!0),iue=En(aoe,!0),sue=En(rae,!0),oue=En(moe,!0);var P,aue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tr={},jb=jb||{},ee=aue||self;function ig(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function jl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var $b="closure_uid_"+(1e9*Math.random()>>>0),cue=0;function lue(t,e,n){return t.call.apply(t.bind,arguments)}function due(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function nn(t,e,n){return(nn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?lue:due).apply(null,arguments)}function sg(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function xt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function hs(){this.s=this.s,this.o=this.o}hs.prototype.s=!1,hs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function uue(t){Object.prototype.hasOwnProperty.call(t,$b)&&t[$b]||(t[$b]=++cue)}(this)},hs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qV=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Hb(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function WV(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ig(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function rn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}rn.prototype.h=function(){this.defaultPrevented=!0};var fue=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ee.addEventListener("test",()=>{},e),ee.removeEventListener("test",()=>{},e)}catch{}return t}();function $l(t){return/^[\s\xa0]*$/.test(t)}function og(){var t=ee.navigator;return t&&(t=t.userAgent)?t:""}function Qr(t){return-1!=og().indexOf(t)}function Gb(t){return Gb[" "](t),t}Gb[" "]=function(){};var qb,t,gue=Qr("Opera"),su=Qr("Trident")||Qr("MSIE"),KV=Qr("Edge"),zb=KV||su,QV=Qr("Gecko")&&!(-1!=og().toLowerCase().indexOf("webkit")&&!Qr("Edge"))&&!(Qr("Trident")||Qr("MSIE"))&&!Qr("Edge"),mue=-1!=og().toLowerCase().indexOf("webkit")&&!Qr("Edge");function YV(){var t=ee.document;return t?t.documentMode:void 0}e:{var Wb="",Kb=(t=og(),QV?/rv:([^\);]+)(\)|;)/.exec(t):KV?/Edge\/([\d\.]+)/.exec(t):su?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):mue?/WebKit\/(\S+)/.exec(t):gue?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(Kb&&(Wb=Kb?Kb[1]:""),su){var Qb=YV();if(null!=Qb&&Qb>parseFloat(Wb)){qb=String(Qb);break e}}qb=Wb}var yue=ee.document&&su&&(YV()||parseInt(qb,10))||void 0;function Hl(t,e){if(rn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(QV){e:{try{Gb(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:_ue[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Hl.$.h.call(this)}}xt(Hl,rn);var _ue={2:"touch",3:"pen",4:"mouse"};Hl.prototype.h=function(){Hl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Gl="closure_listenable_"+(1e6*Math.random()|0),vue=0;function wue(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++vue,this.fa=this.ia=!1}function ag(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Jb(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function XV(t){const e={};for(const n in t)e[n]=t[n];return e}const ZV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function eU(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<ZV.length;s++)n=ZV[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ug(t){this.src=t,this.g={},this.h=0}function Xb(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=qV(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ag(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Zb(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}ug.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=Zb(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new wue(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var e0="closure_lm_"+(1e6*Math.random()|0),t0={};function tU(t,e,n,r,i){if(r&&r.once)return rU(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)tU(t,e[s],n,r,i);return null}return n=o0(n),t&&t[Gl]?t.O(e,n,jl(r)?!!r.capture:!!r,i):nU(t,e,n,!1,r,i)}function nU(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=jl(i)?!!i.capture:!!i,a=r0(t);if(a||(t[e0]=a=new ug(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Eue(){const e=Due;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)fue||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(sU(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function rU(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)rU(t,e[s],n,r,i);return null}return n=o0(n),t&&t[Gl]?t.P(e,n,jl(r)?!!r.capture:!!r,i):nU(t,e,n,!0,r,i)}function iU(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)iU(t,e[s],n,r,i);else r=jl(r)?!!r.capture:!!r,n=o0(n),t&&t[Gl]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Zb(s=t.g[e],n,r,i))&&(ag(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=r0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Zb(e,n,r,i)),(n=-1<t?e[t]:null)&&n0(n))}function n0(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Gl])Xb(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(sU(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=r0(e))?(Xb(n,t),0==n.h&&(n.src=null,e[e0]=null)):ag(t)}}}function sU(t){return t in t0?t0[t]:t0[t]="on"+t}function Due(t,e){if(t.fa)t=!0;else{e=new Hl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&n0(t),t=n.call(r,e)}return t}function r0(t){return(t=t[e0])instanceof ug?t:null}var s0="__closure_events_fn_"+(1e9*Math.random()>>>0);function o0(t){return"function"==typeof t?t:(t[s0]||(t[s0]=function(e){return t.handleEvent(e)}),t[s0])}function Mt(){hs.call(this),this.i=new ug(this),this.S=this,this.J=null}function Gt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new rn(e,t);else if(e instanceof rn)e.target=e.target||t;else{var i=e;eU(e=new rn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=cg(o,r,!0,e)&&i}if(i=cg(o=e.g=t,r,!0,e)&&i,i=cg(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=cg(o=e.g=n[s],r,!1,e)&&i}function cg(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&Xb(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}xt(Mt,hs),Mt.prototype[Gl]=!0,Mt.prototype.removeEventListener=function(t,e,n,r){iU(this,t,e,n,r)},Mt.prototype.N=function(){if(Mt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ag(n[r]);delete t.g[e],t.h--}}this.J=null},Mt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Mt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var a0=ee.JSON.stringify;function bue(){var t=u0;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var oU=new class Cue{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Sue,t=>t.reset());class Sue{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Aue(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function xue(t){ee.setTimeout(()=>{throw t},0)}let zl,ql=!1,u0=new class Tue{constructor(){this.h=this.g=null}add(e,n){const r=oU.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},aU=()=>{const t=ee.Promise.resolve(void 0);zl=()=>{t.then(Mue)}};var Mue=()=>{for(var t;t=bue();){try{t.h.call(t.g)}catch(n){xue(n)}var e=oU;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ql=!1};function lg(t,e){Mt.call(this),this.h=t||1,this.g=e||ee,this.j=nn(this.qb,this),this.l=Date.now()}function c0(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function l0(t,e,n){if("function"==typeof t)n&&(t=nn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=nn(t.handleEvent,t)}return 2147483647<Number(e)?-1:ee.setTimeout(t,e||0)}function uU(t){t.g=l0(()=>{t.g=null,t.i&&(t.i=!1,uU(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}xt(lg,Mt),(P=lg.prototype).ga=!1,P.T=null,P.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Gt(this,"tick"),this.ga&&(c0(this),this.start()))}},P.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},P.N=function(){lg.$.N.call(this),c0(this),delete this.g};class Nue extends hs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:uU(this)}N(){super.N(),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wl(t){hs.call(this),this.h=t,this.g={}}xt(Wl,hs);var cU=[];function lU(t,e,n,r){Array.isArray(n)||(n&&(cU[0]=n.toString()),n=cU);for(var i=0;i<n.length;i++){var s=tU(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function dU(t){Jb(t.g,function(e,n){this.g.hasOwnProperty(n)&&n0(e)},t),t.g={}}function dg(){this.g=!0}function ou(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Oue(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return a0(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Wl.prototype.N=function(){Wl.$.N.call(this),dU(this)},Wl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},dg.prototype.Ea=function(){this.g=!1},dg.prototype.info=function(){};var go={},hU=null;function hg(){return hU=hU||new Mt}function fU(t){rn.call(this,go.Ta,t)}function Kl(t){const e=hg();Gt(e,new fU(e))}function pU(t,e){rn.call(this,go.STAT_EVENT,t),this.stat=e}function Dn(t){const e=hg();Gt(e,new pU(e,t))}function gU(t,e){rn.call(this,go.Ua,t),this.size=e}function Ql(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){t()},e)}go.Ta="serverreachability",xt(fU,rn),go.STAT_EVENT="statevent",xt(pU,rn),go.Ua="timingevent",xt(gU,rn);var fg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},mU={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function d0(){}function _U(){}d0.prototype.h=null;var p0,Yl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function h0(){rn.call(this,"d")}function f0(){rn.call(this,"c")}function pg(){}function Jl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Wl(this),this.P=Fue,this.V=new lg(t=zb?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new vU}function vU(){this.i=null,this.g="",this.h=!1}xt(h0,rn),xt(f0,rn),xt(pg,d0),pg.prototype.g=function(){return new XMLHttpRequest},pg.prototype.i=function(){return{}},p0=new pg;var Fue=45e3,g0={},gg={};function m0(t,e,n){t.L=1,t.v=vg(ki(e)),t.s=n,t.S=!0,wU(t,null)}function wU(t,e){t.G=Date.now(),Xl(t),t.A=ki(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),MU(n.i,"t",r),t.C=0,n=t.l.J,t.h=new vU,t.g=eB(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Nue(nn(t.Pa,t,t.g),t.O)),lU(t.U,t.g,"readystatechange",t.nb),e=t.I?XV(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Kl(),function Rue(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function IU(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function EU(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Lue(t,n),i==gg){4==e&&(t.o=4,Dn(14),r=!1),ou(t.j,t.m,null,"[Incomplete Response]");break}if(i==g0){t.o=4,Dn(15),ou(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}ou(t.j,t.m,i,null),y0(t,i)}IU(t)&&i!=gg&&i!=g0&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Dn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),C0(e),e.M=!0,Dn(11))):(ou(t.j,t.m,n,"[Invalid Chunked Response]"),mo(t),Zl(t))}function Lue(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?gg:(n=Number(e.substring(n,r)),isNaN(n)?g0:(r+=1)+n>e.length?gg:(e=e.slice(r,r+n),t.C=r+n,e))}function Xl(t){t.Y=Date.now()+t.P,DU(t,t.P)}function DU(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Ql(nn(t.lb,t),e)}function mg(t){t.B&&(ee.clearTimeout(t.B),t.B=null)}function Zl(t){0==t.l.H||t.J||YU(t.l,t)}function mo(t){mg(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,c0(t.V),dU(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function y0(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||_0(n.i,t)))if(!t.K&&_0(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;bg(n),Dg(n)}D0(n),Dn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ql(nn(n.ib,n),6e3));if(1>=kU(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else _o(n,11)}else if((t.K||n.g==t)&&bg(n),!$l(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(v0(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,je(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=ZU(r,r.J?r.pa:null,r.Y),o.K){PU(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(mg(a),Xl(a)),r.g=o}else KU(r);0<n.j.length&&Cg(n)}else"stop"!=c[0]&&"close"!=c[0]||_o(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?_o(n,7):E0(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Kl()}catch{}}function CU(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ig(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Uue(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ig(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Vue(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(ig(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(P=Jl.prototype).setTimeout=function(t){this.P=t},P.nb=function(t){t=t.target;const e=this.M;e&&3==Yr(t)?e.l():this.Pa(t)},P.Pa=function(t){try{if(t==this.g)e:{const l=Yr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||zb||this.g&&(this.h.h||this.g.ja()||$U(this.g)))){this.J||4!=l||7==e||Kl(),mg(this);var n=this.g.da();this.ca=n;t:if(IU(this)){var r=$U(this.g);t="";var i=r.length,s=4==Yr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){mo(this),Zl(this);var o="";break t}this.h.i=new ee.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function kue(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$l(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Dn(12),mo(this),Zl(this);break e}ou(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,y0(this,n)}this.S?(EU(this,l,o),zb&&this.i&&3==l&&(lU(this.U,this.V,"tick",this.mb),this.V.start())):(ou(this.j,this.m,o,null),y0(this,o)),4==l&&mo(this),this.i&&!this.J&&(4==l?YU(this.l,this):(this.i=!1,Xl(this)))}else(function rce(t){const e={};t=(t.g&&2<=Yr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if($l(t[r]))continue;var n=Aue(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Iue(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Dn(12)):(this.o=0,Dn(13)),mo(this),Zl(this)}}}catch{}},P.mb=function(){if(this.g){var t=Yr(this.g),e=this.g.ja();this.C<e.length&&(mg(this),EU(this,t,e),this.i&&4!=t&&Xl(this))}},P.cancel=function(){this.J=!0,mo(this)},P.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Pue(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Kl(),Dn(17)),mo(this),this.o=2,Zl(this)):DU(this,this.Y-t)};var bU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof yo){this.h=t.h,yg(this,t.j),this.s=t.s,this.g=t.g,_g(this,t.m),this.l=t.l;var e=t.i,n=new nd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),TU(this,n),this.o=t.o}else t&&(e=String(t).match(bU))?(this.h=!1,yg(this,e[1]||"",!0),this.s=ed(e[2]||""),this.g=ed(e[3]||"",!0),_g(this,e[4]),this.l=ed(e[5]||"",!0),TU(this,e[6]||"",!0),this.o=ed(e[7]||"")):(this.h=!1,this.i=new nd(null,this.h))}function ki(t){return new yo(t)}function yg(t,e,n){t.j=n?ed(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function _g(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function TU(t,e,n){e instanceof nd?(t.i=e,function que(t,e){e&&!t.j&&(fs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(AU(this,r),MU(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=td(e,Gue)),t.i=new nd(e,t.h))}function je(t,e,n){t.i.set(e,n)}function vg(t){return je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ed(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function td(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,jue),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function jue(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}yo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(td(e,SU,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(td(e,SU,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(td(n,"/"==n.charAt(0)?Hue:$ue,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",td(n,zue)),t.join("")};var SU=/[#\/\?@]/g,$ue=/[#\?:]/g,Hue=/[#\?]/g,Gue=/[#\?@]/g,zue=/#/g;function nd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function fs(t){t.g||(t.g=new Map,t.h=0,t.i&&function Bue(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function AU(t,e){fs(t),e=au(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function xU(t,e){return fs(t),e=au(t,e),t.g.has(e)}function MU(t,e,n){AU(t,e),0<n.length&&(t.i=null,t.g.set(au(t,e),Hb(n)),t.h+=n.length)}function au(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function NU(t){this.l=t||Kue,t=ee.PerformanceNavigationTiming?0<(t=ee.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ee.g&&ee.g.Ka&&ee.g.Ka()&&ee.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(P=nd.prototype).add=function(t,e){fs(this),this.i=null,t=au(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},P.forEach=function(t,e){fs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},P.ta=function(){fs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},P.Z=function(t){fs(this);let e=[];if("string"==typeof t)xU(this,t)&&(e=e.concat(this.g.get(au(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},P.set=function(t,e){return fs(this),this.i=null,xU(this,t=au(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},P.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},P.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Kue=10;function RU(t){return!!t.h||!!t.g&&t.g.size>=t.j}function kU(t){return t.h?1:t.g?t.g.size:0}function _0(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function v0(t,e){t.g?t.g.add(e):t.h=e}function PU(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function OU(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Hb(t.i)}NU.prototype.cancel=function(){if(this.i=OU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Que=class{stringify(t){return ee.JSON.stringify(t,void 0)}parse(t){return ee.JSON.parse(t,void 0)}};function Yue(){this.g=new Que}function Jue(t,e,n){const r=n||"";try{CU(t,function(i,s){let o=i;jl(i)&&(o=a0(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function wg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function rd(t){this.l=t.fc||null,this.j=t.ob||!1}function Ig(t,e){Mt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=w0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xt(rd,d0),rd.prototype.g=function(){return new Ig(this.l,this.j)},rd.prototype.i=function(t){return function(){return t}}({}),xt(Ig,Mt);var w0=0;function FU(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function id(t){t.readyState=4,t.l=null,t.j=null,t.A=null,sd(t)}function sd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(P=Ig.prototype).open=function(t,e){if(this.readyState!=w0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,sd(this)},P.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ee).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},P.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,id(this)),this.readyState=w0},P.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,sd(this)),this.g&&(this.readyState=3,sd(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ee.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;FU(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},P.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?id(this):sd(this),3==this.readyState&&FU(this)}},P.Za=function(t){this.g&&(this.response=this.responseText=t,id(this))},P.Ya=function(t){this.g&&(this.response=t,id(this))},P.ka=function(){this.g&&id(this)},P.setRequestHeader=function(t,e){this.v.append(t,e)},P.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},P.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Ig.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Zue=ee.JSON.parse;function rt(t){Mt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=LU,this.L=this.M=!1}xt(rt,Mt);var LU="",ece=/^https?$/i,tce=["POST","PUT"];function VU(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,UU(t),Eg(t)}function UU(t){t.F||(t.F=!0,Gt(t,"complete"),Gt(t,"error"))}function BU(t){if(t.h&&typeof jb<"u"&&(!t.C[1]||4!=Yr(t)||2!=t.da()))if(t.v&&4==Yr(t))l0(t.La,0,t);else if(Gt(t,"readystatechange"),4==Yr(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(bU)[1]||null;!i&&ee.self&&ee.self.location&&(i=ee.self.location.protocol.slice(0,-1)),r=!ece.test(i?i.toLowerCase():"")}n=r}if(n)Gt(t,"complete"),Gt(t,"success");else{t.m=6;try{var s=2<Yr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",UU(t)}}finally{Eg(t)}}}function Eg(t,e){if(t.g){jU(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Gt(t,"ready");try{n.onreadystatechange=r}catch{}}}function jU(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ee.clearTimeout(t.A),t.A=null)}function Yr(t){return t.g?t.g.readyState:0}function $U(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case LU:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function HU(t){let e="";return Jb(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function I0(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=HU(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):je(t,e,n))}function od(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function GU(t){this.Ga=0,this.j=[],this.l=new dg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=od("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=od("baseRetryDelayMs",5e3,t),this.hb=od("retryDelaySeedMs",1e4,t),this.eb=od("forwardChannelMaxRetries",2,t),this.xa=od("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new NU(t&&t.concurrentRequestLimit),this.Ja=new Yue,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function E0(t){if(zU(t),3==t.H){var e=t.W++,n=ki(t.I);if(je(n,"SID",t.K),je(n,"RID",e),je(n,"TYPE","terminate"),ad(t,n),(e=new Jl(t,t.l,e)).L=2,e.v=vg(ki(n)),n=!1,ee.navigator&&ee.navigator.sendBeacon)try{n=ee.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ee.Image&&((new Image).src=e.v,n=!0),n||(e.g=eB(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Xl(e)}XU(t)}function Dg(t){t.g&&(C0(t),t.g.cancel(),t.g=null)}function zU(t){Dg(t),t.u&&(ee.clearTimeout(t.u),t.u=null),bg(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ee.clearTimeout(t.m),t.m=null)}function Cg(t){if(!RU(t.i)&&!t.m){t.m=!0;var e=t.Na;zl||aU(),ql||(zl(),ql=!0),u0.add(e,t),t.C=0}}function qU(t,e){var n;n=e?e.m:t.W++;const r=ki(t.I);je(r,"SID",t.K),je(r,"RID",n),je(r,"AID",t.V),ad(t,r),t.o&&t.s&&I0(r,t.o,t.s),n=new Jl(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=WU(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),v0(t.i,n),m0(n,r,e)}function ad(t,e){t.na&&Jb(t.na,function(n,r){je(e,r,n)}),t.h&&CU({},function(n,r){je(e,r,n)})}function WU(t,e,n){n=Math.min(t.j.length,n);var r=t.h?nn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{Jue(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function KU(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;zl||aU(),ql||(zl(),ql=!0),u0.add(e,t),t.A=0}}function D0(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Ql(nn(t.Ma,t),JU(t,t.A)),t.A++,0))}function C0(t){null!=t.B&&(ee.clearTimeout(t.B),t.B=null)}function QU(t){t.g=new Jl(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=ki(t.wa);je(e,"RID","rpc"),je(e,"SID",t.K),je(e,"AID",t.V),je(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&je(e,"TO",t.qa),je(e,"TYPE","xmlhttp"),ad(t,e),t.o&&t.s&&I0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=vg(ki(e)),n.s=null,n.S=!0,wU(n,t)}function bg(t){null!=t.v&&(ee.clearTimeout(t.v),t.v=null)}function YU(t,e){var n=null;if(t.g==e){bg(t),C0(t),t.g=null;var r=2}else{if(!_0(t.i,e))return;n=e.F,PU(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Gt(r=hg(),new gU(r,n)),Cg(t)}else KU(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function ice(t,e){return!(kU(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Ql(nn(t.Na,t,e),JU(t,t.C)),t.C++,0)))}(t,e)||2==r&&D0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:_o(t,5);break;case 4:_o(t,10);break;case 3:_o(t,6);break;default:_o(t,2)}}function JU(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function _o(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=nn(t.pb,t);n||(n=new yo("//www.google.com/images/cleardot.gif"),ee.location&&"http"==ee.location.protocol||yg(n,"https"),vg(n)),function Xue(t,e){const n=new dg;if(ee.Image){const r=new Image;r.onload=sg(wg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=sg(wg,n,r,"TestLoadImage: error",!1,e),r.onabort=sg(wg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=sg(wg,n,r,"TestLoadImage: timeout",!1,e),ee.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Dn(2);t.H=0,t.h&&t.h.za(e),XU(t),zU(t)}function XU(t){if(t.H=0,t.ma=[],t.h){const e=OU(t.i);(0!=e.length||0!=t.j.length)&&(WV(t.ma,e),WV(t.ma,t.j),t.i.i.length=0,Hb(t.j),t.j.length=0),t.h.ya()}}function ZU(t,e,n){var r=n instanceof yo?ki(n):new yo(n);if(""!=r.g)e&&(r.g=e+"."+r.g),_g(r,r.m);else{var i=ee.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new yo(null);r&&yg(s,r),e&&(s.g=e),i&&_g(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&je(r,n,e),je(r,"VER",t.ra),ad(t,r),r}function eB(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new rt(n&&t.Ha&&!t.va?new rd({ob:!0}):t.va)).Oa(t.J),e}function tB(){}function Tg(){if(su&&!(10<=Number(yue)))throw Error("Environmental error: no available transport.")}function Yn(t,e){Mt.call(this),this.g=new GU(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!$l(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$l(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new uu(this)}function nB(t){h0.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function rB(){f0.call(this),this.status=1}function uu(t){this.g=t}function Sr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function b0(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Se(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(P=rt.prototype).Oa=function(t){this.M=t},P.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():p0.g(),this.C=function yU(t){return t.h||(t.h=t.i())}(this.u?this.u:p0),this.g.onreadystatechange=nn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void VU(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=ee.FormData&&t instanceof ee.FormData,!(0<=qV(tce,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{jU(this),0<this.B&&((this.L=function nce(t){return su&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=nn(this.ua,this)):this.A=l0(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){VU(this,s)}},P.ua=function(){typeof jb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gt(this,"timeout"),this.abort(8))},P.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Gt(this,"complete"),Gt(this,"abort"),Eg(this))},P.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Eg(this,!0)),rt.$.N.call(this)},P.La=function(){this.s||(this.G||this.v||this.l?BU(this):this.kb())},P.kb=function(){BU(this)},P.isActive=function(){return!!this.g},P.da=function(){try{return 2<Yr(this)?this.g.status:-1}catch{return-1}},P.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},P.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Zue(e)}},P.Ia=function(){return this.m},P.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(P=GU.prototype).ra=8,P.H=1,P.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Jl(this,this.l,t);let s=this.s;if(this.U&&(s?(s=XV(s),eU(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=WU(this,i,e),je(n=ki(this.I),"RID",t),je(n,"CVER",22),this.F&&je(n,"X-HTTP-Session-Id",this.F),ad(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(HU(s)))+"&"+e:this.o&&I0(n,this.o,s)),v0(this.i,i),this.bb&&je(n,"TYPE","init"),this.P?(je(n,"$req",e),je(n,"SID","null"),i.aa=!0,m0(i,n,null)):m0(i,n,e),this.H=2}}else 3==this.H&&(t?qU(this,t):0==this.j.length||RU(this.i)||qU(this))},P.Ma=function(){if(this.u=null,QU(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ql(nn(this.jb,this),t)}},P.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Dn(10),Dg(this),QU(this))},P.ib=function(){null!=this.v&&(this.v=null,Dg(this),D0(this),Dn(19))},P.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Dn(2)):(this.l.info("Failed to ping google.com"),Dn(1))},P.isActive=function(){return!!this.h&&this.h.isActive(this)},(P=tB.prototype).Ba=function(){},P.Aa=function(){},P.za=function(){},P.ya=function(){},P.isActive=function(){return!0},P.Va=function(){},Tg.prototype.g=function(t,e){return new Yn(t,e)},xt(Yn,Mt),Yn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Dn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=ZU(t,null,t.Y),Cg(t)},Yn.prototype.close=function(){E0(this.g)},Yn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=a0(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Cg(e)},Yn.prototype.N=function(){this.g.h=null,delete this.j,E0(this.g),delete this.g,Yn.$.N.call(this)},xt(nB,h0),xt(rB,f0),xt(uu,tB),uu.prototype.Ba=function(){Gt(this.g,"a")},uu.prototype.Aa=function(t){Gt(this.g,new nB(t))},uu.prototype.za=function(t){Gt(this.g,new rB)},uu.prototype.ya=function(){Gt(this.g,"b")},xt(Sr,function sce(){this.blockSize=-1}),Sr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Sr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)b0(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){b0(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){b0(this,r),i=0;break}}this.h=i,this.i+=e},Sr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var oce={};function T0(t){return-128<=t&&128>t?function pue(t,e){var n=oce;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Se([0|e],0>e?-1:0)}):new Se([0|t],0>t?-1:0)}function Jr(t){if(isNaN(t)||!isFinite(t))return cu;if(0>t)return zt(Jr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=S0;return new Se(e,0)}var S0=4294967296,cu=T0(0),A0=T0(1),sB=T0(16777216);function Pi(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function hr(t){return-1==t.h}function zt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Se(n,~t.h).add(A0)}function Sg(t,e){return t.add(zt(e))}function Ag(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ud(t,e){this.g=t,this.h=e}function xg(t,e){if(Pi(e))throw Error("division by zero");if(Pi(t))return new ud(cu,cu);if(hr(t))return e=xg(zt(t),e),new ud(zt(e.g),zt(e.h));if(hr(e))return e=xg(t,zt(e)),new ud(zt(e.g),e.h);if(30<t.g.length){if(hr(t)||hr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=A0,r=e;0>=r.X(t);)n=oB(n),r=oB(r);var i=lu(n,1),s=lu(r,1);for(r=lu(r,2),n=lu(n,2);!Pi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=lu(r,1),n=lu(n,1)}return e=Sg(t,i.R(e)),new ud(i,e)}for(i=cu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Jr(n)).R(e);hr(o)||0<o.X(t);)o=(s=Jr(n-=r)).R(e);Pi(s)&&(s=A0),i=i.add(s),t=Sg(t,o)}return new ud(i,t)}function oB(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Se(n,t.h)}function lu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Se(i,t.h)}(P=Se.prototype).ea=function(){if(hr(this))return-zt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:S0+r)*e,e*=S0}return t},P.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Pi(this))return"0";if(hr(this))return"-"+zt(this).toString(t);for(var e=Jr(Math.pow(t,6)),n=this,r="";;){var i=xg(n,e).g,s=((0<(n=Sg(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Pi(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},P.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},P.X=function(t){return hr(t=Sg(this,t))?-1:Pi(t)?0:1},P.abs=function(){return hr(this)?zt(this):this},P.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Se(n,-2147483648&n[n.length-1]?-1:0)},P.R=function(t){if(Pi(this)||Pi(t))return cu;if(hr(this))return hr(t)?zt(this).R(zt(t)):zt(zt(this).R(t));if(hr(t))return zt(this.R(zt(t)));if(0>this.X(sB)&&0>t.X(sB))return Jr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,Ag(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Ag(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Ag(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Ag(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Se(n,0)},P.gb=function(t){return xg(this,t).h},P.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Se(n,this.h&t.h)},P.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Se(n,this.h|t.h)},P.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Se(n,this.h^t.h)},Tg.prototype.createWebChannel=Tg.prototype.g,Yn.prototype.send=Yn.prototype.u,Yn.prototype.open=Yn.prototype.m,Yn.prototype.close=Yn.prototype.close,fg.NO_ERROR=0,fg.TIMEOUT=8,fg.HTTP_ERROR=6,mU.COMPLETE="complete",_U.EventType=Yl,Yl.OPEN="a",Yl.CLOSE="b",Yl.ERROR="c",Yl.MESSAGE="d",Mt.prototype.listen=Mt.prototype.O,rt.prototype.listenOnce=rt.prototype.P,rt.prototype.getLastError=rt.prototype.Sa,rt.prototype.getLastErrorCode=rt.prototype.Ia,rt.prototype.getStatus=rt.prototype.da,rt.prototype.getResponseJson=rt.prototype.Wa,rt.prototype.getResponseText=rt.prototype.ja,rt.prototype.send=rt.prototype.ha,rt.prototype.setWithCredentials=rt.prototype.Oa,Sr.prototype.digest=Sr.prototype.l,Sr.prototype.reset=Sr.prototype.reset,Sr.prototype.update=Sr.prototype.j,Se.prototype.add=Se.prototype.add,Se.prototype.multiply=Se.prototype.R,Se.prototype.modulo=Se.prototype.gb,Se.prototype.compare=Se.prototype.X,Se.prototype.toNumber=Se.prototype.ea,Se.prototype.toString=Se.prototype.toString,Se.prototype.getBits=Se.prototype.D,Se.fromNumber=Jr,Se.fromString=function iB(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return zt(iB(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Jr(Math.pow(e,8)),r=cu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Jr(Math.pow(e,s)),r=r.R(s).add(Jr(o))):r=(r=r.R(n)).add(Jr(o))}return r};var ace=Tr.createWebChannelTransport=function(){return new Tg},uce=Tr.getStatEventTarget=function(){return hg()},x0=Tr.ErrorCode=fg,cce=Tr.EventType=mU,lce=Tr.Event=go,aB=Tr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},dce=Tr.FetchXmlHttpFactory=rd,Mg=Tr.WebChannel=_U,hce=Tr.XhrIo=rt,fce=Tr.Md5=Sr,du=Tr.Integer=Se;const uB="@firebase/firestore";class Nt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");let hu="9.23.0";const ps=new Ka("@firebase/firestore");function M0(){return ps.logLevel}function x(t,...e){if(ps.logLevel<=ye.DEBUG){const n=e.map(N0);ps.debug(`Firestore (${hu}): ${t}`,...n)}}function ut(t,...e){if(ps.logLevel<=ye.ERROR){const n=e.map(N0);ps.error(`Firestore (${hu}): ${t}`,...n)}}function Ar(t,...e){if(ps.logLevel<=ye.WARN){const n=e.map(N0);ps.warn(`Firestore (${hu}): ${t}`,...n)}}function N0(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function L(t="Unexpected state"){const e=`FIRESTORE (${hu}) INTERNAL ASSERTION FAILED: `+t;throw ut(e),new Error(e)}function j(t,e){t||L()}function k(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Et{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class cB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pce{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nt.UNAUTHENTICATED))}shutdown(){}}class gce{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class mce{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Et;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Et,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{x("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(x("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Et)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(x("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(j("string"==typeof r.accessToken),new cB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return j(null===e||"string"==typeof e),new Nt(e)}}class yce{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class _ce{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new yce(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vce{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&x("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,x("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{x("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):x("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(j("string"==typeof n.token),this.T=n.token,new lB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function wce(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class dB{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=wce(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function J(t,e){return t<e?-1:t>e?1:0}function fu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Je{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new T(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new T(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new T(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Je(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?J(this.nanoseconds,e.nanoseconds):J(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class H{constructor(e){this.timestamp=e}static fromTimestamp(e){return new H(e)}static min(){return new H(new Je(0,0))}static max(){return new H(new Je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class cd{constructor(e,n,r){void 0===n?n=0:n>e.length&&L(),void 0===r?r=e.length-n:r>e.length-n&&L(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===cd.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof cd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class pe extends cd{construct(e,n,r){return new pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new T(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new pe(n)}static emptyPath(){return new pe([])}}const Ice=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ct extends cd{construct(e,n,r){return new ct(e,n,r)}static isValidIdentifier(e){return Ice.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ct(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new T(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new T(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new T(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new T(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ct(n)}static emptyPath(){return new ct([])}}class R{constructor(e){this.path=e}static fromPath(e){return new R(pe.fromString(e))}static fromName(e){return new R(pe.fromString(e).popFirst(5))}static empty(){return new R(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new R(new pe(e.slice()))}}function pB(t){return new Jn(t.readTime,t.key,-1)}class Jn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Jn(H.min(),R.empty(),-1)}static max(){return new Jn(H.max(),R.empty(),-1)}}function k0(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=R.comparator(t.documentKey,e.documentKey),0!==n?n:J(t.largestBatchId,e.largestBatchId))}const gB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Cce{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function gs(t){return P0.apply(this,arguments)}function P0(){return P0=g(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==gB)throw t;x("LocalStore","Unexpectedly lost primary lease")}),P0.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&L(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new v((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function ms(t){return"IndexedDbTransactionError"===t.name}let Xn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function hd(t){return null==t}function fd(t){return 0===t&&1/t==-1/0}function CB(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ys(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Be{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new Be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new Be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Og(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Og(this.root,e,this.comparator,!1)}getReverseIterator(){return new Og(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Og(this.root,e,this.comparator,!0)}}class Og{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??qt.RED,this.left=i??qt.EMPTY,this.right=s??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new qt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return qt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw L();const e=this.left.check();if(e!==this.right.check())throw L();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1,qt.EMPTY=new class{constructor(){this.size=0}get key(){throw L()}get value(){throw L()}get color(){throw L()}get left(){throw L()}get right(){throw L()}copy(t,e,n,r,i){return this}insert(t,e,n){return new qt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $e{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new TB(this.data.getIterator())}getIteratorFrom(e){return new TB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof $e)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $e(this.comparator);return n.data=e,n}}class TB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ln{constructor(e){this.fields=e,e.sort(ct.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new $e(ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class SB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new SB("Invalid base64 string: "+i):i}}(e);return new Dt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return J(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const Wce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(t){if(j(!!t),"string"==typeof t){let e=0;const n=Wce.exec(t);if(j(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:it(t.seconds),nanos:it(t.nanos)}}function it(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Oi(t){return"string"==typeof t?Dt.fromBase64String(t):Dt.fromUint8Array(t)}function Fg(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Lg(t){const e=t.mapValue.fields.__previous_value__;return Fg(e)?Lg(e):e}function pd(t){const e=_s(t.mapValue.fields.__local_write_time__.timestampValue);return new Je(e.seconds,e.nanos)}class Kce{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Io{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Io("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Io&&e.projectId===this.projectId&&e.database===this.database}}const vs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ws(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Fg(t)?4:NB(t)?9007199254740991:10:L()}function Zr(t,e){if(t===e)return!0;const n=ws(t);if(n!==ws(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pd(t).isEqual(pd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=_s(r.timestampValue),o=_s(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Oi(t.bytesValue).isEqual(Oi(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return it(r.geoPointValue.latitude)===it(i.geoPointValue.latitude)&&it(r.geoPointValue.longitude)===it(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return it(r.integerValue)===it(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=it(r.doubleValue),o=it(i.doubleValue);return s===o?fd(s)===fd(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return fu(t.arrayValue.values||[],e.arrayValue.values||[],Zr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(CB(s)!==CB(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Zr(s[a],o[a])))return!1;return!0}(t,e);default:return L()}var i}function gd(t,e){return void 0!==(t.values||[]).find(n=>Zr(n,e))}function Is(t,e){if(t===e)return 0;const n=ws(t),r=ws(e);if(n!==r)return J(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return J(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=it(i.integerValue||i.doubleValue),a=it(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return AB(t.timestampValue,e.timestampValue);case 4:return AB(pd(t),pd(e));case 5:return J(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Oi(i),a=Oi(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=J(o[u],a[u]);if(0!==c)return c}return J(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=J(it(i.latitude),it(s.latitude));return 0!==o?o:J(it(i.longitude),it(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Is(o[u],a[u]);if(c)return c}return J(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===vs.mapValue&&s===vs.mapValue)return 0;if(i===vs.mapValue)return 1;if(s===vs.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=J(a[l],c[l]);if(0!==d)return d;const h=Is(o[a[l]],u[c[l]]);if(0!==h)return h}return J(a.length,c.length)}(t.mapValue,e.mapValue);default:throw L()}}function AB(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return J(t,e);const n=_s(t),r=_s(e),i=J(n.seconds,r.seconds);return 0!==i?i:J(n.nanos,r.nanos)}function gu(t){return L0(t)}function L0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=_s(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Oi(t.bytesValue).toBase64():"referenceValue"in t?R.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=L0(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${L0(r.fields[a])}`;return s+"}"}(t.mapValue):L();var e}function V0(t){return!!t&&"integerValue"in t}function md(t){return!!t&&"arrayValue"in t}function xB(t){return!!t&&"nullValue"in t}function MB(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bg(t){return!!t&&"mapValue"in t}function yd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ys(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=yd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function NB(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Wt{constructor(e){this.value=e}static empty(){return new Wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yd(n)}setAll(e){let n=ct.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=yd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Bg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Bg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ys(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Wt(yd(this.value))}}function PB(t){const e=[];return ys(t.fields,(n,r)=>{const i=new ct([n]);if(Bg(r)){const s=PB(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ln(e)}class He{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new He(e,0,H.min(),H.min(),H.min(),Wt.empty(),0)}static newFoundDocument(e,n,r,i){return new He(e,1,n,H.min(),r,i,0)}static newNoDocument(e,n){return new He(e,2,n,H.min(),H.min(),Wt.empty(),0)}static newUnknownDocument(e,n){return new He(e,3,n,H.min(),H.min(),Wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(H.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=H.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof He&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new He(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Es{constructor(e,n){this.position=e,this.inclusive=n}}function OB(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?R.comparator(R.fromName(o.referenceValue),n.key):Is(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function FB(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zr(t.position[n],e.position[n]))return!1;return!0}class mu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Jce(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class LB{}class ce extends LB{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Xce(e,n,r):"array-contains"===n?new tle(e,r):"in"===n?new HB(e,r):"not-in"===n?new nle(e,r):"array-contains-any"===n?new rle(e,r):new ce(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Zce(e,r):new ele(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Is(n,this.value)):null!==n&&ws(this.value)===ws(n)&&this.matchesComparison(Is(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return L()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ae extends LB{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Ae(e,n)}matches(e){return yu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function yu(t){return"and"===t.op}function B0(t){return function VB(t){for(const e of t.filters)if(e instanceof Ae)return!1;return!0}(t)&&yu(t)}function j0(t){if(t instanceof ce)return t.field.canonicalString()+t.op.toString()+gu(t.value);if(B0(t))return t.filters.map(e=>j0(e)).join(",");{const e=t.filters.map(n=>j0(n)).join(",");return`${t.op}(${e})`}}function UB(t,e){return t instanceof ce?(n=t,(r=e)instanceof ce&&n.op===r.op&&n.field.isEqual(r.field)&&Zr(n.value,r.value)):t instanceof Ae?function(n,r){return r instanceof Ae&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&UB(s,r.filters[o]),!0)}(t,e):void L();var n,r}function jB(t){return t instanceof ce?`${(e=t).field.canonicalString()} ${e.op} ${gu(e.value)}`:t instanceof Ae?function(e){return e.op.toString()+" {"+e.getFilters().map(jB).join(" ,")+"}"}(t):"Filter";var e}class Xce extends ce{constructor(e,n,r){super(e,n,r),this.key=R.fromName(r.referenceValue)}matches(e){const n=R.comparator(e.key,this.key);return this.matchesComparison(n)}}class Zce extends ce{constructor(e,n){super(e,"in",n),this.keys=$B(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ele extends ce{constructor(e,n){super(e,"not-in",n),this.keys=$B(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $B(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>R.fromName(r.referenceValue))}class tle extends ce{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return md(n)&&gd(n.arrayValue,this.value)}}class HB extends ce{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&gd(this.value.arrayValue,n)}}class nle extends ce{constructor(e,n){super(e,"not-in",n)}matches(e){if(gd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!gd(this.value.arrayValue,n)}}class rle extends ce{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!md(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>gd(this.value.arrayValue,r))}}class ile{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function $0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new ile(t,e,n,r,i,s,o)}function Do(t){const e=k(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>j0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),hd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>gu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>gu(r)).join(",")),e.dt=n}return e.dt}function _d(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Jce(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!UB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!FB(t.startAt,e.startAt)&&FB(t.endAt,e.endAt)}function jg(t){return R.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Fi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function _u(t){return new Fi(t)}function WB(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Co(t){const e=k(t);if(null===e.wt){e.wt=[];const n=function Hg(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function H0(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new mu(n)),e.wt.push(new mu(ct.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new mu(ct.keyField(),s))}}}return e.wt}function Cn(t){const e=k(t);if(!e._t)if("F"===e.limitType)e._t=$0(e.path,e.collectionGroup,Co(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Co(e))n.push(new mu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Es(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Es(e.startAt.position,e.startAt.inclusive):null;e._t=$0(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Gg(t,e,n){return new Fi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vd(t,e){return _d(Cn(t),Cn(e))&&t.limitType===e.limitType}function KB(t){return`${Do(Cn(t))}|lt:${t.limitType}`}function q0(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>jB(r)).join(", ")}]`),hd(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>gu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>gu(r)).join(",")),`Target(${n})`}(Cn(t))}; limitType=${t.limitType})`}function wd(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):R.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Co(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=OB(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Co(n),r)||n.endAt&&!function(i,s,o){const a=OB(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Co(n),r)));var n,r}function YB(t){return(e,n)=>{let r=!1;for(const i of Co(t)){const s=sle(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function sle(t,e,n){const r=t.field.isKeyField()?R.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Is(a,u):L()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return L()}}class Li{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ys(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return bB(this.inner)}size(){return this.innerSize}}const ole=new Be(R.comparator);function Vn(){return ole}const JB=new Be(R.comparator);function Id(...t){let e=JB;for(const n of t)e=e.insert(n.key,n);return e}function XB(t){let e=JB;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ei(){return Ed()}function ZB(){return Ed()}function Ed(){return new Li(t=>t.toString(),(t,e)=>t.isEqual(e))}const ale=new Be(R.comparator),ule=new $e(R.comparator);function se(...t){let e=ule;for(const n of t)e=e.add(n);return e}const cle=new $e(J);function ej(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fd(e)?"-0":e}}function tj(t){return{integerValue:""+t}}function nj(t,e){return function yB(t){return"number"==typeof t&&Number.isInteger(t)&&!fd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?tj(e):ej(t,e)}class zg{constructor(){this._=void 0}}function lle(t,e,n){return t instanceof vu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Fg(i)&&(i=Lg(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof bo?ij(t,e):t instanceof To?sj(t,e):function(r,i){const s=rj(r,i),o=oj(s)+oj(r.gt);return V0(s)&&V0(r.gt)?tj(o):ej(r.serializer,o)}(t,e)}function dle(t,e,n){return t instanceof bo?ij(t,e):t instanceof To?sj(t,e):n}function rj(t,e){return t instanceof wu?V0(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class vu extends zg{}class bo extends zg{constructor(e){super(),this.elements=e}}function ij(t,e){const n=aj(e);for(const r of t.elements)n.some(i=>Zr(i,r))||n.push(r);return{arrayValue:{values:n}}}class To extends zg{constructor(e){super(),this.elements=e}}function sj(t,e){let n=aj(e);for(const r of t.elements)n=n.filter(i=>!Zr(i,r));return{arrayValue:{values:n}}}class wu extends zg{constructor(e,n){super(),this.serializer=e,this.gt=n}}function oj(t){return it(t.integerValue||t.doubleValue)}function aj(t){return md(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class fle{constructor(e,n){this.version=e,this.transformResults=n}}class Ke{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ke}static exists(e){return new Ke(void 0,e)}static updateTime(e){return new Ke(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qg(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Wg{}function uj(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Eu(t.key,Ke.none()):new Iu(t.key,t.data,Ke.none());{const n=t.data,r=Wt.empty();let i=new $e(ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Vi(t.key,r,new Ln(i.toArray()),Ke.none())}}function ple(t,e,n){t instanceof Iu?function(r,i,s){const o=r.value.clone(),a=dj(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Vi?function(r,i,s){if(!qg(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=dj(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(lj(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Cd(t,e,n,r){return t instanceof Iu?function(i,s,o,a){if(!qg(i.precondition,s))return o;const u=i.value.clone(),c=hj(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vi?function(i,s,o,a){if(!qg(i.precondition,s))return o;const u=hj(i.fieldTransforms,a,s),c=s.data;return c.setAll(lj(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,qg(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function gle(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=rj(r.transform,i||null);null!=s&&(null===n&&(n=Wt.empty()),n.set(r.field,s))}return n||null}function cj(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&fu(n,r,(i,s)=>function hle(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof bo&&r instanceof bo||n instanceof To&&r instanceof To?fu(n.elements,r.elements,Zr):n instanceof wu&&r instanceof wu?Zr(n.gt,r.gt):n instanceof vu&&r instanceof vu);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Iu extends Wg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vi extends Wg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function lj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function dj(t,e,n){const r=new Map;j(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,dle(o,a,n[i]))}return r}function hj(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,lle(s,o,e))}return r}class Eu extends Wg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class K0 extends Wg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Q0{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&ple(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Cd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ZB();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=uj(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(H.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&fu(this.mutations,e.mutations,(n,r)=>cj(n,r))&&fu(this.baseMutations,e.baseMutations,(n,r)=>cj(n,r))}}class Y0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){j(e.mutations.length===r.length);let i=ale;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Y0(e,n,r,i)}}class J0{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class yle{constructor(e,n){this.count=e,this.unchangedNames=n}}var gt,ge;function pj(t){if(void 0===t)return ut("GRPC error has no .code"),I.UNKNOWN;switch(t){case gt.OK:return I.OK;case gt.CANCELLED:return I.CANCELLED;case gt.UNKNOWN:return I.UNKNOWN;case gt.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case gt.INTERNAL:return I.INTERNAL;case gt.UNAVAILABLE:return I.UNAVAILABLE;case gt.UNAUTHENTICATED:return I.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case gt.NOT_FOUND:return I.NOT_FOUND;case gt.ALREADY_EXISTS:return I.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return I.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case gt.ABORTED:return I.ABORTED;case gt.OUT_OF_RANGE:return I.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return I.UNIMPLEMENTED;case gt.DATA_LOSS:return I.DATA_LOSS;default:return L()}}(ge=gt||(gt={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";class X0{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Kg}static getOrCreateInstance(){return null===Kg&&(Kg=new X0),Kg}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Kg=null;const _le=new du([4294967295,4294967295],0);function mj(t){const e=function gj(){return new TextEncoder}().encode(t),n=new fce;return n.update(e),new Uint8Array(n.digest())}function yj(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new du([n,r],0),new du([i,s],0)]}class Z0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bd(`Invalid padding: ${n}`);if(r<0)throw new bd(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new bd(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new bd(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=du.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(du.fromNumber(r)));return 1===i.compare(_le)&&(i=new du([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=mj(e),[r,i]=yj(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Z0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=mj(e),[r,i]=yj(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class bd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Td{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Sd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Td(H.min(),i,new Be(J),Vn(),se())}}class Sd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Sd(r,n,se(),se(),se())}}class Qg{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class _j{constructor(e,n){this.targetId=e,this.Vt=n}}class vj{constructor(e,n,r=Dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class wj{constructor(){this.St=0,this.Dt=Ej(),this.Ct=Dt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=se(),n=se(),r=se();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:L()}}),new Sd(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=Ej()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class vle{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Vn(),this.zt=Ij(),this.Wt=new Be(J)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:L()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(jg(o))if(0===i){const a=new R(o.path);this.Yt(r,a,He.newNoDocument(a,H.min()))}else j(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=X0.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,m,y,w;const _={localCacheCount:l,existenceFilterCount:d.count},S=d.unchangedNames;return S&&(_.bloomFilter={applied:0===c,hashCount:null!==(h=S?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(p=null===(f=S?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(w=null===(y=S?.bits)||void 0===y?void 0:y.padding)&&void 0!==w?w:0}),_}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=Oi(s).toUint8Array()}catch(l){if(l instanceof SB)return Ar("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new Z0(u,o,a)}catch(l){return Ar(l instanceof bd?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&jg(a.target)){const u=new R(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,He.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=se();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Td(e,n,this.Wt,this.jt,r);return this.jt=Vn(),this.zt=Ij(),this.Wt=new Be(J),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new wj,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new $e(J),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||x("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new wj),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Ij(){return new Be(R.comparator)}function Ej(){return new Be(R.comparator)}const wle={asc:"ASCENDING",desc:"DESCENDING"},Ile={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ele={and:"AND",or:"OR"};class Dle{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function eT(t,e){return t.useProto3Json||hd(e)?e:{value:e}}function Du(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Cle(t,e){return Du(t,e.toTimestamp())}function lt(t){return j(!!t),H.fromTimestamp(function(e){const n=_s(e);return new Je(n.seconds,n.nanos)}(t))}function tT(t,e){return(n=t,new pe(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Cj(t){const e=pe.fromString(t);return j(kj(e)),e}function Ad(t,e){return tT(t.databaseId,e.path)}function ti(t,e){const n=Cj(e);if(n.get(1)!==t.databaseId.projectId)throw new T(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new T(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new R(Tj(n))}function nT(t,e){return tT(t.databaseId,e)}function xd(t){return new pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Tj(t){return j(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Sj(t,e,n){return{name:Ad(t,e),fields:n.value.mapValue.fields}}function xj(t,e){return{documents:[nT(t,e.path)]}}function iT(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=nT(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=nT(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return Rj(Ae.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Ds((l=c).field),direction:xle(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=eT(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function Mj(t){let e=function bj(t){const e=Cj(t);return 4===e.length?pe.emptyPath():Tj(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){j(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=Nj(l);return d instanceof Ae&&B0(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new mu(Cu((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,hd(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Es((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Es(l.values||[],!l.before)}(n.endAt)),function qB(t,e,n,r,i,s,o,a){return new Fi(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function Nj(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Cu(e.unaryFilter.field);return ce.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Cu(e.unaryFilter.field);return ce.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Cu(e.unaryFilter.field);return ce.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Cu(e.unaryFilter.field);return ce.create(s,"!=",{nullValue:"NULL_VALUE"});default:return L()}}(t):void 0!==t.fieldFilter?ce.create(Cu((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return L()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return Ae.create(e.compositeFilter.filters.map(n=>Nj(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return L()}}(e.compositeFilter.op))}(t):L();var e}function xle(t){return wle[t]}function Mle(t){return Ile[t]}function Nle(t){return Ele[t]}function Ds(t){return{fieldPath:t.canonicalString()}}function Cu(t){return ct.fromServerFormat(t.fieldPath)}function Rj(t){return t instanceof ce?function(e){if("=="===e.op){if(MB(e.value))return{unaryFilter:{field:Ds(e.field),op:"IS_NAN"}};if(xB(e.value))return{unaryFilter:{field:Ds(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(MB(e.value))return{unaryFilter:{field:Ds(e.field),op:"IS_NOT_NAN"}};if(xB(e.value))return{unaryFilter:{field:Ds(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ds(e.field),op:Mle(e.op),value:e.value}}}(t):t instanceof Ae?function(e){const n=e.getFilters().map(r=>Rj(r));return 1===n.length?n[0]:{compositeFilter:{op:Nle(e.op),filters:n}}}(t):L()}function Rle(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kj(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Ui{constructor(e,n,r,i,s=H.min(),o=H.min(),a=Dt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ui(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Pj{constructor(e){this.fe=e}}function sT(t){const e=Mj({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Gg(e,e.limit,"L"):e}class Mo{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(it(e.integerValue));else if("doubleValue"in e){const r=it(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),fd(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Oi(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?NB(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):L()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),R.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Mo.Ve=new Mo;class jle{constructor(){this.rn=new dT}addToCollectionParentIndex(e,n){return this.rn.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(Jn.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(Jn.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class dT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new $e(pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $e(pe.comparator)).toArray()}}new Uint8Array(0);class on{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(41943040,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);class Ro{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ro(0)}static Mn(){return new Ro(-1)}}class Wle{constructor(){this.changes=new Li(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,He.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Yle{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class o${constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Cd(r.mutation,i,Ln.empty(),Je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){const i=ei();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Id();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ei();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Vn();const o=Ed(),a=Ed();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Vi)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),Cd(l.mutation,c,l.mutation.getFieldMask(),Je.now())):o.set(c.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new Yle(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ed();let i=new Be((o,a)=>o-a),s=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Ln.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||se()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=ZB();l.forEach(h=>{if(!s.has(h)){const f=uj(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return R.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function G0(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):v.resolve(ei());let a=-1,u=s;return o.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,se())).next(l=>({batchId:a,changes:XB(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new R(n)).next(r=>{let i=Id();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Id();return this.indexManager.getCollectionParents(e,i).next(o=>v.forEach(o,a=>{const u=(c=n,l=a.child(i),new Fi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,He.newInvalidDocument(c)))});let o=Id();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&Cd(c.mutation,u,Ln.empty(),Je.now()),wd(n,u)&&(o=o.insert(a,u))}),o})}}class Jle{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return v.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:lt(r.createTime)}),v.resolve()}getNamedQuery(e,n){return v.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:sT(r.bundledQuery),readTime:lt(r.readTime)}),v.resolve();var r}}class Xle{constructor(){this.overlays=new Be(R.comparator),this.ls=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ei();return v.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=ei(),s=n.length+1,o=new R(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Be((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=ei(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=ei(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new J0(n,r));let s=this.ls.get(n);void 0===s&&(s=se(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class hT{constructor(){this.fs=new $e(kt.ds),this.ws=new $e(kt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new kt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new kt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new R(new pe([])),r=new kt(n,e),i=new kt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new R(new pe([])),r=new kt(n,e),i=new kt(n,e+1);let s=se();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new kt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class kt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return R.comparator(e.key,n.key)||J(e.As,n.As)}static _s(e,n){return J(e.As,n.As)||R.comparator(e.key,n.key)}}class Zle{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new $e(kt.ds)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new Q0(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new kt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,n){return v.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new kt(n,0),i=new kt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $e(J);return n.forEach(i=>{const s=new kt(i,0),o=new kt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),v.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;R.isDocumentKey(s)||(s=s.child(""));const o=new kt(new R(s),0);let a=new $e(J);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),v.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){j(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return v.forEach(n.mutations,i=>{const s=new kt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new kt(n,0),i=this.Rs.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class ede{constructor(e){this.Ds=e,this.docs=new Be(R.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():He.newInvalidDocument(n))}getEntries(e,n){let r=Vn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():He.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Vn();const o=n.path,a=new R(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||k0(pB(l),r)<=0||(i.has(l.key)||wd(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return v.resolve(s)}getAllFromCollectionGroup(e,n,r,i){L()}Cs(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new tde(this)}getSize(e){return v.resolve(this.size)}}class tde extends Wle{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class nde{constructor(e){this.persistence=e,this.xs=new Li(n=>Do(n),_d),this.lastRemoteSnapshotVersion=H.min(),this.highestTargetId=0,this.Ns=0,this.ks=new hT,this.targetCount=0,this.Ms=Ro.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),v.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Ro(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.Fn(n),v.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.ks.containsKey(n))}}class fT{constructor(e,n){this.$s={},this.overlays={},this.Os=new Xn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new nde(this),this.indexManager=new jle,this.remoteDocumentCache=new ede(r=>this.referenceDelegate.Ls(r)),this.serializer=new Pj(n),this.qs=new Jle(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Xle,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new Zle(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){x("MemoryPersistence","Starting transaction:",e);const i=new rde(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return v.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class rde extends Cce{constructor(e){super(),this.currentSequenceNumber=e}}class im{constructor(e){this.persistence=e,this.Qs=new hT,this.js=null}static zs(e){return new im(e)}get Ws(){if(this.js)return this.js;throw L()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),v.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Ws,r=>{const i=R.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,H.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return v.or([()=>v.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class yT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=se(),i=se();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new yT(e,n.fromCache,r,i)}}class u${constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(WB(n))return v.resolve(null);let r=Cn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Gg(n,null,"F"),r=Cn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=se(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,Gg(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return WB(n)||i.isEqual(H.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(M0()<=ye.DEBUG&&x("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),q0(n)),this.Wi(e,o,n,function fB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=H.fromTimestamp(1e9===r?new Je(n+1,0):new Je(n,r));return new Jn(i,R.empty(),e)}(i,-1)))})}ji(e,n){let r=new $e(YB(e));return n.forEach((i,s)=>{wd(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return M0()<=ye.DEBUG&&x("QueryEngine","Using full collection scan to execute query:",q0(n)),this.Ui.getDocumentsMatchingQuery(e,n,Jn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class sde{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Be(J),this.Yi=new Li(s=>Do(s),_d),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new o$(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function l$(t,e){return _T.apply(this,arguments)}function _T(){return _T=g(function*(t,e){const n=k(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=se();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),_T.apply(this,arguments)}function d$(t){const e=k(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function ude(t,e){const n=k(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Au(t,e,n){return vT.apply(this,arguments)}function vT(){return vT=g(function*(t,e,n){const r=k(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ms(o))throw o;x("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),vT.apply(this,arguments)}function am(t,e,n){const r=k(t);let i=H.min(),s=se();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=k(a),d=l.Yi.get(c);return void 0!==d?v.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,Cn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:H.min(),n?s:se())).next(a=>(function g$(t,e,n){let r=t.Xi.get(e)||H.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function QB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class CT{constructor(){this.activeTargetIds=function W0(){return cle}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _${constructor(){this.Hr=new CT,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new CT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dde{Yr(e){}shutdown(){}}class v${constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){x("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){x("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let lm=null;function TT(){return null===lm?lm=268435456+Math.round(2147483648*Math.random()):lm++,"0x"+lm.toString(16)}const hde={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fde{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const an="WebChannelConnection";class pde extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=TT(),a=this.To(e,n);x("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(x("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Ar("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+hu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${hde[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=TT();return new Promise((o,a)=>{const u=new hce;u.setWithCredentials(!0),u.listenOnce(cce.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case x0.NO_ERROR:const l=u.getResponseJson();x(an,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case x0.TIMEOUT:x(an,`RPC '${e}' ${s} timed out`),a(new T(I.DEADLINE_EXCEEDED,"Request time out"));break;case x0.HTTP_ERROR:const d=u.getStatus();if(x(an,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(y)>=0?y:I.UNKNOWN}(f.status);a(new T(p,f.message))}else a(new T(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new T(I.UNAVAILABLE,"Connection failed."));break;default:L()}}finally{x(an,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);x(an,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=TT(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ace(),a=uce(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new dce({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");x(an,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new fde({ro:y=>{f?x(an,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(x(an,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),x(an,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),m=(y,w,_)=>{y.listen(w,S=>{try{_(S)}catch(F){setTimeout(()=>{throw F},0)}})};return m(d,Mg.EventType.OPEN,()=>{f||x(an,`RPC '${e}' stream ${i} transport opened.`)}),m(d,Mg.EventType.CLOSE,()=>{f||(f=!0,x(an,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,Mg.EventType.ERROR,y=>{f||(f=!0,Ar(an,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new T(I.UNAVAILABLE,"The operation could not be completed")))}),m(d,Mg.EventType.MESSAGE,y=>{var w;if(!f){const _=y.data[0];j(!!_);const F=_.error||(null===(w=_[0])||void 0===w?void 0:w.error);if(F){x(an,`RPC '${e}' stream ${i} received error:`,F);const $=F.status;let ne=function(cn){const ii=gt[cn];if(void 0!==ii)return pj(ii)}($),Re=F.message;void 0===ne&&(ne=I.INTERNAL,Re="Unknown error status: "+$+" with message "+F.message),f=!0,p.wo(new T(ne,Re)),d.close()}else x(an,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),m(a,lce.STAT_EVENT,y=>{y.stat===aB.PROXY?x(an,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===aB.NOPROXY&&x(an,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function dm(){return typeof document<"u"?document:null}function Ud(t){return new Dle(t,!0)}class ST{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&x("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class I${constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ST(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return g(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return g(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return g(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(ut(n.toString()),ut("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new T(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(g(function*(){e.state=0,e.start()}))}tu(e){return x("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(x("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gde extends I${constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Tle(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:L(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(j(void 0===c||"string"==typeof c),Dt.fromBase64String(c||"")):(j(void 0===c||c instanceof Uint8Array),Dt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?I.UNKNOWN:pj(u.code);return new T(c,u.message||"")}(o);n=new vj(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ti(t,r.document.name),s=lt(r.document.updateTime),o=r.document.createTime?lt(r.document.createTime):H.min(),a=new Wt({mapValue:{fields:r.document.fields}}),u=He.newFoundDocument(i,s,o,a);n=new Qg(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=ti(t,r.document),s=r.readTime?lt(r.readTime):H.min(),o=He.newNoDocument(i,s);n=new Qg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=ti(t,r.document);n=new Qg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return L();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new yle(i,s);n=new _j(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return H.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?H.min():s.readTime?lt(s.readTime):H.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=xd(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=jg(a)?{documents:xj(i,a)}:{query:iT(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=Dj(i,s.resumeToken);const u=eT(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(H.min())>0){o.readTime=Du(i,s.snapshotVersion.toTimestamp());const u=eT(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function Ale(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return L()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=xd(this.serializer),n.removeTarget=e,this.Wo(n)}}class mde extends I${constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(j(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Sle(t,e){return t&&t.length>0?(j(void 0!==e),t.map(n=>function(r,i){let s=lt(r.updateTime?r.updateTime:i);return s.isEqual(H.min())&&(s=lt(i)),new fle(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=lt(e.commitTime);return this.listener.cu(r,n)}return j(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=xd(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Md(t,e){let n;if(e instanceof Iu)n={update:Sj(t,e.key,e.value)};else if(e instanceof Eu)n={delete:Ad(t,e.key)};else if(e instanceof Vi)n={update:Sj(t,e.key,e.data),updateMask:Rle(e.fieldMask)};else{if(!(e instanceof K0))return L();n={verify:Ad(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof vu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof bo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof To)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof wu)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw L()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Cle(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:L()),n;var i}(this.serializer,r))};this.Wo(n)}}class yde extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new T(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new T(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new T(I.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class vde{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ut(n),this.mu=!1):x("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class wde{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(g(function*(){var u;Ss(o)&&(x("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=k(c);l.vu.add(4),yield xu(l),l.bu.set("Unknown"),l.vu.delete(4),yield Bd(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new vde(r,i)}}function Bd(t){return xT.apply(this,arguments)}function xT(){return xT=g(function*(t){if(Ss(t))for(const e of t.Ru)yield e(!0)}),xT.apply(this,arguments)}function xu(t){return MT.apply(this,arguments)}function MT(){return MT=g(function*(t){for(const e of t.Ru)yield e(!1)}),MT.apply(this,arguments)}function hm(t,e){const n=k(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),kT(n)?RT(n):Nu(n).Ko()&&NT(n,e))}function jd(t,e){const n=k(t),r=Nu(n);n.Au.delete(e),r.Ko()&&E$(n,e),0===n.Au.size&&(r.Ko()?r.jo():Ss(n)&&n.bu.set("Unknown"))}function NT(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(H.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Nu(t).su(e)}function E$(t,e){t.Vu.qt(e),Nu(t).iu(e)}function RT(t){t.Vu=new vle({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Nu(t).start(),t.bu.gu()}function kT(t){return Ss(t)&&!Nu(t).Uo()&&t.Au.size>0}function Ss(t){return 0===k(t).vu.size}function D$(t){t.Vu=void 0}function Ide(t){return PT.apply(this,arguments)}function PT(){return PT=g(function*(t){t.Au.forEach((e,n)=>{NT(t,e)})}),PT.apply(this,arguments)}function Ede(t,e){return OT.apply(this,arguments)}function OT(){return OT=g(function*(t,e){D$(t),kT(t)?(t.bu.Iu(e),RT(t)):t.bu.set("Unknown")}),OT.apply(this,arguments)}function Dde(t,e,n){return FT.apply(this,arguments)}function FT(){return FT=g(function*(t,e,n){if(t.bu.set("Online"),e instanceof vj&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){x("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield fm(t,r)}else if(e instanceof Qg?t.Vu.Ht(e):e instanceof _j?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(H.min()))try{const r=yield d$(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(Dt.EMPTY_BYTE_STRING,c.snapshotVersion)),E$(i,a);const l=new Ui(c.target,a,u,c.sequenceNumber);NT(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){x("RemoteStore","Failed to raise snapshot:",r),yield fm(t,r)}var r}),FT.apply(this,arguments)}function fm(t,e,n){return LT.apply(this,arguments)}function LT(){return LT=g(function*(t,e,n){if(!ms(e))throw e;t.vu.add(1),yield xu(t),t.bu.set("Offline"),n||(n=()=>d$(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){x("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Bd(t)}))}),LT.apply(this,arguments)}function C$(t,e){return e().catch(n=>fm(t,n,e))}function Mu(t){return VT.apply(this,arguments)}function VT(){return VT=g(function*(t){const e=k(t),n=As(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Cde(e);)try{const i=yield ude(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,bde(e,i)}catch(i){yield fm(e,i)}b$(e)&&T$(e)}),VT.apply(this,arguments)}function Cde(t){return Ss(t)&&t.Eu.length<10}function bde(t,e){t.Eu.push(e);const n=As(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function b$(t){return Ss(t)&&!As(t).Uo()&&t.Eu.length>0}function T$(t){As(t).start()}function Tde(t){return UT.apply(this,arguments)}function UT(){return UT=g(function*(t){As(t).hu()}),UT.apply(this,arguments)}function Sde(t){return BT.apply(this,arguments)}function BT(){return BT=g(function*(t){const e=As(t);for(const n of t.Eu)e.uu(n.mutations)}),BT.apply(this,arguments)}function Ade(t,e,n){return jT.apply(this,arguments)}function jT(){return jT=g(function*(t,e,n){const r=t.Eu.shift(),i=Y0.from(r,e,n);yield C$(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Mu(t)}),jT.apply(this,arguments)}function xde(t,e){return $T.apply(this,arguments)}function $T(){return $T=g(function*(t,e){var n;e&&As(t).ou&&(yield(n=g(function*(r,i){if(function fj(t){switch(t){default:return L();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}(s=i.code)&&s!==I.ABORTED){const o=r.Eu.shift();As(r).Qo(),yield C$(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Mu(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),b$(t)&&T$(t)}),$T.apply(this,arguments)}function S$(t,e){return HT.apply(this,arguments)}function HT(){return HT=g(function*(t,e){const n=k(t);n.asyncQueue.verifyOperationInProgress(),x("RemoteStore","RemoteStore received new credentials");const r=Ss(n);n.vu.add(3),yield xu(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Bd(n)}),HT.apply(this,arguments)}function zT(){return zT=g(function*(t,e){const n=k(t);e?(n.vu.delete(2),yield Bd(n)):e||(n.vu.add(2),yield xu(n),n.bu.set("Unknown"))}),zT.apply(this,arguments)}function Nu(t){return t.Su||(t.Su=function(e,n,r){const i=k(e);return i.fu(),new gde(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Ide.bind(null,t),ao:Ede.bind(null,t),nu:Dde.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Su.Qo(),kT(t)?RT(t):t.bu.set("Unknown")):(yield t.Su.stop(),D$(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function As(t){return t.Du||(t.Du=function(e,n,r){const i=k(e);return i.fu(),new mde(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Tde.bind(null,t),ao:xde.bind(null,t),au:Sde.bind(null,t),cu:Ade.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Du.Qo(),yield Mu(t)):(yield t.Du.stop(),t.Eu.length>0&&(x("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class qT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Et,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new qT(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ru(t,e){if(ut("AsyncQueue",`${e}: ${t}`),ms(t))return new T(I.UNAVAILABLE,`${e}: ${t}`);throw t}class ku{constructor(e){this.comparator=e?(n,r)=>e(n,r)||R.comparator(n.key,r.key):(n,r)=>R.comparator(n.key,r.key),this.keyedMap=Id(),this.sortedSet=new Be(this.comparator)}static emptySet(e){return new ku(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ku)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new ku;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class A${constructor(){this.Cu=new Be(R.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):L():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Pu{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Pu(e,n,ku.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Mde{constructor(){this.Nu=void 0,this.listeners=[]}}class Nde{constructor(){this.queries=new Li(e=>KB(e),vd),this.onlineState="Unknown",this.ku=new Set}}function WT(t,e){return KT.apply(this,arguments)}function KT(){return KT=g(function*(t,e){const n=k(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Mde),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=Ru(o,`Initialization of query '${q0(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&JT(n)}),KT.apply(this,arguments)}function QT(t,e){return YT.apply(this,arguments)}function YT(){return YT=g(function*(t,e){const n=k(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),YT.apply(this,arguments)}function Rde(t,e){const n=k(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&JT(n)}function kde(t,e,n){const r=k(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function JT(t){t.ku.forEach(e=>{e.next()})}class XT{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Pu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Pu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class N${constructor(e){this.key=e}}class R${constructor(e){this.key=e}}class k${constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=se(),this.mutatedKeys=se(),this.tc=YB(e),this.ec=new ku(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new A$,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=wd(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return L()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Pu(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new A$,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=se(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new R$(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new N$(r))}),n}hc(e){this.Yu=e.ir,this.Zu=se();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Pu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Fde{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Lde{constructor(e){this.key=e,this.fc=!1}}class Vde{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Li(a=>KB(a),vd),this._c=new Map,this.mc=new Set,this.gc=new Be(R.comparator),this.yc=new Map,this.Ic=new hT,this.Tc={},this.Ec=new Map,this.Ac=Ro.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Ude(t,e){return ZT.apply(this,arguments)}function ZT(){return ZT=g(function*(t,e){const n=function ES(t){const e=k(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=P$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kde.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$de.bind(null,e),e.dc.nu=Rde.bind(null,e.eventManager),e.dc.Pc=kde.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function Su(t,e){const n=k(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Ui(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,Cn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function eS(t,e,n,r,i){return tS.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&hm(n.remoteStore,o)}return i}),ZT.apply(this,arguments)}function tS(){return tS=g(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=g(function*(m,y,w,_){let S=y.view.sc(w);S.zi&&(S=yield am(m.localStore,y.query,!1).then(({documents:ne})=>y.view.sc(ne,S)));const F=_&&_.targetChanges.get(y.targetId),$=y.view.applyChanges(S,m.isPrimaryClient,F);return dS(m,y.targetId,$.cc),$.snapshot}),function(m,y,w,_){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield am(t.localStore,e,!0),o=new k$(e,s.ir),a=o.sc(s.documents),u=Sd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);dS(t,n,c.cc);const l=new Fde(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),tS.apply(this,arguments)}function Bde(t,e){return nS.apply(this,arguments)}function nS(){return nS=g(function*(t,e){const n=k(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!vd(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Au(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),jd(n.remoteStore,r.targetId),Ou(n,r.targetId)}).catch(gs))):(Ou(n,r.targetId),yield Au(n.localStore,r.targetId,!0))}),nS.apply(this,arguments)}function rS(){return rS=g(function*(t,e,n){const r=function DS(t){const e=k(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hde.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Gde.bind(null,e),e}(t);try{const i=yield function(s,o){const a=k(s),u=Je.now(),c=o.reduce((h,f)=>h.add(f.key),se());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Vn(),p=se();return a.Zi.getEntries(h,c).next(m=>{f=m,f.forEach((y,w)=>{w.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{l=m;const y=[];for(const w of o){const _=gle(w,l.get(w.key).overlayedDocument);null!=_&&y.push(new Vi(w.key,_,PB(_.value.mapValue),Ke.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:XB(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Be(J)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Bi(r,i.changes),yield Mu(r.remoteStore)}catch(i){const s=Ru(i,"Failed to persist write");n.reject(s)}}),rS.apply(this,arguments)}function P$(t,e){return iS.apply(this,arguments)}function iS(){return iS=g(function*(t,e){const n=k(t);try{const r=yield function ade(t,e){const n=k(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Dt.EMPTY_BYTE_STRING,H.min()).withLastLimboFreeSnapshotVersion(H.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=Vn(),c=se();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function h$(t,e,n){let r=se(),i=se();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Vn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(H.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):x("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(H.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(j(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?j(o.fc):i.removedDocuments.size>0&&(j(o.fc),o.fc=!1))}),yield Bi(n,r,e)}catch(r){yield gs(r)}}),iS.apply(this,arguments)}function O$(t,e,n){const r=k(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=k(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&JT(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function $de(t,e,n){return sS.apply(this,arguments)}function sS(){return sS=g(function*(t,e,n){const r=k(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Be(R.comparator);o=o.insert(s,He.newNoDocument(s,H.min()));const a=se().add(s),u=new Td(H.min(),new Map,new Be(J),o,a);yield P$(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),hS(r)}else yield Au(r.localStore,e,!1).then(()=>Ou(r,e,n)).catch(gs)}),sS.apply(this,arguments)}function Hde(t,e){return oS.apply(this,arguments)}function oS(){return oS=g(function*(t,e){const n=k(t),r=e.batch.batchId;try{const i=yield function ode(t,e){const n=k(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=v.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);j(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=se();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);lS(n,r,null),cS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Bi(n,i)}catch(i){yield gs(i)}}),oS.apply(this,arguments)}function Gde(t,e,n){return aS.apply(this,arguments)}function aS(){return aS=g(function*(t,e,n){const r=k(t);try{const i=yield function(s,o){const a=k(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(j(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);lS(r,e,n),cS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Bi(r,i)}catch(i){yield gs(i)}}),aS.apply(this,arguments)}function cS(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function lS(t,e,n){const r=k(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Ou(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||F$(t,r)})}function F$(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(jd(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),hS(t))}function dS(t,e,n){for(const r of n)r instanceof N$?(t.Ic.addReference(r.key,e),qde(t,r)):r instanceof R$?(x("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||F$(t,r.key)):L()}function qde(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(x("SyncEngine","New document in limbo: "+n),t.mc.add(r),hS(t))}function hS(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new R(pe.fromString(e)),r=t.Ac.next();t.yc.set(r,new Lde(n)),t.gc=t.gc.insert(n,r),hm(t.remoteStore,new Ui(Cn(_u(n.path)),r,"TargetPurposeLimboResolution",Xn.ct))}}function Bi(t,e,n){return fS.apply(this,arguments)}function fS(){return fS=g(function*(t,e,n){const r=k(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=yT.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=g(function*(u,c){const l=k(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(c,h=>v.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!ms(d))throw d;x("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),fS.apply(this,arguments)}function Wde(t,e){return pS.apply(this,arguments)}function pS(){return pS=g(function*(t,e){const n=k(t);if(!n.currentUser.isEqual(e)){x("SyncEngine","User change. New user:",e.toKey());const r=yield l$(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new T(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Bi(n,r.er)}var i}),pS.apply(this,arguments)}function Kde(t,e){const n=k(t),r=n.yc.get(e);if(r&&r.fc)return se().add(r.key);{let i=se();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class pm{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.serializer=Ud(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function c$(t,e,n,r){return new sde(t,e,n,r)}(this.persistence,new u$,e.initialUser,this.serializer)}createPersistence(e){return new fT(im.zs,this.serializer)}createSharedClientState(e){return new _$}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Fu{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>O$(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Wde.bind(null,r.syncEngine),yield function GT(t,e){return zT.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Nde}createDatastore(e){const n=Ud(e.databaseInfo.databaseId),r=new pde(e.databaseInfo);return new yde(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>O$(this.syncEngine,a,0),o=v$.D()?new v$:new dde,new wde(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new Vde(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=k(n);x("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield xu(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class gm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ut("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class ahe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nt.UNAUTHENTICATED,this.clientId=dB.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){x("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(x("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Et;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Ru(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function mm(t,e){return CS.apply(this,arguments)}function CS(){return CS=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),x("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield l$(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),CS.apply(this,arguments)}function bS(t,e){return TS.apply(this,arguments)}function TS(){return TS=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function SS(t){return AS.apply(this,arguments)}(t);x("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>S$(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>S$(e.remoteStore,s)),t._onlineComponents=e}),TS.apply(this,arguments)}function AS(){return AS=g(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){x("FirestoreClient","Using user provided OfflineComponentProvider");try{yield mm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function $$(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Ar("Error using user provided cache. Falling back to memory cache: "+n),yield mm(t,new pm)}}else x("FirestoreClient","Using default OfflineComponentProvider"),yield mm(t,new pm);return t._offlineComponents}),AS.apply(this,arguments)}function ym(t){return xS.apply(this,arguments)}function xS(){return xS=g(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(x("FirestoreClient","Using user provided OnlineComponentProvider"),yield bS(t,t._uninitializedComponentsProvider._online)):(x("FirestoreClient","Using default OnlineComponentProvider"),yield bS(t,new Fu))),t._onlineComponents}),xS.apply(this,arguments)}function Lu(t){return NS.apply(this,arguments)}function NS(){return NS=g(function*(t){const e=yield ym(t),n=e.eventManager;return n.onListen=Ude.bind(null,e.syncEngine),n.onUnlisten=Bde.bind(null,e.syncEngine),n}),NS.apply(this,arguments)}function K$(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Q$=new Map;function RS(t,e,n){if(!n)throw new T(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Y$(t){if(!R.isDocumentKey(t))throw new T(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function J$(t){if(R.isDocumentKey(t))throw new T(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":L()}function de(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new T(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vm(t);throw new T(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class Z${constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new T(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new T(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function mhe(t,e,n,r){if(!0===e&&!0===r)throw new T(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=K$(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new T(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new T(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new T(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $d{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z$({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new T(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z$(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new pce;switch(n.type){case"firstParty":return new _ce(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new T(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Q$.get(e);n&&(x("ComponentProvider","Removing Datastore"),Q$.delete(e),n.terminate())}(this),Promise.resolve()}}class dt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}}class Kt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Kt(this.firestore,e,this._query)}}class ni extends Kt{constructor(e,n,r){super(e,n,_u(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new R(e))}withConverter(e){return new ni(this.firestore,e,this._path)}}function _he(t,e,...n){if(t=It(t),RS("collection","path",e),t instanceof $d){const r=pe.fromString(e,...n);return J$(r),new ni(t,null,r)}{if(!(t instanceof dt||t instanceof ni))throw new T(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pe.fromString(e,...n));return J$(r),new ni(t.firestore,null,r)}}function eH(t,e,...n){if(t=It(t),1===arguments.length&&(e=dB.A()),RS("doc","path",e),t instanceof $d){const r=pe.fromString(e,...n);return Y$(r),new dt(t,null,new R(r))}{if(!(t instanceof dt||t instanceof ni))throw new T(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pe.fromString(e,...n));return Y$(r),new dt(t.firestore,t instanceof ni?t.converter:null,new R(r))}}class vhe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ST(this,"async_queue_retry"),this.Xc=()=>{const n=dm();n&&x("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=dm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=dm();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Et;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return g(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!ms(n))throw n;x("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,ut("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=qT.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&L()}verifyOperationInProgress(){}sa(){var e=this;return g(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function kS(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Ge extends $d{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new vhe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||nH(this),this._firestoreClient.terminate()}}function Ihe(t,e){const r="string"==typeof t?t:e||"(default)",i=Qa("object"==typeof t?t:uI(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=$F("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();s&&function yhe(t,e,n,r={}){var i;const s=(t=de(t,$d))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Ar("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Nt.MOCK_USER;else{a=function RZ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[_p(JSON.stringify({alg:"none",type:"JWT"})),_p(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new T(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Nt(c)}t._authCredentials=new gce(new cB(a,u))}}(i,...s)}return i}function mt(t){return t._firestoreClient||nH(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function nH(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Kce(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,K$(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new ahe(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Po{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Po(Dt.fromBase64String(e))}catch(n){throw new T(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Po(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Vu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new T(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class PS{constructor(e){this._methodName=e}}class OS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new T(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new T(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return J(this._lat,e._lat)||J(this._long,e._long)}}const Dhe=/^__.*__$/;class Che{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Vi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Iu(e,this.data,n,this.fieldTransforms)}}class sH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Vi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function oH(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw L()}}class wm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new wm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Em(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(oH(this.ca)&&Dhe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class bhe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ud(e)}ya(e,n,r,i=!1){return new wm({ca:e,methodName:n,ga:r,path:ct.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uu(t){const e=t._freezeSettings(),n=Ud(t._databaseId);return new bhe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function FS(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);VS("Data must be an object, but it was:",o,r);const a=dH(r,o);let u,c;if(s.merge)u=new Ln(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=zd(e,d,n);if(!o.contains(h))throw new T(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);fH(l,h)||l.push(h)}u=new Ln(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new Che(new Wt(a),u,c)}class Gd extends PS{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gd}}function Oo(t,e){if(hH(t=It(t)))return VS("Unsupported field value:",e,t),dH(t,e);if(t instanceof PS)return function(n,r){if(!oH(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Oo(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=It(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return nj(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Je.fromDate(n);return{timestampValue:Du(r.serializer,i)}}if(n instanceof Je){const i=new Je(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Du(r.serializer,i)}}if(n instanceof OS)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Po)return{bytesValue:Dj(r.serializer,n._byteString)};if(n instanceof dt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:tT(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${vm(n)}`)}(t,e)}function dH(t,e){const n={};return bB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ys(t,(r,i)=>{const s=Oo(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function hH(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof OS||t instanceof Po||t instanceof dt||t instanceof PS)}function VS(t,e,n){if(!hH(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=vm(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function zd(t,e,n){if((e=It(e))instanceof Vu)return e._internalPath;if("string"==typeof e)return Im(t,e);throw Em("Field path arguments must be of type string or ",t,!1,void 0,n)}const xhe=new RegExp("[~\\*/\\[\\]]");function Im(t,e,n){if(e.search(xhe)>=0)throw Em(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Vu(...e.split("."))._internalPath}catch{throw Em(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Em(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new T(I.INVALID_ARGUMENT,a+t+u)}function fH(t,e){return t.some(n=>n.isEqual(e))}class US{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Mhe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Dm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Mhe extends US{data(){return super.data()}}function Dm(t,e){return"string"==typeof e?Im(t,e):e instanceof Vu?e._internalPath:e._delegate._internalPath}class Rhe{convertValue(e,n="none"){switch(ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw L()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ys(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new OS(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Lg(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(pd(e));default:return null}}convertTimestamp(e){const n=_s(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pe.fromString(e);j(kj(r));const i=new Io(r.get(1),r.get(3)),s=new R(r.popFirst(5));return i.isEqual(n)||ut(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Fo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ju extends US{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Dm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Sm extends ju{data(e={}){return super.data(e)}}class $u{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Fo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Sm(this._firestore,this._userDataWriter,r.key,r,new Fo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new T(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Sm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Fo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Sm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Fo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Phe(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Phe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return L()}}function Ohe(t){t=de(t,dt);const e=de(t.firestore,Ge);return function q$(t,e,n={}){const r=new Et;return t.asyncQueue.enqueueAndForget(g(function*(){return function(i,s,o,a,u){const c=new gm({next:d=>{s.enqueueAndForget(()=>QT(i,l));const h=d.docs.has(o);!h&&d.fromCache?u.reject(new T(I.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?u.reject(new T(I.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new XT(_u(o.path),c,{includeMetadataChanges:!0,Ku:!0});return WT(i,l)}(yield Lu(t),t.asyncQueue,e,n,r)})),r.promise}(mt(e),t._key).then(n=>$S(e,t,n))}class xs extends Rhe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Po(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,n)}}function Fhe(t,e,n,...r){t=de(t,dt);const i=de(t.firestore,Ge),s=Uu(i);let o;return o="string"==typeof(e=It(e))||e instanceof Vu?function cH(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[zd(e,r,n)],u=[i];if(s.length%2!=0)throw new T(I.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(zd(e,s[h])),u.push(s[h+1]);const c=[],l=Wt.empty();for(let h=a.length-1;h>=0;--h)if(!fH(c,a[h])){const f=a[h];let p=u[h];p=It(p);const m=o.da(f);if(p instanceof Gd)c.push(f);else{const y=Oo(p,m);null!=y&&(c.push(f),l.set(f,y))}}const d=new Ln(c);return new sH(l,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function uH(t,e,n,r){const i=t.ya(1,e,n);VS("Data must be an object, but it was:",i,r);const s=[],o=Wt.empty();ys(r,(u,c)=>{const l=Im(e,u,n);c=It(c);const d=i.da(l);if(c instanceof Gd)s.push(l);else{const h=Oo(c,d);null!=h&&(s.push(l),o.set(l,h))}});const a=new Ln(s);return new sH(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),Wd(i,[o.toMutation(t._key,Ke.exists(!0))])}function Lhe(t){return Wd(de(t.firestore,Ge),[new Eu(t._key,Ke.none())])}function Vhe(t,e){const n=de(t.firestore,Ge),r=eH(t),i=function jS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return Wd(n,[FS(Uu(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ke.exists(!1))]).then(()=>r)}function Wd(t,e){return function(n,r){const i=new Et;return n.asyncQueue.enqueueAndForget(g(function*(){return function jde(t,e,n){return rS.apply(this,arguments)}(yield function MS(t){return ym(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(mt(t),e)}function $S(t,e,n){const r=n.docs.get(e._key),i=new xs(t);return new ju(t,i,e._key,r,new Fo(n.hasPendingWrites,n.fromCache),e.converter)}!function(t,e=!0){hu=io,wn(new tn("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ge(new mce(n.getProvider("auth-internal")),new vce(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new T(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Io(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),et(uB,"3.13.0",t),et(uB,"3.13.0","esm2017")}();var xm=function(){return xm=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var s in n=arguments[r])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},xm.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Jhe={includeMetadataChanges:!1};function GS(t,e){return void 0===e&&(e=Jhe),new ze(function(n){var r=function Uhe(t,...e){var n,r,i;t=It(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||kS(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(kS(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof dt)c=de(t.firestore,Ge),l=_u(t._key.path),u={next:d=>{e[o]&&e[o]($S(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=de(t,Kt);c=de(d.firestore,Ge),l=d._query;const h=new xs(c);u={next:f=>{e[o]&&e[o](new $u(c,h,d,f))},error:e[o+1],complete:e[o+2]},function pH(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new T(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const m=new gm(p),y=new XT(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return WT(yield Lu(d),y)})),()=>{m.Dc(),d.asyncQueue.enqueueAndForget(g(function*(){return QT(yield Lu(d),y)}))}}(mt(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function ife(t,e){return void 0===e&&(e={}),function rfe(t){return GS(t,{includeMetadataChanges:!0}).pipe(me(function(e){return e.docs}))}(t).pipe(me(function(n){return n.map(function(r){return function EH(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?xm(xm({},r),((n={})[e.idField]=t.id,n)):r}(r,e)})}))}class Mm{constructor(e){return e}}const TH="firestore",WS=new U("angularfire2.firestore-instances");function ufe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Mm(r)}}const cfe={provide:class ofe{constructor(){return lD(TH)}},deps:[[new mn,WS]]},lfe={provide:Mm,useFactory:function afe(t,e){const n=cD(TH,t,e);return n&&new Mm(n)},deps:[[new mn,WS],Za]};let dfe=(()=>{class t{constructor(){et("angularfire",kp.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=Ot({providers:[lfe,cfe]}),t})();function hfe(t,...e){return{ngModule:dfe,providers:[{provide:WS,useFactory:ufe(t),multi:!0,deps:[Ee,Xt,dD,hD,[new mn,zV],[new mn,PD],...e]}]}}const ffe=En(ife,!0),pfe=En(Vhe,!0),SH=En(_he,!0),gfe=En(Lhe,!0),KS=En(eH,!0),mfe=En(Ohe,!0),yfe=En(Ihe,!0),_fe=En(Fhe,!0);let QS=(()=>{class t{constructor(n){this.firestore=n}addProductos(n){const r=SH(this.firestore,"productos");return pfe(r,n)}getProductos(){const n=SH(this.firestore,"productos");return ffe(n,{idField:"id"})}getOneProducto(n){const r=KS(this.firestore,`productos/${n}`);return mfe(r)}deleteProductos(n){const r=KS(this.firestore,`productos/${n.id}`);return gfe(r)}updateProductos(n,r){const i=KS(this.firestore,`productos/${n.id}`);return _fe(i,r)}static#e=this.\u0275fac=function(r){return new(r||t)(G(Mm))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),YS=(()=>{class t{constructor(n){this.auth=n}register({email:n,password:r}){return nue(this.auth,n,r)}login({email:n,password:r}){var i=this;return g(function*(){return iue(i.auth,n,r).then(s=>{i.userData=s.user.email,localStorage.setItem("usuario",i.userData),localStorage.setItem("hasPhoto","false")})})()}loginGoogle(){var n=this;return g(function*(){return sue(n.auth,new Zse).then(r=>{n.userData=r.user.displayName,console.log(r.user),n.userPhotoURL=r.user.photoURL,localStorage.setItem("usuario",n.userData),localStorage.setItem("userPhoto",n.userPhotoURL),localStorage.setItem("hasPhoto","true")})})()}logout(){return oue(this.auth)}static#e=this.\u0275fac=function(r){return new(r||t)(G(Bl))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),JS=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=tr({type:t,selectors:[["app-loading"]],decls:3,vars:0,consts:[["role","status",1,"spinner-grow","text-info",2,"width","12rem","height","12rem"],[1,"visually-hidden"]],template:function(r,i){1&r&&(b(0,"div",0)(1,"span",1),M(2,"Loading..."),C()())}})}return t})();function vfe(t,e){if(1&t){const n=mi();b(0,"a",12),Le("keyup.enter",function(){return Mn(n),le(3),Nn(en(1).previous())})("click",function(){return Mn(n),le(3),Nn(en(1).previous())}),M(1),b(2,"span",13),M(3),C()()}if(2&t){const n=le(3);B(1),Wn(" ",n.previousLabel," "),B(2),or(n.screenReaderPageLabel)}}function wfe(t,e){if(1&t&&(b(0,"span",14),M(1),b(2,"span",13),M(3),C()()),2&t){const n=le(3);B(1),Wn(" ",n.previousLabel," "),B(2),or(n.screenReaderPageLabel)}}function Ife(t,e){if(1&t&&(b(0,"li",9),be(1,vfe,4,2,"a",10),be(2,wfe,4,2,"span",11),C()),2&t){le(2);const n=en(1);Zi("disabled",n.isFirstPage()),B(1),oe("ngIf",1<n.getCurrent()),B(1),oe("ngIf",n.isFirstPage())}}function Efe(t,e){if(1&t){const n=mi();b(0,"a",12),Le("keyup.enter",function(){Mn(n);const i=le().$implicit;return le(2),Nn(en(1).setCurrent(i.value))})("click",function(){Mn(n);const i=le().$implicit;return le(2),Nn(en(1).setCurrent(i.value))}),b(1,"span",13),M(2),C(),b(3,"span"),M(4),Hc(5,"number"),C()()}if(2&t){const n=le().$implicit,r=le(2);B(2),Wn("",r.screenReaderPageLabel," "),B(2),or("..."===n.label?n.label:Gc(5,2,n.label,""))}}function Dfe(t,e){if(1&t&&(Ef(0),b(1,"span",16)(2,"span",13),M(3),C(),b(4,"span"),M(5),Hc(6,"number"),C()(),Df()),2&t){const n=le().$implicit,r=le(2);B(3),Wn("",r.screenReaderCurrentLabel," "),B(2),or("..."===n.label?n.label:Gc(6,2,n.label,""))}}function Cfe(t,e){if(1&t&&(b(0,"li"),be(1,Efe,6,5,"a",10),be(2,Dfe,7,5,"ng-container",15),C()),2&t){const n=e.$implicit;le(2);const r=en(1);Zi("current",r.getCurrent()===n.value)("ellipsis","..."===n.label),B(1),oe("ngIf",r.getCurrent()!==n.value),B(1),oe("ngIf",r.getCurrent()===n.value)}}function bfe(t,e){if(1&t){const n=mi();b(0,"a",12),Le("keyup.enter",function(){return Mn(n),le(3),Nn(en(1).next())})("click",function(){return Mn(n),le(3),Nn(en(1).next())}),M(1),b(2,"span",13),M(3),C()()}if(2&t){const n=le(3);B(1),Wn(" ",n.nextLabel," "),B(2),or(n.screenReaderPageLabel)}}function Tfe(t,e){if(1&t&&(b(0,"span",14),M(1),b(2,"span",13),M(3),C()()),2&t){const n=le(3);B(1),Wn(" ",n.nextLabel," "),B(2),or(n.screenReaderPageLabel)}}function Sfe(t,e){if(1&t&&(b(0,"li",17),be(1,bfe,4,2,"a",10),be(2,Tfe,4,2,"span",11),C()),2&t){le(2);const n=en(1);Zi("disabled",n.isLastPage()),B(1),oe("ngIf",!n.isLastPage()),B(1),oe("ngIf",n.isLastPage())}}function Afe(t,e){if(1&t&&(b(0,"ul",4),be(1,Ife,3,4,"li",5),b(2,"li",6),M(3),C(),be(4,Cfe,3,6,"li",7),be(5,Sfe,3,4,"li",8),C()),2&t){const n=le(),r=en(1);Zi("responsive",n.responsive),B(1),oe("ngIf",n.directionLinks),B(2),uv(" ",r.getCurrent()," / ",r.getLastPage()," "),B(1),oe("ngForOf",r.pages)("ngForTrackBy",n.trackByIndex),B(1),oe("ngIf",n.directionLinks)}}class XS{constructor(){this.change=new Me,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(e){return null==e.id&&(e.id=this.DEFAULT_ID),this.instances[e.id]?this.updateInstance(e):(this.instances[e.id]=e,!0)}updateInstance(e){let n=!1;for(let r in this.instances[e.id])e[r]!==this.instances[e.id][r]&&(this.instances[e.id][r]=e[r],n=!0);return n}getCurrentPage(e){return this.instances[e]?this.instances[e].currentPage:1}setCurrentPage(e,n){if(this.instances[e]){let r=this.instances[e];n<=Math.ceil(r.totalItems/r.itemsPerPage)&&1<=n&&(this.instances[e].currentPage=n,this.change.emit(e))}}setTotalItems(e,n){this.instances[e]&&0<=n&&(this.instances[e].totalItems=n,this.change.emit(e))}setItemsPerPage(e,n){this.instances[e]&&(this.instances[e].itemsPerPage=n,this.change.emit(e))}getInstance(e=this.DEFAULT_ID){return this.instances[e]?this.clone(this.instances[e]):{}}clone(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}}const xfe=Number.MAX_SAFE_INTEGER;let Mfe=(()=>{class t{constructor(n){this.service=n,this.state={}}transform(n,r){if(!(n instanceof Array)){let d=r.id||this.service.defaultId();return this.state[d]?this.state[d].slice:n}let a,u,i=r.totalItems&&r.totalItems!==n.length,s=this.createInstance(n,r),o=s.id,c=s.itemsPerPage,l=this.service.register(s);if(!i&&n instanceof Array){if(c=+c||xfe,a=(s.currentPage-1)*c,u=a+c,this.stateIsIdentical(o,n,a,u))return this.state[o].slice;{let h=n.slice(a,u);return this.saveState(o,n,h,a,u),this.service.change.emit(o),h}}return l&&this.service.change.emit(o),this.saveState(o,n,n,a,u),n}createInstance(n,r){return this.checkConfig(r),{id:null!=r.id?r.id:this.service.defaultId(),itemsPerPage:+r.itemsPerPage||0,currentPage:+r.currentPage||1,totalItems:+r.totalItems||n.length}}checkConfig(n){const i=["itemsPerPage","currentPage"].filter(s=>!(s in n));if(0<i.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${i.join(", ")}`)}saveState(n,r,i,s,o){this.state[n]={collection:r,size:r.length,slice:i,start:s,end:o}}stateIsIdentical(n,r,i,s){let o=this.state[n];return!(!o||o.size!==r.length||o.start!==i||o.end!==s)&&o.slice.every((u,c)=>u===r[i+c])}}return t.\u0275fac=function(n){return new(n||t)(E(XS,16))},t.\u0275pipe=ln({name:"paginate",type:t,pure:!1}),t})(),Nfe=(()=>{class t{constructor(n,r){this.service=n,this.changeDetectorRef=r,this.maxSize=7,this.pageChange=new Me,this.pageBoundsCorrection=new Me,this.pages=[],this.changeSub=this.service.change.subscribe(i=>{this.id===i&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(n){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return 1===this.getCurrent()}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(n){this.pageChange.emit(n)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let n=this.service.getInstance(this.id);return n.totalItems<1?1:Math.ceil(n.totalItems/n.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){null==this.service.getInstance(this.id).id&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let n=this.service.getInstance(this.id);const r=this.outOfBoundCorrection(n);r!==n.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(r),this.pages=this.createPageArray(n.currentPage,n.itemsPerPage,n.totalItems,this.maxSize)}):this.pages=this.createPageArray(n.currentPage,n.itemsPerPage,n.totalItems,this.maxSize)}outOfBoundCorrection(n){const r=Math.ceil(n.totalItems/n.itemsPerPage);return r<n.currentPage&&0<r?r:n.currentPage<1?1:n.currentPage}createPageArray(n,r,i,s){s=+s;let o=[];const a=Math.max(Math.ceil(i/r),1),u=Math.ceil(s/2),c=n<=u,l=a-u<n,d=!c&&!l;let h=s<a,f=1;for(;f<=a&&f<=s;){let p,m=this.calculatePageNumber(f,n,s,a);p=h&&(2===f&&(d||l)||f===s-1&&(d||c))?"...":m,o.push({label:p,value:m}),f++}return o}calculatePageNumber(n,r,i,s){let o=Math.ceil(i/2);return n===i?s:1===n?n:i<s?s-o<r?s-i+n:o<r?r-o+n:n:n}}return t.\u0275fac=function(n){return new(n||t)(E(XS),E(Qc))},t.\u0275dir=W({type:t,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[$n]}),t})();function ZS(t){return!!t&&"false"!==t}let Rfe=(()=>{class t{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new Me,this.pageBoundsCorrection=new Me,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(n){this._directionLinks=ZS(n)}get autoHide(){return this._autoHide}set autoHide(n){this._autoHide=ZS(n)}get responsive(){return this._responsive}set responsive(n){this._responsive=ZS(n)}trackByIndex(n){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=tr({type:t,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(n,r){if(1&n&&(b(0,"pagination-template",0,1),Le("pageChange",function(s){return r.pageChange.emit(s)})("pageBoundsCorrection",function(s){return r.pageBoundsCorrection.emit(s)}),b(2,"nav",2),be(3,Afe,6,8,"ul",3),C()()),2&n){const i=en(1);oe("id",r.id)("maxSize",r.maxSize),B(2),vr("aria-label",r.screenReaderPaginationLabel),B(1),oe("ngIf",!(r.autoHide&&i.pages.length<=1))}},dependencies:[Nfe,Zc,ow,sO],styles:['.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}\n'],encapsulation:2,changeDetection:0}),t})(),kfe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=Ot({providers:[XS],imports:[[Yf]]}),t})();function Pfe(t,e){1&t&&(b(0,"div",3),Fe(1,"app-loading"),C())}function Ofe(t,e){1&t&&Fe(0,"img",16),2&t&&nv("src",le(2).userPhoto,h_)}function Ffe(t,e){1&t&&Fe(0,"img",17)}function Lfe(t,e){if(1&t){const n=mi();b(0,"div",21)(1,"div",22),Le("click",function(){return Mn(n),Nn(le(3).closePopup())}),M(2,"\u2716"),C(),b(3,"p"),M(4),C(),b(5,"button",19),Le("click",function(){Mn(n);const i=le().$implicit;return Nn(le(2).onClickDelete(i))}),M(6,"Eliminar"),C()()}if(2&t){const n=le().$implicit;B(4),Wn("Are you sure to delete ",n.nombre,"?")}}const Vfe=function(t){return["edit-item",t]};function Ufe(t,e){if(1&t){const n=mi();b(0,"tr")(1,"td"),M(2),C(),b(3,"td"),M(4),C(),b(5,"td"),M(6),C(),b(7,"td"),M(8),Hc(9,"currency"),C(),b(10,"td")(11,"button",18),M(12,"Editar"),C(),b(13,"button",19),Le("click",function(){const s=Mn(n).$implicit;return Nn(le(2).openPopup(s.id))}),M(14,"Eliminar"),C(),be(15,Lfe,7,1,"div",20),C()()}if(2&t){const n=e.$implicit,r=e.index,i=le(2);B(2),or(r+1+(i.page-1)*i.itemsPerPage),B(2),or(n.nombre),B(2),or(n.tipo),B(2),or(Gc(9,6,n.precio,"S/. ")),B(3),oe("routerLink",_k(9,Vfe,n.id)),B(4),oe("ngIf",i.statePopup==n.id)}}const Bfe=function(){return["create-item"]},jfe=function(t,e){return{itemsPerPage:t,currentPage:e}};function $fe(t,e){if(1&t){const n=mi();b(0,"div",4)(1,"h1",5),M(2,"Lista de productos"),C(),b(3,"a",6),Le("click",function(){return Mn(n),Nn(le().onLogout())}),M(4," Logout "),C()(),b(5,"div")(6,"p"),M(7),C(),be(8,Ofe,1,1,"img",7),be(9,Ffe,1,0,"ng-template",null,8,qc),C(),b(11,"a",9),M(12," Nuevo "),C(),b(13,"table",10)(14,"thead")(15,"tr",11)(16,"th",12),M(17,"N\xb0"),C(),b(18,"th",12),M(19,"Nombre"),C(),b(20,"th",12),M(21,"Tipo"),C(),b(22,"th",12),M(23,"Precio"),C(),b(24,"th",12),M(25,"Operaciones"),C()()(),b(26,"tbody"),be(27,Ufe,16,11,"tr",13),Hc(28,"paginate"),C()(),b(29,"div",14)(30,"pagination-controls",15),Le("pageChange",function(i){return Mn(n),Nn(le().page=i)}),C()()}if(2&t){const n=en(10),r=le();B(7),Wn("Bienvenido, ",r.usuario,""),B(1),oe("ngIf",r.hasPhoto)("ngIfElse",n),B(3),oe("routerLink",$r(8,Bfe)),B(16),oe("ngForOf",Gc(28,5,r.productos,function vk(t,e,n,r,i){return Ik(D(),fn(),t,e,n,r,i)}(9,jfe,r.itemsPerPage,r.page)))}}let Hfe=(()=>{class t{constructor(n,r,i){this.productsService=n,this.userService=r,this.router=i,this.productos=[],this.page=1,this.itemsPerPage=10,this.hasPhoto=!1,this.isLoading=!0,this.statePopup=""}ngOnInit(){this.productsService.getProductos().subscribe(n=>{this.productos=n,this.isLoading=!1}),this.usuario=localStorage.getItem("usuario"),console.log(this.usuario),console.log(typeof this.usuario),this.userPhoto=localStorage.getItem("userPhoto"),this.hasPhoto="true"==localStorage.getItem("hasPhoto")}onClickDelete(n){var r=this;return g(function*(){const i=yield r.productsService.deleteProductos(n);console.log(i)})()}onLogout(){this.userService.logout().then(()=>{this.router.navigate(["/"]),localStorage.clear()}).catch(n=>console.log(n))}openPopup(n){this.statePopup=n}closePopup(){this.statePopup="",console.log(this.statePopup)}static#e=this.\u0275fac=function(r){return new(r||t)(E(QS),E(YS),E(bt))};static#t=this.\u0275cmp=tr({type:t,selectors:[["app-lista"]],decls:4,vars:2,consts:[[1,"p-4","text-white"],["class","d-flex justify-content-center align-items-center min-vh-100",4,"ngIf","ngIfElse"],["lista",""],[1,"d-flex","justify-content-center","align-items-center","min-vh-100"],[1,"d-flex","justify-content-between"],[1,"text-3xl","my-8"],[1,"btn","btn-danger","my-4",3,"click"],["class","userProfile","alt","user-photo",3,"src",4,"ngIf","ngIfElse"],["notPhoto",""],[1,"btn","btn-success","my-4",3,"routerLink"],[1,"table","table-primary","table-striped"],[1,"table-dark"],["className",""],[4,"ngFor","ngForOf"],[1,"text-center"],[3,"pageChange"],["alt","user-photo",1,"userProfile",3,"src"],["src","assets/202-2022264_usuario-annimo-usuario-annimo-user-icon-png-transparent-300x298.png","alt","user-photo",1,"userProfile"],[1,"btn","btn-dark","mx-2","my-2",3,"routerLink"],[1,"btn","btn-danger",3,"click"],["class","popup",4,"ngIf"],[1,"popup"],[1,"CloseIcon",3,"click"]],template:function(r,i){if(1&r&&(b(0,"div",0),be(1,Pfe,2,0,"div",1),be(2,$fe,31,12,"ng-template",null,2,qc),C()),2&r){const s=en(3);B(1),oe("ngIf",i.isLoading)("ngIfElse",s)}},dependencies:[ow,Zc,os,JS,Rfe,oO,Mfe],styles:[".userProfile[_ngcontent-%COMP%]{border-radius:50%;height:96px;width:96px;background-color:#faebd7}.popup[_ngcontent-%COMP%]{position:absolute;width:400px;height:40%;top:30%;left:calc(50% - 200px);text-align:center;background:rgb(8,54,133);border-radius:20px;border:2px solid white;display:flex;justify-content:center;align-items:center;flex-direction:column}.popup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;margin-left:5%;margin-right:5%}.CloseIcon[_ngcontent-%COMP%]{cursor:pointer;font-size:30px;position:absolute;right:5%;top:5%}"]})}return t})(),AH=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(E(hi),E(zn))};static#t=this.\u0275dir=W({type:t})}return t})(),Lo=(()=>{class t extends AH{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Bt(t)))(i||t)}}();static#t=this.\u0275dir=W({type:t,features:[Ce]})}return t})();const ri=new U("NgValueAccessor"),qfe={provide:ri,useExisting:ke(()=>Vo),multi:!0},Kfe=new U("CompositionEventMode");let Vo=(()=>{class t extends AH{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Wfe(){const t=ts()?ts().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(E(hi),E(zn),E(Kfe,8))};static#t=this.\u0275dir=W({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Le("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[We([qfe]),Ce]})}return t})();function Ms(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function MH(t){return null!=t&&"number"==typeof t.length}const un=new U("NgValidators"),Ns=new U("NgAsyncValidators"),Qfe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Hu{static min(e){return function NH(t){return e=>{if(Ms(e.value)||Ms(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function RH(t){return e=>{if(Ms(e.value)||Ms(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function kH(t){return Ms(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function PH(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function OH(t){return Ms(t.value)||Qfe.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function FH(t){return e=>Ms(e.value)||!MH(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function LH(t){return e=>MH(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function VH(t){if(!t)return Nm;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Ms(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return GH(e)}static composeAsync(e){return zH(e)}}function Nm(t){return null}function UH(t){return null!=t}function BH(t){return Oc(t)?Ct(t):t}function jH(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function $H(t,e){return e.map(n=>n(t))}function HH(t){return t.map(e=>function Yfe(t){return!t.validate}(e)?e:n=>e.validate(n))}function GH(t){if(!t)return null;const e=t.filter(UH);return 0==e.length?null:function(n){return jH($H(n,e))}}function eA(t){return null!=t?GH(HH(t)):null}function zH(t){if(!t)return null;const e=t.filter(UH);return 0==e.length?null:function(n){return function Gfe(...t){const e=HA(t),{args:n,keys:r}=MO(t),i=new ze(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;Un(n[l]).subscribe(ht(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?RO(r,a):a),s.complete())}))}});return e?i.pipe(NO(e)):i}($H(n,e).map(BH)).pipe(me(jH))}}function tA(t){return null!=t?zH(HH(t)):null}function qH(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function WH(t){return t._rawValidators}function KH(t){return t._rawAsyncValidators}function nA(t){return t?Array.isArray(t)?t:[t]:[]}function Rm(t,e){return Array.isArray(t)?t.includes(e):t===e}function QH(t,e){const n=nA(e);return nA(t).forEach(i=>{Rm(n,i)||n.push(i)}),n}function YH(t,e){return nA(e).filter(n=>!Rm(t,n))}class JH{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=eA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=tA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class bn extends JH{get formDirective(){return null}get path(){return null}}class Rs extends JH{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class XH{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Kd=(()=>{class t extends XH{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(E(Rs,2))};static#t=this.\u0275dir=W({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Zi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ce]})}return t})(),Qd=(()=>{class t extends XH{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(E(bn,10))};static#t=this.\u0275dir=W({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Zi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ce]})}return t})();const Yd="VALID",Pm="INVALID",Gu="PENDING",Jd="DISABLED";function sA(t){return(Om(t)?t.validators:t)||null}function oA(t,e){return(Om(e)?e.asyncValidators:t)||null}function Om(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class n4{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Yd}get invalid(){return this.status===Pm}get pending(){return this.status==Gu}get disabled(){return this.status===Jd}get enabled(){return this.status!==Jd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(QH(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(QH(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(YH(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(YH(e,this._rawAsyncValidators))}hasValidator(e){return Rm(this._rawValidators,e)}hasAsyncValidator(e){return Rm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Gu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Jd,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Yd,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yd||this.status===Gu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jd:Yd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Gu,this._hasOwnPendingAsyncValidator=!0;const n=BH(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Me,this.statusChanges=new Me}_calculateStatus(){return this._allControlsDisabled()?Jd:this.errors?Pm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gu)?Gu:this._anyControlsHaveStatus(Pm)?Pm:Yd}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Om(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function epe(t){return Array.isArray(t)?eA(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function tpe(t){return Array.isArray(t)?tA(t):t||null}(this._rawAsyncValidators)}}class Uo extends n4{constructor(e,n,r){super(sA(n),oA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function t4(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new A(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function e4(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new A(1e3,"");if(!r[n])throw new A(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const zu=new U("CallSetDisabledState",{providedIn:"root",factory:()=>Fm}),Fm="always";function Xd(t,e,n=Fm){aA(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function ipe(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&r4(t,e)})}(t,e),function ope(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function spe(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&r4(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function rpe(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Vm(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Bm(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Um(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function aA(t,e){const n=WH(t);null!==e.validator?t.setValidators(qH(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=KH(t);null!==e.asyncValidator?t.setAsyncValidators(qH(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Um(e._rawValidators,i),Um(e._rawAsyncValidators,i)}function Bm(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=WH(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=KH(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return Um(e._rawValidators,r),Um(e._rawAsyncValidators,r),n}function r4(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function o4(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function a4(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const fr=class extends n4{constructor(e=null,n,r){super(sA(n),oA(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Om(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=a4(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){o4(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){o4(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){a4(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let eh=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=W({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})();const gpe={provide:ri,useExisting:ke(()=>jm),multi:!0};let jm=(()=>{class t extends Lo{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Bt(t)))(i||t)}}();static#t=this.\u0275dir=W({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&Le("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[We([gpe]),Ce]})}return t})(),h4=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Qt({type:t});static#n=this.\u0275inj=Ot({})}return t})();const hA=new U("NgModelWithFormControlWarning"),wpe={provide:bn,useExisting:ke(()=>Bo)};let Bo=(()=>{class t extends bn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Me,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Bm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Xd(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Vm(n.control||null,n,!1),function lpe(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function s4(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Vm(r||null,n),(t=>t instanceof fr)(i)&&(Xd(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function i4(t,e){aA(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function ape(t,e){return Bm(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){aA(this.form,this),this._oldForm&&Bm(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(E(un,10),E(Ns,10),E(zu,8))};static#t=this.\u0275dir=W({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&Le("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[We([wpe]),Ce,$n]})}return t})();const Dpe={provide:Rs,useExisting:ke(()=>qu)};let qu=(()=>{class t extends Rs{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Me,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function lA(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Vo?n=s:function cpe(t){return Object.getPrototypeOf(t.constructor)===Lo}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function cA(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function Lm(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||t)(E(bn,13),E(un,10),E(Ns,10),E(ri,10),E(hA,8))};static#n=this.\u0275dir=W({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[We([Dpe]),Ce,$n]})}return t})();const Cpe={provide:ri,useExisting:ke(()=>th),multi:!0};function y4(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let th=(()=>{class t extends Lo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=y4(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function bpe(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Bt(t)))(i||t)}}();static#t=this.\u0275dir=W({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&Le("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[We([Cpe]),Ce]})}return t})(),gA=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(y4(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(E(zn),E(hi),E(th,9))};static#t=this.\u0275dir=W({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})();const Tpe={provide:ri,useExisting:ke(()=>mA),multi:!0};function _4(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let mA=(()=>{class t extends Lo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const u=o[a];if(u.selected){const c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function Spe(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Bt(t)))(i||t)}}();static#t=this.\u0275dir=W({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&Le("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[We([Tpe]),Ce]})}return t})(),yA=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(_4(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(_4(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(E(zn),E(hi),E(mA,9))};static#t=this.\u0275dir=W({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})(),Fpe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Qt({type:t});static#n=this.\u0275inj=Ot({imports:[h4]})}return t})(),Vpe=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:hA,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:zu,useValue:n.callSetDisabledState??Fm}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Qt({type:t});static#n=this.\u0275inj=Ot({imports:[Fpe]})}return t})();const Upe=function(){return["/lista"]};let A4=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=tr({type:t,selectors:[["app-back-button"]],decls:2,vars:2,consts:[[1,"btn","btn-success","my-3",3,"routerLink"]],template:function(r,i){1&r&&(b(0,"button",0),M(1," Regresar"),C()),2&r&&oe("routerLink",$r(1,Upe))},dependencies:[os]})}return t})();function Bpe(t,e){1&t&&(b(0,"div",3),Fe(1,"app-loading"),C())}function jpe(t,e){1&t&&(b(0,"span",21),M(1," (El nombre no puede quedar vac\xedo) "),C())}function $pe(t,e){1&t&&(b(0,"span",21),M(1," (El tipo no puede quedar vac\xedo) "),C())}function Hpe(t,e){1&t&&(b(0,"span",21),M(1," (El precio no puede quedar vac\xedo) "),C())}function Gpe(t,e){1&t&&(b(0,"span",21),M(1," (Rellene los campos primero) "),C())}function zpe(t,e){if(1&t){const n=mi();Fe(0,"app-back-button"),b(1,"h1",4),M(2," Create Product"),C(),b(3,"form",5),Le("ngSubmit",function(){return Mn(n),Nn(le().onSubmit())}),b(4,"div",6)(5,"label",7),M(6,"Nombre"),C(),Fe(7,"input",8),be(8,jpe,2,0,"span",9),C(),b(9,"div",6)(10,"label",7),M(11,"Tipo"),C(),b(12,"select",10)(13,"option",11),M(14,"Alimentos"),C(),b(15,"option",12),M(16,"Bebidas"),C(),b(17,"option",13),M(18,"Electronicos"),C(),b(19,"option",14),M(20,"Herramientas"),C(),b(21,"option",15),M(22,"Muebles"),C(),b(23,"option",16),M(24,"Ropa"),C(),b(25,"option",17),M(26,"Otros"),C()(),be(27,$pe,2,0,"span",9),C(),b(28,"div",18)(29,"label",7),M(30,"Precio"),C(),Fe(31,"input",19),be(32,Hpe,2,0,"span",9),C(),Fe(33,"input",20),be(34,Gpe,2,0,"span",9),C()}if(2&t){const n=le();let r,i,s;B(3),oe("formGroup",n.formulario),B(5),oe("ngIf",(null==(r=n.formulario.get("nombre"))||null==r.errors?null:r.errors.required)&&(null==n.formulario.controls.nombre?null:n.formulario.controls.nombre.touched)),B(19),oe("ngIf",(null==(i=n.formulario.get("tipo"))||null==i.errors?null:i.errors.required)&&(null==n.formulario.controls.tipo?null:n.formulario.controls.tipo.touched)),B(5),oe("ngIf",(null==(s=n.formulario.get("precio"))||null==s.errors?null:s.errors.required)&&(null==n.formulario.controls.precio?null:n.formulario.controls.precio.touched)),B(2),oe("ngIf",n.creacionInvalida)}}let qpe=(()=>{class t{constructor(n,r){this.productsService=n,this.router=r,this.isLoading=!1,this.creacionInvalida=!1,this.formulario=new Uo({nombre:new fr("",[Hu.required]),tipo:new fr("",[Hu.required]),precio:new fr("",[Hu.required])})}onSubmit(){var n=this;return g(function*(){if(n.formulario.get("nombre")?.errors?.required||n.formulario.get("tipo")?.errors?.required||n.formulario.get("precio")?.errors?.required)n.creacionInvalida=!0;else{console.log(n.formulario.value),n.isLoading=!0;const r=yield n.productsService.addProductos(n.formulario.value);n.isLoading=!1,console.log(r),n.router.navigate(["/lista"])}})()}static#e=this.\u0275fac=function(r){return new(r||t)(E(QS),E(bt))};static#t=this.\u0275cmp=tr({type:t,selectors:[["app-create-item"]],decls:4,vars:2,consts:[[1,"p-4","text-white"],["class","d-flex justify-content-center align-items-center min-vh-100",4,"ngIf","ngIfElse"],["createItem",""],[1,"d-flex","justify-content-center","align-items-center","min-vh-100"],["className","text-3xl my-4"],[3,"formGroup","ngSubmit"],[1,"mb-3","w-50"],[1,"form-label"],["type","text","formControlName","nombre",1,"form-control"],["class","text-danger",4,"ngIf"],["formControlName","tipo",1,"form-select"],["value","Alimentos"],["value","Bebidas"],["value","Electronicos"],["value","Herramientas"],["value","Muebles"],["value","Ropa"],["value","Otros"],[1,"mb-3","w-25"],["type","number","formControlName","precio",1,"form-control"],["type","submit","value","Enviar",1,"btn","btn-info"],[1,"text-danger"]],template:function(r,i){if(1&r&&(b(0,"div",0),be(1,Bpe,2,0,"div",1),be(2,zpe,35,5,"ng-template",null,2,qc),C()),2&r){const s=en(3);B(1),oe("ngIf",i.isLoading)("ngIfElse",s)}},dependencies:[Zc,A4,JS,eh,gA,yA,Vo,jm,th,Kd,Qd,Bo,qu]})}return t})();function Wpe(t,e){1&t&&(b(0,"div",3),Fe(1,"app-loading"),C())}function Kpe(t,e){1&t&&(b(0,"span",21),M(1," (El nombre no puede quedar vac\xedo) "),C())}function Qpe(t,e){1&t&&(b(0,"span",21),M(1," (El tipo no puede quedar vac\xedo) "),C())}function Ype(t,e){1&t&&(b(0,"span",21),M(1," (El precio no puede quedar vac\xedo) "),C())}function Jpe(t,e){1&t&&(b(0,"span",21),M(1," (Rellene los campos primero) "),C())}function Xpe(t,e){if(1&t){const n=mi();Fe(0,"app-back-button"),b(1,"h1",4),M(2," Edit Product"),C(),b(3,"form",5),Le("ngSubmit",function(){return Mn(n),Nn(le().onSubmit())}),b(4,"div",6)(5,"label",7),M(6,"Nombre"),C(),Fe(7,"input",8),be(8,Kpe,2,0,"span",9),C(),b(9,"div",6)(10,"label",7),M(11,"Tipo"),C(),b(12,"select",10)(13,"option",11),M(14,"Alimentos"),C(),b(15,"option",12),M(16,"Bebidas"),C(),b(17,"option",13),M(18,"Electronicos"),C(),b(19,"option",14),M(20,"Herramientas"),C(),b(21,"option",15),M(22,"Muebles"),C(),b(23,"option",16),M(24,"Ropa"),C(),b(25,"option",17),M(26,"Otros"),C()(),be(27,Qpe,2,0,"span",9),C(),b(28,"div",18)(29,"label",7),M(30,"Precio"),C(),Fe(31,"input",19),be(32,Ype,2,0,"span",9),C(),Fe(33,"input",20),be(34,Jpe,2,0,"span",9),C()}if(2&t){const n=le();let r,i,s;B(3),oe("formGroup",n.formulario),B(5),oe("ngIf",(null==(r=n.formulario.get("nombre"))||null==r.errors?null:r.errors.required)&&(null==n.formulario.controls.nombre?null:n.formulario.controls.nombre.touched)),B(19),oe("ngIf",(null==(i=n.formulario.get("tipo"))||null==i.errors?null:i.errors.required)&&(null==n.formulario.controls.tipo?null:n.formulario.controls.tipo.touched)),B(5),oe("ngIf",(null==(s=n.formulario.get("precio"))||null==s.errors?null:s.errors.required)&&(null==n.formulario.controls.precio?null:n.formulario.controls.precio.touched)),B(2),oe("ngIf",n.editInvalid)}}let Zpe=(()=>{class t{constructor(n,r,i){this.productsService=n,this.ruta=r,this.router=i,this.isLoading=!1,this.editInvalid=!1,this.formulario=new Uo({nombre:new fr("",[Hu.required]),tipo:new fr("",[Hu.required]),precio:new fr("",[Hu.required])}),this.ruta.params.subscribe(s=>{console.log(s.id),this.prodId=s.id})}onSubmit(){var n=this;return g(function*(){if(n.formulario.get("nombre")?.errors?.required||n.formulario.get("tipo")?.errors?.required||n.formulario.get("precio")?.errors?.required)n.editInvalid=!0;else{console.log(n.formulario.value),n.isLoading=!0;const r=yield n.productsService.updateProductos(n.docSnap,n.formulario.value);n.isLoading=!1,console.log(r),n.router.navigate(["/lista"])}})()}ngOnInit(){var n=this;return g(function*(){n.docSnap=yield n.productsService.getOneProducto(n.prodId),console.log(n.docSnap),n.product=n.docSnap.data(),console.log(n.product),n.formulario?.setValue(n.product)})()}static#e=this.\u0275fac=function(r){return new(r||t)(E(QS),E(Zs),E(bt))};static#t=this.\u0275cmp=tr({type:t,selectors:[["app-edit-item"]],decls:4,vars:2,consts:[[1,"p-4","text-white"],["class","d-flex justify-content-center align-items-center min-vh-100",4,"ngIf","ngIfElse"],["editItem",""],[1,"d-flex","justify-content-center","align-items-center","min-vh-100"],["className","text-3xl my-4"],[3,"formGroup","ngSubmit"],[1,"mb-3","w-50"],[1,"form-label"],["type","text","formControlName","nombre",1,"form-control"],["class","text-danger",4,"ngIf"],["formControlName","tipo",1,"form-select"],["value","Alimentos"],["value","Bebidas"],["value","Electronicos"],["value","Herramientas"],["value","Muebles"],["value","Ropa"],["value","Otros"],[1,"mb-3","w-25"],["type","number","formControlName","precio",1,"form-control"],["type","submit","value","Enviar",1,"btn","btn-info"],[1,"text-danger"]],template:function(r,i){if(1&r&&(b(0,"div",0),be(1,Wpe,2,0,"div",1),be(2,Xpe,35,5,"ng-template",null,2,qc),C()),2&r){const s=en(3);B(1),oe("ngIf",i.isLoading)("ngIfElse",s)}},dependencies:[Zc,A4,JS,eh,gA,yA,Vo,jm,th,Kd,Qd,Bo,qu]})}return t})();const ege=function(){return["/"]},tge=function(){return["/login"]};let nge=(()=>{class t{constructor(n,r){this.userService=n,this.router=r,this.formReg=new Uo({email:new fr,password:new fr})}onSubmit(){this.userService.register(this.formReg.value).then(n=>{console.log(n),this.router.navigate(["/"]),this.userService.logout()}).catch(n=>{switch(console.log(n),n.code){case"auth/email-already-in-use":this.errorStatus="El usuario ya est\xe1 en uso";break;case"auth/invalid-email":this.errorStatus="El email es inv\xe1lido";break;case"auth/weak-password":this.errorStatus="La contrase\xf1a debe tener m\xe1s de 5 caracteres";break;default:this.errorStatus=n.code}})}static#e=this.\u0275fac=function(r){return new(r||t)(E(YS),E(bt))};static#t=this.\u0275cmp=tr({type:t,selectors:[["app-register"]],decls:22,vars:6,consts:[[1,"p-4","text-white"],[1,"btn","btn-success","my-3",3,"routerLink"],["className","text-3xl my-4"],[3,"formGroup","ngSubmit"],[1,"mb-3","w-50"],[1,"form-label"],["type","email","formControlName","email",1,"form-control"],["type","password","formControlName","password",1,"form-control"],["type","submit","value","Enviar",1,"btn","btn-secondary"],[1,"text-danger"],[1,"text-success",3,"routerLink"]],template:function(r,i){1&r&&(b(0,"div",0)(1,"button",1),M(2," Regresar"),C(),b(3,"h1",2),M(4," Register"),C(),b(5,"form",3),Le("ngSubmit",function(){return i.onSubmit()}),b(6,"div",4)(7,"label",5),M(8,"Email"),C(),Fe(9,"input",6),C(),b(10,"div",4)(11,"label",5),M(12,"Password"),C(),Fe(13,"input",7),C(),Fe(14,"input",8),b(15,"p",9),M(16),C()(),Fe(17,"hr"),b(18,"p"),M(19,"Ya tiene cuenta? "),b(20,"a",10),M(21,"Login "),C()()()),2&r&&(B(1),oe("routerLink",$r(4,ege)),B(4),oe("formGroup",i.formReg),B(11),Wn(" ",i.errorStatus," "),B(4),oe("routerLink",$r(5,tge)))},dependencies:[os,eh,Vo,Kd,Qd,Bo,qu]})}return t})();const rge=function(){return["/"]},ige=function(){return["/register"]};let sge=(()=>{class t{constructor(n,r){this.userService=n,this.router=r,this.formReg=new Uo({email:new fr,password:new fr})}onSubmit(){this.userService.login(this.formReg.value).then(n=>{this.router.navigate(["/lista"])}).catch(n=>{switch(console.log(n),n.code){case"auth/invalid-login-credentials":this.errorStatus="Email o contrase\xf1a incorrectos";break;case"auth/invalid-email":this.errorStatus="El email es inv\xe1lido";break;default:this.errorStatus=n.code}})}loginWithGoogle(){var n=this;return g(function*(){yield n.userService.loginGoogle(),n.router.navigate(["/lista"])})()}static#e=this.\u0275fac=function(r){return new(r||t)(E(YS),E(bt))};static#t=this.\u0275cmp=tr({type:t,selectors:[["app-login"]],decls:26,vars:6,consts:[[1,"p-4","text-white"],[1,"btn","btn-success","my-3",3,"routerLink"],["className","text-3xl my-4"],[3,"formGroup","ngSubmit"],[1,"mb-3","w-50"],[1,"form-label"],["type","email","formControlName","email",1,"form-control"],["type","password","formControlName","password",1,"form-control"],["type","submit","value","Enviar",1,"btn","btn-secondary"],[1,"text-danger"],[1,"text-success",3,"routerLink"],[1,"btn","btn-primary","my-3","d-flex","flex-row",3,"click"],[1,"icon-container"],["src","assets/google-icon.png","alt","icon-google",1,"",2,"width","1rem","height","1rem"]],template:function(r,i){1&r&&(b(0,"div",0)(1,"button",1),M(2," Regresar"),C(),b(3,"h1",2),M(4," Login"),C(),b(5,"form",3),Le("ngSubmit",function(){return i.onSubmit()}),b(6,"div",4)(7,"label",5),M(8,"Email"),C(),Fe(9,"input",6),C(),b(10,"div",4)(11,"label",5),M(12,"Password"),C(),Fe(13,"input",7),C(),Fe(14,"input",8),b(15,"p",9),M(16),C()(),Fe(17,"hr"),b(18,"p"),M(19,"No tiene cuenta? "),b(20,"a",10),M(21,"Registrarse "),C()(),b(22,"button",11),Le("click",function(){return i.loginWithGoogle()}),b(23,"div",12),Fe(24,"img",13),C(),M(25," Login con Google "),C()()),2&r&&(B(1),oe("routerLink",$r(4,rge)),B(4),oe("formGroup",i.formReg),B(11),Wn(" ",i.errorStatus," "),B(4),oe("routerLink",$r(5,ige)))},dependencies:[os,eh,Vo,Kd,Qd,Bo,qu],styles:[".icon-container[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;background-color:#fff;border-radius:50%;display:flex;justify-content:center;align-items:center;margin-right:10px}"]})}return t})();const oge=function(){return["register"]},age=function(){return["login"]},uge=function(){return["lista"]};let cge=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=tr({type:t,selectors:[["app-main"]],decls:14,vars:6,consts:[[1,"p-4","text-white","d-flex","flex-column"],[1,"text-3xl","my-8","text-center"],[1,"btn-container-main"],[1,"btn","btn-secondary",3,"routerLink"],[1,"btn","btn-primary",3,"routerLink"],[1,"d-flex","flex-column","justify-content-center","text-center","mt-5"],[1,"btn","btn-success",3,"routerLink"]],template:function(r,i){1&r&&(b(0,"div",0)(1,"h1",1),M(2,"CRUD Application"),C(),b(3,"div",2)(4,"button",3),M(5," Register "),C(),b(6,"button",4),M(7," Login "),C()(),b(8,"div",5)(9,"p"),M(10,"Para ver la lista necesita registrarse primero"),C(),b(11,"div")(12,"button",6),M(13," Ver lista de Productos "),C()()()()),2&r&&(B(4),oe("routerLink",$r(3,oge)),B(2),oe("routerLink",$r(4,age)),B(6),oe("routerLink",$r(5,uge)))},dependencies:[os],styles:[".btn-container-main[_ngcontent-%COMP%]{display:flex;column-gap:10px;align-self:flex-end}"]})}return t})();const vA=me(t=>!!t);let lge=(()=>{class t{constructor(n,r){this.router=n,this.auth=r,this.canActivate=(i,s)=>{const o=i.data.authGuardPipe||(()=>vA);return tue(this.auth).pipe(Ks(1),o(i,s),me(a=>"boolean"==typeof a?a:Array.isArray(a)?this.router.createUrlTree(a):this.router.parseUrl(a)))}}}return t.\u0275fac=function(n){return new(n||t)(G(bt),G(Bl))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();const x4=t=>({canActivate:[lge],data:{authGuardPipe:t}}),pge=[{path:"",component:cge},{path:"lista",component:Hfe,...x4(()=>(t=>Qm(vA,me(e=>e||t)))(["/login"]))},{path:"lista/create-item",component:qpe},{path:"lista/edit-item/:id",component:Zpe},{path:"register",component:nge},{path:"login",component:sge,...x4(()=>(t=>Qm(vA,me(e=>e&&t||!0)))(["/lista"]))}];let $m=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Qt({type:t});static#n=this.\u0275inj=Ot({imports:[LF.forRoot(pge),LF]})}return t})(),gge=(()=>{class t{constructor(){this.title="crud-angular-firebase"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=tr({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&Fe(0,"router-outlet")},dependencies:[Vw]})}return t})(),M4=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Qt({type:t});static#n=this.\u0275inj=Ot({imports:[Yf,$m]})}return t})(),mge=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Qt({type:t});static#n=this.\u0275inj=Ot({imports:[Yf,$m,M4,Vpe,$m,kfe]})}return t})();const yge_firebase={projectId:"angular-crud-example-105c6",appId:"1:746191838803:web:1d46174e833f860efbf0a6",storageBucket:"angular-crud-example-105c6.appspot.com",apiKey:"AIzaSyCirZhB2B5pMWr_Y9B2rwqGT-CK8-lDQwQ",authDomain:"angular-crud-example-105c6.firebaseapp.com",messagingSenderId:"746191838803"};let _ge=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Qt({type:t,bootstrap:[gge]});static#n=this.\u0275inj=Ot({imports:[FY,$m,mge,M4,yie(()=>_ie(yge_firebase)),eue(()=>rue()),hfe(()=>yfe())]})}return t})();PY().bootstrapModule(_ge).catch(t=>console.error(t))}},xe=>{xe(xe.s=286)}]);