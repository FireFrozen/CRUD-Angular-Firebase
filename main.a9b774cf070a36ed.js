"use strict";(self.webpackChunkcrud_angular_firebase=self.webpackChunkcrud_angular_firebase||[]).push([[179],{910:()=>{function Te(t){return"function"==typeof t}function ju(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Wd=ju(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Po(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Dn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Te(r))try{r()}catch(s){e=s instanceof Wd?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{dA(s)}catch(o){e=e??[],o instanceof Wd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Wd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)dA(e);else{if(e instanceof Dn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Po(n,e)}remove(e){const{_finalizers:n}=this;n&&Po(n,e),e instanceof Dn&&e._removeParent(this)}}Dn.EMPTY=(()=>{const t=new Dn;return t.closed=!0,t})();const cA=Dn.EMPTY;function lA(t){return t instanceof Dn||t&&"closed"in t&&Te(t.remove)&&Te(t.add)&&Te(t.unsubscribe)}function dA(t){Te(t)?t():t.unsubscribe()}const Ts={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Kd={setTimeout(t,e,...n){const{delegate:r}=Kd;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Kd;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function hA(t){Kd.setTimeout(()=>{const{onUnhandledError:e}=Ts;if(!e)throw t;e(t)})}function Fm(){}const CG=Lm("C",void 0,void 0);function Lm(t,e,n){return{kind:t,value:e,error:n}}let Ss=null;function Qd(t){if(Ts.useDeprecatedSynchronousErrorHandling){const e=!Ss;if(e&&(Ss={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Ss;if(Ss=null,n)throw r}}else t()}class Vm extends Dn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,lA(e)&&e.add(this)):this.destination=NG}static create(e,n,r){return new $u(e,n,r)}next(e){this.isStopped?Bm(function TG(t){return Lm("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Bm(function bG(t){return Lm("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Bm(CG,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const AG=Function.prototype.bind;function Um(t,e){return AG.call(t,e)}class MG{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Yd(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Yd(r)}else Yd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Yd(n)}}}class $u extends Vm{constructor(e,n,r){let i;if(super(),Te(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ts.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Um(e.next,s),error:e.error&&Um(e.error,s),complete:e.complete&&Um(e.complete,s)}):i=e}this.destination=new MG(i)}}function Yd(t){Ts.useDeprecatedSynchronousErrorHandling?function SG(t){Ts.useDeprecatedSynchronousErrorHandling&&Ss&&(Ss.errorThrown=!0,Ss.error=t)}(t):hA(t)}function Bm(t,e){const{onStoppedNotification:n}=Ts;n&&Kd.setTimeout(()=>n(t,e))}const NG={closed:!0,next:Fm,error:function xG(t){throw t},complete:Fm},jm="function"==typeof Symbol&&Symbol.observable||"@@observable";function Oi(t){return t}function fA(...t){return pA(t)}function pA(t){return 0===t.length?Oi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let je=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function kG(t){return t&&t instanceof Vm||function RG(t){return t&&Te(t.next)&&Te(t.error)&&Te(t.complete)}(t)&&lA(t)}(n)?n:new $u(n,r,i);return Qd(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=gA(r))((i,s)=>{const o=new $u({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[jm](){return this}pipe(...n){return pA(n)(this)}toPromise(n){return new(n=gA(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function gA(t){var e;return null!==(e=t??Ts.Promise)&&void 0!==e?e:Promise}const OG=ju(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ar=(()=>{class t extends je{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new mA(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new OG}next(n){Qd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Qd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Qd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?cA:(this.currentObservers=null,s.push(n),new Dn(()=>{this.currentObservers=null,Po(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new je;return n.source=this,n}}return t.create=(e,n)=>new mA(e,n),t})();class mA extends ar{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:cA}}function yA(t){return Te(t?.lift)}function pt(t){return e=>{if(yA(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ct(t,e,n,r,i){return new PG(t,e,n,r,i)}class PG extends Vm{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function pe(t,e){return pt((n,r)=>{let i=0;n.subscribe(ct(r,s=>{r.next(t.call(e,s,i++))}))})}function Jd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Pi(t){return this instanceof Pi?(this.v=t,this):new Pi(t)}function IA(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function zm(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const EA=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function DA(t){return Te(t?.then)}function CA(t){return Te(t[jm])}function bA(t){return Symbol.asyncIterator&&Te(t?.[Symbol.asyncIterator])}function TA(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const SA=function n4(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function AA(t){return Te(t?.[SA])}function MA(t){return function wA(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Pi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Pi(n.read());if(i)return yield Pi(void 0);yield yield Pi(r)}}finally{n.releaseLock()}})}function xA(t){return Te(t?.getReader)}function Pn(t){if(t instanceof je)return t;if(null!=t){if(CA(t))return function r4(t){return new je(e=>{const n=t[jm]();if(Te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(EA(t))return function i4(t){return new je(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(DA(t))return function s4(t){return new je(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,hA)})}(t);if(bA(t))return NA(t);if(AA(t))return function o4(t){return new je(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(xA(t))return function a4(t){return NA(MA(t))}(t)}throw TA(t)}function NA(t){return new je(e=>{(function u4(t,e){var n,r,i,s;return function _A(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=IA(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Zr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Rt(t,e,n=1/0){return Te(e)?Rt((r,i)=>pe((s,o)=>e(r,s,i,o))(Pn(t(r,i))),n):("number"==typeof e&&(n=e),pt((r,i)=>function c4(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let y=!1;Pn(n(m,l++)).subscribe(ct(e,w=>{i?.(w),s?f(w):e.next(w)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const w=u.shift();o?Zr(e,o,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(ct(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Fo(t=1/0){return Rt(Oi,t)}const Dr=new je(t=>t.complete());function qm(t){return t[t.length-1]}function RA(t){return Te(qm(t))?t.pop():void 0}function Hu(t){return function d4(t){return t&&Te(t.schedule)}(qm(t))?t.pop():void 0}function Xd(t,e=0){return pt((n,r)=>{n.subscribe(ct(r,i=>Zr(r,t,()=>r.next(i),e),()=>Zr(r,t,()=>r.complete(),e),i=>Zr(r,t,()=>r.error(i),e)))})}function Zd(t,e=0){return pt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function kA(t,e){if(!t)throw new Error("Iterable cannot be null");return new je(n=>{Zr(n,e,()=>{const r=t[Symbol.asyncIterator]();Zr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Et(t,e){return e?function _4(t,e){if(null!=t){if(CA(t))return function f4(t,e){return Pn(t).pipe(Zd(e),Xd(e))}(t,e);if(EA(t))return function g4(t,e){return new je(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(DA(t))return function p4(t,e){return Pn(t).pipe(Zd(e),Xd(e))}(t,e);if(bA(t))return kA(t,e);if(AA(t))return function m4(t,e){return new je(n=>{let r;return Zr(n,e,()=>{r=t[SA](),Zr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Te(r?.return)&&r.return()})}(t,e);if(xA(t))return function y4(t,e){return kA(MA(t),e)}(t,e)}throw TA(t)}(t,e):Pn(t)}class Wn extends ar{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Q(...t){return Et(t,Hu(t))}function OA(t={}){const{connector:e=(()=>new ar),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return pt((m,y)=>{c++,!d&&!l&&h();const w=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=Wm(p,i))}),w.subscribe(y),!o&&c>0&&(o=new $u({next:_=>w.next(_),error:_=>{d=!0,h(),a=Wm(f,n,_),w.error(_)},complete:()=>{l=!0,h(),a=Wm(f,r),w.complete()}}),Pn(m).subscribe(o))})(s)}}function Wm(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new $u({next:()=>{r.unsubscribe(),t()}});return Pn(e(...n)).subscribe(r)}function Cr(t,e){return pt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(ct(r,u=>{i?.unsubscribe();let c=0;const l=s++;Pn(t(u,l)).subscribe(i=ct(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function I4(t,e){return t===e}function Ie(t){for(let e in t)if(t[e]===Ie)return e;throw Error("Could not find renamed property on target object.")}function eh(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function gt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(gt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Km(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const E4=Ie({__forward_ref__:Ie});function xe(t){return t.__forward_ref__=xe,t.toString=function(){return gt(this())},t}function W(t){return Qm(t)?t():t}function Qm(t){return"function"==typeof t&&t.hasOwnProperty(E4)&&t.__forward_ref__===xe}function Ym(t){return t&&!!t.\u0275providers}const PA="https://g.co/ng/security#xss";class T extends Error{constructor(e,n){super(function th(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function J(t){return"string"==typeof t?t:null==t?"":String(t)}function Jm(t,e){throw new T(-201,!1)}function Kn(t,e){null==t&&function z(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function H(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function qt(t){return{providers:t.providers||[],imports:t.imports||[]}}function nh(t){return FA(t,ih)||FA(t,LA)}function FA(t,e){return t.hasOwnProperty(e)?t[e]:null}function rh(t){return t&&(t.hasOwnProperty(Xm)||t.hasOwnProperty(x4))?t[Xm]:null}const ih=Ie({\u0275prov:Ie}),Xm=Ie({\u0275inj:Ie}),LA=Ie({ngInjectableDef:Ie}),x4=Ie({ngInjectorDef:Ie});var se=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(se||{});let Zm;function Cn(t){const e=Zm;return Zm=t,e}function UA(t,e,n){const r=nh(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&se.Optional?null:void 0!==e?e:void Jm(gt(t))}const Ne=globalThis,Gu={},iy="__NG_DI_FLAG__",sh="ngTempTokenPath",k4=/\n/gm,jA="__source";let Lo;function Fi(t){const e=Lo;return Lo=t,e}function F4(t,e=se.Default){if(void 0===Lo)throw new T(-203,!1);return null===Lo?UA(t,void 0,e):Lo.get(t,e&se.Optional?null:void 0,e)}function $(t,e=se.Default){return(function VA(){return Zm}()||F4)(W(t),e)}function L(t,e=se.Default){return $(t,oh(e))}function oh(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function sy(t){const e=[];for(let n=0;n<t.length;n++){const r=W(t[n]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let i,s=se.Default;for(let o=0;o<r.length;o++){const a=r[o],u=L4(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push($(i,s))}else e.push($(r))}return e}function zu(t,e){return t[iy]=e,t.prototype[iy]=e,t}function L4(t){return t[iy]}function ei(t){return{toString:t}.toString()}var ah=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ah||{}),ur=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ur||{});const br={},ge=[],uh=Ie({\u0275cmp:Ie}),oy=Ie({\u0275dir:Ie}),ay=Ie({\u0275pipe:Ie}),HA=Ie({\u0275mod:Ie}),ti=Ie({\u0275fac:Ie}),qu=Ie({__NG_ELEMENT_ID__:Ie}),GA=Ie({__NG_ENV_ID__:Ie});function zA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function uy(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];WA(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function qA(t){return 3===t||4===t||6===t}function WA(t){return 64===t.charCodeAt(0)}function Wu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||KA(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function KA(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const QA="ng-template";function B4(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==zA(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function YA(t){return 4===t.type&&t.value!==QA}function j4(t,e,n){return e===(4!==t.type||n?t.value:QA)}function $4(t,e,n){let r=4;const i=t.attrs||[],s=function z4(t){for(let e=0;e<t.length;e++)if(qA(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!j4(t,u,n)||""===u&&1===e.length){if(cr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!B4(t.attrs,c,n)){if(cr(r))return!1;o=!0}continue}const d=H4(8&r?"class":u,i,YA(t),n);if(-1===d){if(cr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==zA(f,c,0)||2&r&&c!==h){if(cr(r))return!1;o=!0}}}}else{if(!o&&!cr(r)&&!cr(u))return!1;if(o&&cr(u))continue;o=!1,r=u|1&r}}return cr(r)||o}function cr(t){return 0==(1&t)}function H4(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function q4(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function JA(t,e,n=!1){for(let r=0;r<e.length;r++)if($4(t,e[r],n))return!0;return!1}function XA(t,e){return t?":not("+e.trim()+")":e}function K4(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!cr(o)&&(e+=XA(s,i),i=""),r=o,s=s||!cr(r);n++}return""!==i&&(e+=XA(s,i)),e}function lr(t){return ei(()=>{const e=eM(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ah.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ur.Emulated,styles:t.styles||ge,_:null,schemas:t.schemas||null,tView:null,id:""};tM(n);const r=t.dependencies;return n.directiveDefs=ch(r,!1),n.pipeDefs=ch(r,!0),n.id=function nz(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function X4(t){return ce(t)||kt(t)}function Z4(t){return null!==t}function an(t){return ei(()=>({type:t.type,bootstrap:t.bootstrap||ge,declarations:t.declarations||ge,imports:t.imports||ge,exports:t.exports||ge,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ZA(t,e){if(null==t)return br;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function K(t){return ei(()=>{const e=eM(t);return tM(e),e})}function bn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ce(t){return t[uh]||null}function kt(t){return t[oy]||null}function un(t){return t[ay]||null}function Ln(t,e){const n=t[HA]||null;if(!n&&!0===e)throw new Error(`Type ${gt(t)} does not have '\u0275mod' property.`);return n}function eM(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||br,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ge,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ZA(t.inputs,e),outputs:ZA(t.outputs)}}function tM(t){t.features?.forEach(e=>e(t))}function ch(t,e){if(!t)return null;const n=e?un:X4;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(Z4)}const Ke=0,k=1,ne=2,$e=3,dr=4,Ku=5,Wt=6,Uo=7,nt=8,Li=9,Bo=10,X=11,Qu=12,nM=13,jo=14,rt=15,Yu=16,$o=17,Tr=18,Ju=19,rM=20,Vi=21,ni=22,Xu=23,Zu=24,oe=25,cy=1,iM=2,Sr=7,Ho=9,Ot=11;function Tn(t){return Array.isArray(t)&&"object"==typeof t[cy]}function cn(t){return Array.isArray(t)&&!0===t[cy]}function ly(t){return 0!=(4&t.flags)}function Ms(t){return t.componentOffset>-1}function dh(t){return 1==(1&t.flags)}function hr(t){return!!t.template}function dy(t){return 0!=(512&t[ne])}function xs(t,e){return t.hasOwnProperty(ti)?t[ti]:null}let Pt=null,hh=!1;function Qn(t){const e=Pt;return Pt=t,e}const aM={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function cM(t){if(!tc(t)||t.dirty){if(!t.producerMustRecompute(t)&&!hM(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function dM(t){t.dirty=!0,function lM(t){if(void 0===t.liveConsumerNode)return;const e=hh;hh=!0;try{for(const n of t.liveConsumerNode)n.dirty||dM(n)}finally{hh=e}}(t),t.consumerMarkedDirty?.(t)}function fy(t){return t&&(t.nextProducerIndex=0),Qn(t)}function py(t,e){if(Qn(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(tc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)fh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function hM(t){Go(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(cM(n),r!==n.version))return!0}return!1}function fM(t){if(Go(t),tc(t))for(let e=0;e<t.producerNode.length;e++)fh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function fh(t,e){if(function gM(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Go(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)fh(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Go(i),i.producerIndexOfThis[r]=e}}function tc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Go(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let mM=null;const wM=()=>{},gz=(()=>({...aM,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:wM}))();class mz{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Yn(){return IM}function IM(t){return t.type.prototype.ngOnChanges&&(t.setInput=_z),yz}function yz(){const t=DM(this),e=t?.current;if(e){const n=t.previous;if(n===br)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function _z(t,e,n,r){const i=this.declaredInputs[n],s=DM(t)||function vz(t,e){return t[EM]=e}(t,{previous:br,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new mz(u&&u.currentValue,e,a===br),t[r]=e}Yn.ngInherit=!0;const EM="__ngSimpleChanges__";function DM(t){return t[EM]||null}const Ar=function(t,e,n){};function Re(t){for(;Array.isArray(t);)t=t[Ke];return t}function ph(t,e){return Re(e[t])}function Sn(t,e){return Re(e[t.index])}function TM(t,e){return t.data[e]}function zo(t,e){return t[e]}function Vn(t,e){const n=e[t];return Tn(n)?n:n[Ke]}function Bi(t,e){return null==e?null:t[e]}function SM(t){t[$o]=0}function bz(t){1024&t[ne]||(t[ne]|=1024,MM(t,1))}function AM(t){1024&t[ne]&&(t[ne]&=-1025,MM(t,-1))}function MM(t,e){let n=t[$e];if(null===n)return;n[Ku]+=e;let r=n;for(n=n[$e];null!==n&&(1===e&&1===r[Ku]||-1===e&&0===r[Ku]);)n[Ku]+=e,r=n,n=n[$e]}const q={lFrame:BM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function RM(){return q.bindingsEnabled}function E(){return q.lFrame.lView}function le(){return q.lFrame.tView}function nc(t){return q.lFrame.contextLView=t,t[nt]}function rc(t){return q.lFrame.contextLView=null,t}function Ft(){let t=kM();for(;null!==t&&64===t.type;)t=t.parent;return t}function kM(){return q.lFrame.currentTNode}function Mr(t,e){const n=q.lFrame;n.currentTNode=t,n.isParent=e}function vy(){return q.lFrame.isParent}function ln(){const t=q.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Wo(){return q.lFrame.bindingIndex++}function Lz(t,e){const n=q.lFrame;n.bindingIndex=n.bindingRootIndex=t,Iy(e)}function Iy(t){q.lFrame.currentDirectiveIndex=t}function Dy(t){q.lFrame.currentQueryIndex=t}function Uz(t){const e=t[k];return 2===e.type?e.declTNode:1===e.type?t[Wt]:null}function VM(t,e,n){if(n&se.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&se.Host||(i=Uz(s),null===i||(s=s[jo],10&i.type))););if(null===i)return!1;e=i,t=s}const r=q.lFrame=UM();return r.currentTNode=e,r.lView=t,!0}function Cy(t){const e=UM(),n=t[k];q.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function UM(){const t=q.lFrame,e=null===t?null:t.child;return null===e?BM(t):e}function BM(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function jM(){const t=q.lFrame;return q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const $M=jM;function by(){const t=jM();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function dn(){return q.lFrame.selectedIndex}function Ns(t){q.lFrame.selectedIndex=t}function ze(){const t=q.lFrame;return TM(t.tView,t.selectedIndex)}let GM=!0;function gh(){return GM}function ji(t){GM=t}function mh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function yh(t,e,n){zM(t,e,3,n)}function _h(t,e,n,r){(3&t[ne])===n&&zM(t,e,n,r)}function Ty(t,e){let n=t[ne];(3&n)===e&&(n&=8191,n+=1,t[ne]=n)}function zM(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[$o]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[$o]+=65536),(a<s||-1==s)&&(Wz(t,n,e,u),t[$o]=(4294901760&t[$o])+u+2),u++}function qM(t,e){Ar(4,t,e);const n=Qn(null);try{e.call(t)}finally{Qn(n),Ar(5,t,e)}}function Wz(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[ne]>>13<t[$o]>>16&&(3&t[ne])===e&&(t[ne]+=8192,qM(a,s)):qM(a,s)}const Ko=-1;class sc{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Ay(t){return t!==Ko}function oc(t){return 32767&t}function ac(t,e){let n=function Jz(t){return t>>16}(t),r=e;for(;n>0;)r=r[jo],n--;return r}let My=!0;function vh(t){const e=My;return My=t,e}const WM=255,KM=5;let Xz=0;const xr={};function wh(t,e){const n=QM(t,e);if(-1!==n)return n;const r=e[k];r.firstCreatePass&&(t.injectorIndex=e.length,xy(r.data,t),xy(e,null),xy(r.blueprint,null));const i=Ih(t,e),s=t.injectorIndex;if(Ay(i)){const o=oc(i),a=ac(i,e),u=a[k].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function xy(t,e){t.push(0,0,0,0,0,0,0,0,e)}function QM(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ih(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=nx(i),null===r)return Ko;if(n++,i=i[jo],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ko}function Ny(t,e,n){!function Zz(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(qu)&&(r=n[qu]),null==r&&(r=n[qu]=Xz++);const i=r&WM;e.data[t+(i>>KM)]|=1<<i}(t,e,n)}function YM(t,e,n){if(n&se.Optional||void 0!==t)return t;Jm()}function JM(t,e,n,r){if(n&se.Optional&&void 0===r&&(r=null),!(n&(se.Self|se.Host))){const i=t[Li],s=Cn(void 0);try{return i?i.get(e,r,n&se.Optional):UA(e,r,n&se.Optional)}finally{Cn(s)}}return YM(r,0,n)}function XM(t,e,n,r=se.Default,i){if(null!==t){if(2048&e[ne]&&!(r&se.Self)){const o=function s3(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[ne]&&!(512&o[ne]);){const a=ZM(s,o,n,r|se.Self,xr);if(a!==xr)return a;let u=s.parent;if(!u){const c=o[rM];if(c){const l=c.get(n,xr,r);if(l!==xr)return l}u=nx(o),o=o[jo]}s=u}return i}(t,e,n,r,xr);if(o!==xr)return o}const s=ZM(t,e,n,r,xr);if(s!==xr)return s}return JM(e,n,r,i)}function ZM(t,e,n,r,i){const s=function n3(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(qu)?t[qu]:void 0;return"number"==typeof e?e>=0?e&WM:i3:e}(n);if("function"==typeof s){if(!VM(e,t,r))return r&se.Host?YM(i,0,r):JM(e,n,r,i);try{let o;if(o=s(r),null!=o||r&se.Optional)return o;Jm()}finally{$M()}}else if("number"==typeof s){let o=null,a=QM(t,e),u=Ko,c=r&se.Host?e[rt][Wt]:null;for((-1===a||r&se.SkipSelf)&&(u=-1===a?Ih(t,e):e[a+8],u!==Ko&&tx(r,!1)?(o=e[k],a=oc(u),e=ac(u,e)):a=-1);-1!==a;){const l=e[k];if(ex(s,a,l.data)){const d=t3(a,e,n,o,r,c);if(d!==xr)return d}u=e[a+8],u!==Ko&&tx(r,e[k].data[a+8]===c)&&ex(s,a,e)?(o=l,a=oc(u),e=ac(u,e)):a=-1}}return i}function t3(t,e,n,r,i,s){const o=e[k],a=o.data[t+8],l=function Eh(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&hr(f)&&f.type===n)return u}return null}(a,o,n,null==r?Ms(a)&&My:r!=o&&0!=(3&a.type),i&se.Host&&s===a);return null!==l?Rs(e,o,l,a):xr}function Rs(t,e,n,r){let i=t[n];const s=e.data;if(function Kz(t){return t instanceof sc}(i)){const o=i;o.resolving&&function D4(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new T(-200,`Circular dependency in DI detected for ${t}${n}`)}(function ve(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():J(t)}(s[n]));const a=vh(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Cn(o.injectImpl):null;VM(t,r,se.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function qz(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=IM(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==c&&Cn(c),vh(a),o.resolving=!1,$M()}}return i}function ex(t,e,n){return!!(n[e+(t>>KM)]&1<<t)}function tx(t,e){return!(t&se.Self||t&se.Host&&e)}class hn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return XM(this._tNode,this._lView,e,oh(r),n)}}function i3(){return new hn(Ft(),E())}function Lt(t){return ei(()=>{const e=t.prototype.constructor,n=e[ti]||Ry(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[ti]||Ry(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Ry(t){return Qm(t)?()=>{const e=Ry(W(t));return e&&e()}:xs(t)}function nx(t){const e=t[k],n=e.type;return 2===n?e.declTNode:1===n?t[Wt]:null}const Yo="__parameters__";function Xo(t,e,n){return ei(()=>{const r=function ky(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Yo)?u[Yo]:Object.defineProperty(u,Yo,{value:[]})[Yo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function ea(t,e){t.forEach(n=>Array.isArray(n)?ea(n,e):e(n))}function ix(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ch(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Un(t,e,n){let r=ta(t,e);return r>=0?t[1|r]=n:(r=~r,function h3(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Oy(t,e){const n=ta(t,e);if(n>=0)return t[1|n]}function ta(t,e){return function sx(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const fn=zu(Xo("Optional"),8),Th=zu(Xo("SkipSelf"),4);function Nh(t){return 128==(128&t.flags)}var $i=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}($i||{});const Uy=new Map;let F3=0;const jy="__ngContext__";function Kt(t,e){Tn(e)?(t[jy]=e[Ju],function V3(t){Uy.set(t[Ju],t)}(e)):t[jy]=e}let $y;function Hy(t,e){return $y(t,e)}function fc(t){const e=t[$e];return cn(e)?e[$e]:e}function bx(t){return Sx(t[Qu])}function Tx(t){return Sx(t[dr])}function Sx(t){for(;null!==t&&!cn(t);)t=t[dr];return t}function ia(t,e,n,r,i){if(null!=r){let s,o=!1;cn(r)?s=r:Tn(r)&&(o=!0,r=r[Ke]);const a=Re(r);0===t&&null!==n?null==i?Nx(e,n,a):ks(e,n,a,i||null,!0):1===t&&null!==n?ks(e,n,a,i||null,!0):2===t?function Vh(t,e,n){const r=Fh(t,e);r&&function rq(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function oq(t,e,n,r,i){const s=n[Sr];s!==Re(n)&&ia(e,t,r,s,i);for(let a=Ot;a<n.length;a++){const u=n[a];gc(u[k],u,t,e,r,s)}}(e,t,s,n,i)}}function Oh(t,e,n){return t.createElement(e,n)}function Mx(t,e){const n=t[Ho],r=n.indexOf(e);AM(e),n.splice(r,1)}function Ph(t,e){if(t.length<=Ot)return;const n=Ot+e,r=t[n];if(r){const i=r[Yu];null!==i&&i!==t&&Mx(i,r),e>0&&(t[n-1][dr]=r[dr]);const s=Ch(t,Ot+e);!function Q3(t,e){gc(t,e,e[X],2,null,null),e[Ke]=null,e[Wt]=null}(r[k],r);const o=s[Tr];null!==o&&o.detachView(s[k]),r[$e]=null,r[dr]=null,r[ne]&=-129}return r}function zy(t,e){if(!(256&e[ne])){const n=e[X];e[Xu]&&fM(e[Xu]),e[Zu]&&fM(e[Zu]),n.destroyNode&&gc(t,e,n,3,null,null),function X3(t){let e=t[Qu];if(!e)return qy(t[k],t);for(;e;){let n=null;if(Tn(e))n=e[Qu];else{const r=e[Ot];r&&(n=r)}if(!n){for(;e&&!e[dr]&&e!==t;)Tn(e)&&qy(e[k],e),e=e[$e];null===e&&(e=t),Tn(e)&&qy(e[k],e),n=e&&e[dr]}e=n}}(e)}}function qy(t,e){if(!(256&e[ne])){e[ne]&=-129,e[ne]|=256,function nq(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof sc)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Ar(4,a,u);try{u.call(a)}finally{Ar(5,a,u)}}else{Ar(4,i,s);try{s.call(i)}finally{Ar(5,i,s)}}}}}(t,e),function tq(t,e){const n=t.cleanup,r=e[Uo];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Uo]=null);const i=e[Vi];if(null!==i){e[Vi]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[k].type&&e[X].destroy();const n=e[Yu];if(null!==n&&cn(e[$e])){n!==e[$e]&&Mx(n,e);const r=e[Tr];null!==r&&r.detachView(t)}!function U3(t){Uy.delete(t[Ju])}(e)}}function Wy(t,e,n){return function xx(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Ke];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===ur.None||s===ur.Emulated)return null}return Sn(r,n)}}(t,e.parent,n)}function ks(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Nx(t,e,n){t.appendChild(e,n)}function Rx(t,e,n,r,i){null!==r?ks(t,e,n,r,i):Nx(t,e,n)}function Fh(t,e){return t.parentNode(e)}let Ky,Xy,Bh,Px=function Ox(t,e,n){return 40&t.type?Sn(t,n):null};function Lh(t,e,n,r){const i=Wy(t,r,e),s=e[X],a=function kx(t,e,n){return Px(t,e,n)}(r.parent||e[Wt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)Rx(s,i,n[u],a,!1);else Rx(s,i,n,a,!1);void 0!==Ky&&Ky(s,r,e,n,i)}function pc(t,e){if(null!==e){const n=e.type;if(3&n)return Sn(e,t);if(4&n)return Qy(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return pc(t,r);{const i=t[e.index];return cn(i)?Qy(-1,i):Re(i)}}if(32&n)return Hy(e,t)()||Re(t[e.index]);{const r=Lx(t,e);return null!==r?Array.isArray(r)?r[0]:pc(fc(t[rt]),r):pc(t,e.next)}}return null}function Lx(t,e){return null!==e?t[rt][Wt].projection[e.projection]:null}function Qy(t,e){const n=Ot+t+1;if(n<e.length){const r=e[n],i=r[k].firstChild;if(null!==i)return pc(r,i)}return e[Sr]}function Yy(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Kt(Re(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)Yy(t,e,n.child,r,i,s,!1),ia(e,t,i,a,s);else if(32&u){const c=Hy(n,r);let l;for(;l=c();)ia(e,t,i,l,s);ia(e,t,i,a,s)}else 16&u?Ux(t,e,r,n,i,s):ia(e,t,i,a,s);n=o?n.projectionNext:n.next}}function gc(t,e,n,r,i,s){Yy(n,r,t.firstChild,e,i,s,!1)}function Ux(t,e,n,r,i,s){const o=n[rt],u=o[Wt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)ia(e,t,i,u[c],s);else{let c=u;const l=o[$e];Nh(r)&&(c.flags|=128),Yy(t,e,c,l,i,s,!0)}}function Bx(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function jx(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&uy(t,e,r),null!==i&&Bx(t,e,i),null!==s&&function uq(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function Gx(t){return function Zy(){if(void 0===Bh&&(Bh=null,Ne.trustedTypes))try{Bh=Ne.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Bh}()?.createScriptURL(t)||t}class zx{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${PA})`}}function Hi(t){return t instanceof zx?t.changingThisBreaksApplicationSecurity:t}function mc(t,e){const n=function _q(t){return t instanceof zx&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${PA})`)}return n===e}const Eq=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var aa=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(aa||{});function Xx(t){const e=_c();return e?e.sanitize(aa.URL,t)||"":mc(t,"URL")?Hi(t):function e_(t){return(t=String(t)).match(Eq)?t:"unsafe:"+t}(J(t))}function Zx(t){const e=_c();if(e)return Gx(e.sanitize(aa.RESOURCE_URL,t)||"");if(mc(t,"ResourceURL"))return Gx(Hi(t));throw new T(904,!1)}function _c(){const t=E();return t&&t[Bo].sanitizer}class V{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=H({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const vc=new V("ENVIRONMENT_INITIALIZER"),tN=new V("INJECTOR",-1),nN=new V("INJECTOR_DEF_TYPES");class i_{get(e,n=Gu){if(n===Gu){const r=new Error(`NullInjectorError: No provider for ${gt(e)}!`);throw r.name="NullInjectorError",r}return n}}function Pq(...t){return{\u0275providers:iN(0,t),\u0275fromNgModule:!0}}function iN(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return ea(e,o=>{const a=o;$h(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&sN(i,s),n}function sN(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];s_(i,s=>{e(s,r)})}}function $h(t,e,n,r){if(!(t=W(t)))return!1;let i=null,s=rh(t);const o=!s&&ce(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=rh(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)$h(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{ea(s.imports,l=>{$h(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&sN(c,e)}if(!a){const c=xs(i)||(()=>new i);e({provide:i,useFactory:c,deps:ge},i),e({provide:nN,useValue:i,multi:!0},i),e({provide:vc,useValue:()=>$(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const c=t;s_(u,l=>{e(l,c)})}}}return i!==t&&void 0!==t.providers}function s_(t,e){for(let n of t)Ym(n)&&(n=n.\u0275providers),Array.isArray(n)?s_(n,e):e(n)}const Fq=Ie({provide:String,useValue:Ie});function o_(t){return null!==t&&"object"==typeof t&&Fq in t}function Os(t){return"function"==typeof t}const a_=new V("Set Injector scope."),Hh={},Vq={};let u_;function Gh(){return void 0===u_&&(u_=new i_),u_}class Xn{}class zh extends Xn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,l_(e,o=>this.processProvider(o)),this.records.set(tN,ua(void 0,this)),i.has("environment")&&this.records.set(Xn,ua(void 0,this));const s=this.records.get(a_);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(nN.multi,ge,se.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Fi(this),r=Cn(void 0);try{return e()}finally{Fi(n),Cn(r)}}get(e,n=Gu,r=se.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(GA))return e[GA](this);r=oh(r);const s=Fi(this),o=Cn(void 0);try{if(!(r&se.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function Hq(t){return"function"==typeof t||"object"==typeof t&&t instanceof V}(e)&&nh(e);u=c&&this.injectableDefInScope(c)?ua(c_(e),Hh):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&se.Self?Gh():this.parent).get(e,n=r&se.Optional&&n===Gu?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[sh]=a[sh]||[]).unshift(gt(e)),s)throw a;return function V4(t,e,n,r){const i=t[sh];throw e[jA]&&i.unshift(e[jA]),t.message=function U4(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=gt(e);if(Array.isArray(e))i=e.map(gt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):gt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(k4,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[sh]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Cn(o),Fi(s)}}resolveInjectorInitializers(){const e=Fi(this),n=Cn(void 0);try{const i=this.get(vc.multi,ge,se.Self);for(const s of i)s()}finally{Fi(e),Cn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(gt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(e){let n=Os(e=W(e))?e:W(e&&e.provide);const r=function Bq(t){return o_(t)?ua(void 0,t.useValue):ua(uN(t),Hh)}(e);if(Os(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ua(void 0,Hh,!0),i.factory=()=>sy(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Hh&&(n.value=Vq,n.value=n.factory()),"object"==typeof n.value&&n.value&&function $q(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=W(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function c_(t){const e=nh(t),n=null!==e?e.factory:xs(t);if(null!==n)return n;if(t instanceof V)throw new T(204,!1);if(t instanceof Function)return function Uq(t){const e=t.length;if(e>0)throw function lc(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new T(204,!1);const n=function M4(t){return t&&(t[ih]||t[LA])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new T(204,!1)}function uN(t,e,n){let r;if(Os(t)){const i=W(t);return xs(i)||c_(i)}if(o_(t))r=()=>W(t.useValue);else if(function aN(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...sy(t.deps||[]));else if(function oN(t){return!(!t||!t.useExisting)}(t))r=()=>$(W(t.useExisting));else{const i=W(t&&(t.useClass||t.provide));if(!function jq(t){return!!t.deps}(t))return xs(i)||c_(i);r=()=>new i(...sy(t.deps))}return r}function ua(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function l_(t,e){for(const n of t)Array.isArray(n)?l_(n,e):n&&Ym(n)?l_(n.\u0275providers,e):e(n)}const qh=new V("AppId",{providedIn:"root",factory:()=>Gq}),Gq="ng",cN=new V("Platform Initializer"),Gi=new V("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),lN=new V("CSP nonce",{providedIn:"root",factory:()=>function oa(){if(void 0!==Xy)return Xy;if(typeof document<"u")return document;throw new T(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let dN=(t,e,n)=>null;function __(t,e,n=!1){return dN(t,e,n)}class e9{}class pN{}class n9{resolveComponentFactory(e){throw function t9(t){const e=Error(`No component factory found for ${gt(t)}.`);return e.ngComponent=t,e}(e)}}let Xh=(()=>{class t{static#e=this.NULL=new n9}return t})();function r9(){return da(Ft(),E())}function da(t,e){return new Bn(Sn(t,e))}let Bn=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=r9}return t})();class mN{}let oi=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function s9(){const t=E(),n=Vn(Ft().index,t);return(Tn(n)?n:t)[X]}()}return t})(),o9=(()=>{class t{static#e=this.\u0275prov=H({token:t,providedIn:"root",factory:()=>null})}return t})();class ha{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const yN=new ha("16.2.10"),I_={};function IN(t,e=null,n=null,r){const i=EN(t,e,n,r);return i.resolveInjectorInitializers(),i}function EN(t,e=null,n=null,r,i=new Set){const s=[n||ge,Pq(t)];return r=r||("object"==typeof t?void 0:gt(t)),new zh(s,e||Gh(),r||null,i)}let Qt=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Gu;static#t=this.NULL=new i_;static create(n,r){if(Array.isArray(n))return IN({name:""},r,n,"");{const i=n.name??"";return IN({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=H({token:t,providedIn:"any",factory:()=>$(tN)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function D_(t){return t.ngOriginalError}class ai{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&D_(e);for(;n&&D_(n);)n=D_(n);return n||null}}function b_(t){return e=>{setTimeout(t,void 0,e)}}const Qe=class f9 extends ar{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=b_(s),i&&(i=b_(i)),o&&(o=b_(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Dn&&e.add(a),a}};function CN(...t){}class we{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qe(!1),this.onMicrotaskEmpty=new Qe(!1),this.onStable=new Qe(!1),this.onError=new Qe(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function p9(){const t="function"==typeof Ne.requestAnimationFrame;let e=Ne[t?"requestAnimationFrame":"setTimeout"],n=Ne[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function y9(t){const e=()=>{!function m9(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ne,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,S_(t),t.isCheckStableRunning=!0,T_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),S_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function v9(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return bN(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),TN(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return bN(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),TN(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,S_(t),T_(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!we.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(we.isInAngularZone())throw new T(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,g9,CN,CN);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const g9={};function T_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function S_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function bN(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function TN(t){t._nesting--,T_(t)}class _9{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qe,this.onMicrotaskEmpty=new Qe,this.onStable=new Qe,this.onError=new Qe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const SN=new V("",{providedIn:"root",factory:AN});function AN(){const t=L(we);let e=!0;return function v4(...t){const e=Hu(t),n=function h4(t,e){return"number"==typeof qm(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Pn(r[0]):Fo(n)(Et(r,e)):Dr}(new je(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new je(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{we.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(OA()))}function ui(t){return t instanceof Function?t():t}let A_=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}return t})();function Ec(t){for(;t;){t[ne]|=64;const e=fc(t);if(dy(t)&&!e)return t;t=e}return null}const kN=new V("",{providedIn:"root",factory:()=>!1});let ef=null;function LN(t,e){return t[e]??BN()}function VN(t,e){const n=BN();n.producerNode?.length&&(t[e]=ef,n.lView=t,ef=UN())}const M9={...aM,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ec(t.lView)},lView:null};function UN(){return Object.create(M9)}function BN(){return ef??=UN(),ef}const ee={};function me(t){jN(le(),E(),dn()+t,!1)}function jN(t,e,n,r){if(!r)if(3==(3&e[ne])){const s=t.preOrderCheckHooks;null!==s&&yh(e,s,n)}else{const s=t.preOrderHooks;null!==s&&_h(e,s,0,n)}Ns(n)}function D(t,e=se.Default){const n=E();return null===n?$(t,e):XM(Ft(),n,W(t),e)}function tf(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[Ke]=i,d[ne]=140|r,(null!==c||t&&2048&t[ne])&&(d[ne]|=2048),SM(d),d[$e]=d[jo]=t,d[nt]=n,d[Bo]=o||t&&t[Bo],d[X]=a||t&&t[X],d[Li]=u||t&&t[Li]||null,d[Wt]=s,d[Ju]=function L3(){return F3++}(),d[ni]=l,d[rM]=c,d[rt]=2==e.type?t[rt]:d,d}function ga(t,e,n,r,i){let s=t.data[e];if(null===s)s=function M_(t,e,n,r,i){const s=kM(),o=vy(),u=t.data[e]=function L9(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function qo(){return null!==q.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function Fz(){return q.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function ic(){const t=q.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Mr(s,!0),s}function Dc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function HN(t,e,n,r,i){const s=LN(e,Xu),o=dn(),a=2&r;try{Ns(-1),a&&e.length>oe&&jN(t,e,oe,!1),Ar(a?2:0,i);const c=a?s:null,l=fy(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{py(c,l)}}finally{a&&null===e[Xu]&&VN(e,Xu),Ns(o),Ar(a?3:1,i)}}function x_(t,e,n){if(ly(e)){const r=Qn(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Qn(r)}}}function N_(t,e,n){RM()&&(function G9(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Ms(n)&&function J9(t,e,n){const r=Sn(e,t),i=GN(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=nf(t,tf(t,i,null,o,r,e,null,t[Bo].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||wh(n,e),Kt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Rs(e,t,a,n);Kt(c,e),null!==o&&X9(0,a-i,c,u,0,o),hr(u)&&(Vn(n.index,e)[nt]=Rs(e,t,a,n))}}(t,e,n,Sn(n,e)),64==(64&n.flags)&&QN(t,e,n))}function R_(t,e,n=Sn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function GN(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=k_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function k_(t,e,n,r,i,s,o,a,u,c,l){const d=oe+r,h=d+i,f=function N9(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ee);return n}(d,h),p="function"==typeof c?c():c;return f[k]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let zN=t=>null;function qN(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?WN(n,e,i,s):r.hasOwnProperty(i)&&WN(n,e,r[i],s)}return n}function WN(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function O_(t,e,n,r){if(RM()){const i=null===r?null:{"":-1},s=function q9(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(JA(e,o.selectors,!1))if(r||(r=[]),hr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),P_(t,e,a.length)}else r.unshift(o),P_(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&KN(t,e,n,o,i,a),i&&function W9(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new T(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Wu(n.mergedAttrs,n.attrs)}function KN(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Ny(wh(n,e),t,r[c].type);!function Q9(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Dc(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Wu(n.mergedAttrs,l.hostAttrs),Y9(t,n,e,u,l),K9(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function V9(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=qN(d.inputs,l,u,h?h.inputs:null),c=qN(d.outputs,l,c,p);const m=null===u||null===o||YA(e)?null:Z9(u,l,o);a.push(m)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function QN(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function Vz(){return q.lFrame.currentDirectiveIndex}();try{Ns(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];Iy(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&z9(u,c)}}finally{Ns(-1),Iy(o)}}function z9(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function P_(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function K9(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;hr(e)&&(n[""]=t)}}function Y9(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=xs(i.type)),o=new sc(s,hr(i),D);t.blueprint[r]=o,n[r]=o,function $9(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function H9(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Dc(t,n,i.hostVars,ee),i)}function Nr(t,e,n,r,i,s){const o=Sn(t,e);!function F_(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?J(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[X],o,s,t.value,n,r,i)}function X9(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)YN(r,n,o[a++],o[a++],o[a++])}function YN(t,e,n,r,i){const s=Qn(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Qn(s)}}function Z9(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function JN(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function XN(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];Dy(n[r]),o.contentQueries(2,e[s],s)}}}function nf(t,e){return t[Qu]?t[nM][dr]=e:t[Qu]=e,t[nM]=e,e}function L_(t,e,n){Dy(0);const r=Qn(null);try{e(t,n)}finally{Qn(r)}}function n1(t,e){const n=t[Li],r=n?n.get(ai,null):null;r&&r.handleError(e)}function V_(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];YN(t.data[o],e[o],r,a,i)}}function e6(t,e){const n=Vn(e,t),r=n[k];!function t6(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Ke];null!==i&&null===n[ni]&&(n[ni]=__(i,n[Li])),U_(r,n,n[nt])}function U_(t,e,n){Cy(e);try{const r=t.viewQuery;null!==r&&L_(1,r,n);const i=t.template;null!==i&&HN(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&XN(t,e),t.staticViewQueries&&L_(2,t.viewQuery,n);const s=t.components;null!==s&&function n6(t,e){for(let n=0;n<e.length;n++)e6(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ne]&=-5,by()}}let r1=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function pz(t,e,n){const r=Object.create(gz);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>dM(r),run:()=>{if(r.dirty=!1,r.hasRun&&!hM(r))return;r.hasRun=!0;const o=fy(r);try{r.cleanupFn(),r.cleanupFn=wM,r.fn(i)}finally{py(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}return t})();function rf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Km(i,a):2==s&&(r=Km(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Cc(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(Re(s)),cn(s)&&i1(s,r);const o=n.type;if(8&o)Cc(t,e,n.child,r);else if(32&o){const a=Hy(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=Lx(e,n);if(Array.isArray(a))r.push(...a);else{const u=fc(e[rt]);Cc(u[k],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function i1(t,e){for(let n=Ot;n<t.length;n++){const r=t[n],i=r[k].firstChild;null!==i&&Cc(r[k],r,i,e)}t[Sr]!==t[Ke]&&e.push(t[Sr])}function sf(t,e,n,r=!0){const i=e[Bo],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{s1(t,e,t.template,n)}catch(u){throw r&&n1(e,u),u}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function s1(t,e,n,r){const i=e[ne];if(256!=(256&i)){e[Bo].effectManager?.flush(),Cy(e);try{SM(e),function PM(t){return q.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&HN(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&yh(e,c,null)}else{const c=t.preOrderHooks;null!==c&&_h(e,c,0,null),Ty(e,0)}if(function s6(t){for(let e=bx(t);null!==e;e=Tx(e)){if(!e[iM])continue;const n=e[Ho];for(let r=0;r<n.length;r++){bz(n[r])}}}(e),o1(e,2),null!==t.contentQueries&&XN(t,e),o){const c=t.contentCheckHooks;null!==c&&yh(e,c)}else{const c=t.contentHooks;null!==c&&_h(e,c,1),Ty(e,1)}!function x9(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=LN(e,Zu);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Ns(~s);else{const o=s,a=n[++i],u=n[++i];Lz(a,o),r.dirty=!1;const c=fy(r);try{u(2,e[o])}finally{py(r,c)}}}}finally{null===e[Zu]&&VN(e,Zu),Ns(-1)}}(t,e);const a=t.components;null!==a&&u1(e,a,0);const u=t.viewQuery;if(null!==u&&L_(2,u,r),o){const c=t.viewCheckHooks;null!==c&&yh(e,c)}else{const c=t.viewHooks;null!==c&&_h(e,c,2),Ty(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ne]&=-73,AM(e)}finally{by()}}}function o1(t,e){for(let n=bx(t);null!==n;n=Tx(n))for(let r=Ot;r<n.length;r++)a1(n[r],e)}function o6(t,e,n){a1(Vn(e,t),n)}function a1(t,e){if(!function Dz(t){return 128==(128&t[ne])}(t))return;const n=t[k],r=t[ne];if(80&r&&0===e||1024&r||2===e)s1(n,t,n.template,t[nt]);else if(t[Ku]>0){o1(t,1);const i=n.components;null!==i&&u1(t,i,1)}}function u1(t,e,n){for(let r=0;r<e.length;r++)o6(t,e[r],n)}class bc{get rootNodes(){const e=this._lView,n=e[k];return Cc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[nt]}set context(e){this._lView[nt]=e}get destroyed(){return 256==(256&this._lView[ne])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[$e];if(cn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Ph(e,r),Ch(n,r))}this._attachedToViewContainer=!1}zy(this._lView[k],this._lView)}onDestroy(e){!function xM(t,e){if(256==(256&t[ne]))throw new T(911,!1);null===t[Vi]&&(t[Vi]=[]),t[Vi].push(e)}(this._lView,e)}markForCheck(){Ec(this._cdRefInjectingView||this._lView)}detach(){this._lView[ne]&=-129}reattach(){this._lView[ne]|=128}detectChanges(){sf(this._lView[k],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function J3(t,e){gc(t,e,e[X],2,null,null)}(this._lView[k],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e}}class a6 extends bc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;sf(e[k],e,e[nt],!1)}checkNoChanges(){}get context(){return null}}class c1 extends Xh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ce(e);return new Tc(n,this.ngModule)}}function l1(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class c6{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=oh(r);const i=this.injector.get(e,I_,r);return i!==I_||n===I_?i:this.parentInjector.get(e,n,r)}}class Tc extends pN{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=l1(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return l1(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Q4(t){return t.map(K4).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Xn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new c6(e,s):e,a=o.get(mN,null);if(null===a)throw new T(407,!1);const d={rendererFactory:a,sanitizer:o.get(o9,null),effectManager:o.get(r1,null),afterRenderEventManager:o.get(A_,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function R9(t,e,n,r){const s=r.get(kN,!1)||n===ur.ShadowDom,o=t.selectRootElement(e,s);return function k9(t){zN(t)}(o),o}(h,r,this.componentDef.encapsulation,o):Oh(h,f,function u6(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),w=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=__(p,o,!0));const b=k_(0,null,null,1,0,null,null,null,null,null,null),O=tf(null,b,null,w,null,null,d,h,o,null,_);let B,te;Cy(O);try{const Me=this.componentDef;let on,Xr=null;Me.findHostDirectiveDefs?(on=[],Xr=new Map,Me.findHostDirectiveDefs(Me,on,Xr),on.push(Me)):on=[Me];const uA=function d6(t,e){const n=t[k],r=oe;return t[r]=e,ga(n,r,2,"#host",null)}(O,p),Jpe=function h6(t,e,n,r,i,s,o){const a=i[k];!function f6(t,e,n,r){for(const i of t)e.mergedAttrs=Wu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(rf(e,e.mergedAttrs,!0),null!==n&&jx(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=__(e,i[Li]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=tf(i,GN(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&P_(a,t,r.length-1),nf(i,d),i[t.index]=d}(uA,p,Me,on,O,d,h);te=TM(b,oe),p&&function g6(t,e,n,r){if(r)uy(t,n,["ng-version",yN.full]);else{const{attrs:i,classes:s}=function Y4(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!cr(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&uy(t,n,i),s&&s.length>0&&Bx(t,n,s.join(" "))}}(h,Me,p,r),void 0!==n&&function m6(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(te,this.ngContentSelectors,n),B=function p6(t,e,n,r,i,s){const o=Ft(),a=i[k],u=Sn(o,i);KN(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Kt(Rs(i,a,o.directiveStart+l,o),i);QN(a,i,o),u&&Kt(u,i);const c=Rs(i,a,o.directiveStart+o.componentOffset,o);if(t[nt]=i[nt]=c,null!==s)for(const l of s)l(c,e);return x_(a,o,t),c}(Jpe,Me,on,Xr,O,[y6]),U_(b,O,null)}finally{by()}return new l6(this.componentType,B,da(te,O),O,te)}}class l6 extends e9{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new a6(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;V_(s[k],s,i,e,n),this.previousInputValues.set(e,n),Ec(Vn(this._tNode.index,s))}}get injector(){return new hn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function y6(){const t=Ft();mh(E()[k],t)}function Ee(t){let e=function d1(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(hr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new T(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=af(t.inputs),o.inputTransforms=af(t.inputTransforms),o.declaredInputs=af(t.declaredInputs),o.outputs=af(t.outputs);const a=i.hostBindings;a&&I6(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&v6(t,u),c&&w6(t,c),eh(t.inputs,i.inputs),eh(t.declaredInputs,i.declaredInputs),eh(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),eh(o.inputTransforms,i.inputTransforms)),hr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Ee&&(n=!1)}}e=Object.getPrototypeOf(e)}!function _6(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Wu(i.hostAttrs,n=Wu(n,i.hostAttrs))}}(r)}function af(t){return t===br?{}:t===ge?[]:t}function v6(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function w6(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function I6(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function g1(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function uf(t){return!!function B_(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Rr(t,e,n){return t[e]=n}function Yt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function kr(t,e,n,r){const i=E();return Yt(i,Wo(),e)&&(le(),Nr(ze(),i,t,e,n,r)),kr}function Jt(t,e,n,r,i,s,o,a){const u=E(),c=le(),l=t+oe,d=c.firstCreatePass?function q6(t,e,n,r,i,s,o,a,u){const c=e.consts,l=ga(e,t,4,o||null,Bi(c,a));O_(e,n,l,Bi(c,u)),mh(e,l);const d=l.tView=k_(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Mr(d,!1);const h=A1(c,u,d,t);gh()&&Lh(c,u,h,d),Kt(h,u),nf(u,u[l]=JN(h,u,h,d)),dh(d)&&N_(c,u,d),null!=o&&R_(u,d,a)}let A1=function M1(t,e,n,r){return ji(!0),e[X].createComment("")};function ff(t){return zo(function Pz(){return q.lFrame.contextLView}(),oe+t)}function Se(t,e,n){const r=E();return Yt(r,Wo(),e)&&function jn(t,e,n,r,i,s,o,a){const u=Sn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(V_(t,n,l,r,i),Ms(e)&&function B9(t,e){const n=Vn(e,t);16&n[ne]||(n[ne]|=64)}(n,e.index)):3&e.type&&(r=function U9(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(le(),ze(),r,t,e,r[X],n,!1),Se}function q_(t,e,n,r,i){const o=i?"class":"style";V_(t,n,e.inputs[o],o,r)}function F(t,e,n,r){const i=E(),s=le(),o=oe+t,a=i[X],u=s.firstCreatePass?function Y6(t,e,n,r,i,s){const o=e.consts,u=ga(e,t,2,r,Bi(o,i));return O_(e,n,u,Bi(o,s)),null!==u.attrs&&rf(u,u.attrs,!1),null!==u.mergedAttrs&&rf(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=x1(s,i,u,a,e,t);i[o]=c;const l=dh(u);return Mr(u,!0),jx(a,c,u),32!=(32&u.flags)&&gh()&&Lh(s,i,c,u),0===function Sz(){return q.lFrame.elementDepthCount}()&&Kt(c,i),function Az(){q.lFrame.elementDepthCount++}(),l&&(N_(s,i,u),x_(s,u,i)),null!==r&&R_(i,u),F}function R(){let t=Ft();vy()?function wy(){q.lFrame.isParent=!1}():(t=t.parent,Mr(t,!1));const e=t;(function xz(t){return q.skipHydrationRootTNode===t})(e)&&function Oz(){q.skipHydrationRootTNode=null}(),function Mz(){q.lFrame.elementDepthCount--}();const n=le();return n.firstCreatePass&&(mh(n,t),ly(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Qz(t){return 0!=(8&t.flags)}(e)&&q_(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Yz(t){return 0!=(16&t.flags)}(e)&&q_(n,e,E(),e.stylesWithoutHost,!1),R}function ke(t,e,n,r){return F(t,e,n,r),R(),ke}let x1=(t,e,n,r,i,s)=>(ji(!0),Oh(r,i,function HM(){return q.lFrame.currentNamespace}()));function Nc(){return E()}function Rc(t){return!!t&&"function"==typeof t.then}function k1(t){return!!t&&"function"==typeof t.subscribe}function yt(t,e,n,r){const i=E(),s=le(),o=Ft();return function P1(t,e,n,r,i,s,o){const a=dh(r),c=t.firstCreatePass&&function e1(t){return t.cleanup||(t.cleanup=[])}(t),l=e[nt],d=function ZN(t){return t[Uo]||(t[Uo]=[])}(e);let h=!0;if(3&r.type||o){const m=Sn(r,e),y=o?o(m):m,w=d.length,_=o?O=>o(Re(O[r.index])):r.index;let b=null;if(!o&&a&&(b=function n5(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Uo],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=s,b.__ngLastListenerFn__=s,h=!1;else{s=L1(r,e,l,s,!1);const O=n.listen(y,i,s);d.push(s,O),c&&c.push(i,_,w,w+1)}}else s=L1(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let y=0;y<m;y+=2){const B=e[p[y]][p[y+1]].subscribe(s),te=d.length;d.push(s,B),c&&c.push(i,r.index,te,-(te+1))}}}(s,i,i[X],o,t,e,r),yt}function F1(t,e,n,r){try{return Ar(6,e,n),!1!==n(r)}catch(i){return n1(t,i),!1}finally{Ar(7,e,n)}}function L1(t,e,n,r,i){return function s(o){if(o===Function)return r;Ec(t.componentOffset>-1?Vn(t.index,e):e);let u=F1(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=F1(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function zi(t=1){return function Bz(t){return(q.lFrame.contextLView=function jz(t,e){for(;t>0;)e=e[jo],t--;return e}(t,q.lFrame.contextLView))[nt]}(t)}function pf(t,e){return t<<17|e<<2}function qi(t){return t>>17&32767}function Y_(t){return 2|t}function Fs(t){return(131068&t)>>2}function J_(t,e){return-131069&t|e<<2}function X_(t){return 1|t}function W1(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?qi(s):Fs(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];d5(t[a],e)&&(u=!0,t[a+1]=r?X_(l):Y_(l)),a=r?qi(l):Fs(l)}u&&(t[n+1]=r?Y_(s):X_(s))}function d5(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ta(t,e)>=0}function gf(t,e){return function fr(t,e,n,r){const i=E(),s=le(),o=function ii(t){const e=q.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function nR(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[dn()],o=function tR(t,e){return e>=t.expandoStartIndex}(t,n);(function oR(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function w5(t,e,n,r){const i=function Ey(t){const e=q.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=kc(n=Z_(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Z_(i,t,e,n,r),null===s){let u=function I5(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Fs(r))return t[qi(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=Z_(null,t,e,u[1],r),u=kc(u,e.attrs,r),function E5(t,e,n,r){t[qi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function D5(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=kc(r,t[s].hostAttrs,n);return kc(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function c5(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=qi(o),u=Fs(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||ta(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=qi(t[a+1]);t[r+1]=pf(h,a),0!==h&&(t[h+1]=J_(t[h+1],r)),t[a+1]=function a5(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=pf(a,0),0!==a&&(t[a+1]=J_(t[a+1],r)),a=r;else t[r+1]=pf(u,0),0===a?a=r:t[u+1]=J_(t[u+1],r),u=r;c&&(t[r+1]=Y_(t[r+1])),W1(t,l,r,!0),W1(t,l,r,!1),function l5(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&ta(s,e)>=0&&(n[r+1]=X_(n[r+1]))}(e,l,t,r,s),o=pf(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==ee&&Yt(i,o,e)&&function iR(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function u5(t){return 1==(1&t)}(c)?sR(u,e,n,i,Fs(c),o):void 0;mf(l)||(mf(s)||function o5(t){return 2==(2&t)}(c)&&(s=sR(u,null,n,i,a,o)),function aq(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:$i.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=$i.Important),t.setStyle(n,r,i,s))}}(r,o,ph(dn(),n),i,s))}(s,s.data[dn()],i,i[X],t,i[o+1]=function S5(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=gt(Hi(t)))),t}(e,n),r,o)}(t,e,null,!0),gf}function Z_(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=kc(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function kc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Un(t,o,!!n||e[++s]))}return void 0===t?null:t}function sR(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===ee&&(h=d?ge:void 0);let f=d?Oy(h,r):l===r?h:void 0;if(c&&!mf(f)&&(f=Oy(u,r)),mf(f)&&(a=f,o))return a;const p=t[i+1];i=o?qi(p):Fs(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Oy(u,r))}return a}function mf(t){return void 0!==t}function G(t,e=""){const n=E(),r=le(),i=t+oe,s=r.firstCreatePass?ga(r,i,1,e,null):r.data[i],o=aR(r,n,s,e,t);n[i]=o,gh()&&Lh(r,n,o,s),Mr(s,!1)}let aR=(t,e,n,r,i)=>(ji(!0),function kh(t,e){return t.createText(e)}(e[X],r));function Ta(t){return yf("",t,""),Ta}function yf(t,e,n){const r=E(),i=function ya(t,e,n,r){return Yt(t,Wo(),n)?e+J(n)+r:ee}(r,t,e,n);return i!==ee&&function ci(t,e,n){const r=ph(e,t);!function Ax(t,e,n){t.setValue(e,n)}(t[X],r,n)}(r,dn(),i),yf}const Ls=void 0;var Q5=["en",[["a","p"],["AM","PM"],Ls],[["AM","PM"],Ls,Ls],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ls,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ls,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ls,"{1} 'at' {0}",Ls],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function K5(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Sa={};function pn(t){const e=function Y5(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=AR(e);if(n)return n;const r=e.split("-")[0];if(n=AR(r),n)return n;if("en"===r)return Q5;throw new T(701,!1)}function AR(t){return t in Sa||(Sa[t]=Ne.ng&&Ne.ng.common&&Ne.ng.common.locales&&Ne.ng.common.locales[t]),Sa[t]}var Oe=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Oe||{});const Aa="en-US";let MR=Aa;function nv(t,e,n,r,i){if(t=W(t),Array.isArray(t))for(let s=0;s<t.length;s++)nv(t[s],e,n,r,i);else{const s=le(),o=E(),a=Ft();let u=Os(t)?t:W(t.provide);const c=uN(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Os(t)||!t.multi){const f=new sc(c,i,D),p=iv(u,e,i?l:l+h,d);-1===p?(Ny(wh(a,o),s,u),rv(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=iv(u,e,l+h,d),p=iv(u,e,l,l+h),y=p>=0&&n[p];if(i&&!y||!i&&!(f>=0&&n[f])){Ny(wh(a,o),s,u);const w=function KW(t,e,n,r,i){const s=new sc(t,n,D);return s.multi=[],s.index=e,s.componentProviders=0,ek(s,i,r&&!n),s}(i?WW:qW,n.length,i,r,c);!i&&y&&(n[p].providerFactory=w),rv(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(w),o.push(w)}else rv(s,t,f>-1?f:p,ek(n[i?p:f],c,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function rv(t,e,n,r){const i=Os(e),s=function Lq(t){return!!t.useClass}(e);if(i||s){const u=(s?W(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function ek(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function iv(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function qW(t,e,n,r){return sv(this.multi,[])}function WW(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Rs(n,n[k],this.providerFactory.index,r);s=a.slice(0,o),sv(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],sv(i,s);return s}function sv(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function He(t,e=[]){return n=>{n.providersResolver=(r,i)=>function zW(t,e,n){const r=le();if(r.firstCreatePass){const i=hr(t);nv(n,r.data,r.blueprint,i,!0),nv(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Vs{}class tk{}class ov extends Vs{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new c1(this);const i=Ln(e);this._bootstrapComponents=ui(i.bootstrap),this._r3Injector=EN(e,n,[{provide:Vs,useValue:this},{provide:Xh,useValue:this.componentFactoryResolver},...r],gt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class av extends tk{constructor(e){super(),this.moduleType=e}create(e){return new ov(this.moduleType,e,[])}}class nk extends Vs{constructor(e){super(),this.componentFactoryResolver=new c1(this),this.instance=null;const n=new zh([...e.providers,{provide:Vs,useValue:this},{provide:Xh,useValue:this.componentFactoryResolver}],e.parent||Gh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function uv(t,e,n=null){return new nk({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let JW=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=iN(0,n.type),i=r.length>0?uv([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=H({token:t,providedIn:"environment",factory:()=>new t($(Xn))})}return t})();function rk(t){t.getStandaloneInjector=e=>e.get(JW).getOrCreateStandaloneInjector(t)}function Fr(t,e,n){const r=ln()+t,i=E();return i[r]===ee?Rr(i,r,n?e.call(n):e()):function Sc(t,e){return t[e]}(i,r)}function lk(t,e,n,r){return function dk(t,e,n,r,i,s){const o=e+n;return Yt(t,o,i)?Rr(t,o+1,s?r.call(s,i):r(i)):Uc(t,o+1)}(E(),ln(),t,e,n,r)}function Uc(t,e){const n=t[e];return n===ee?void 0:n}function hk(t,e,n,r,i,s,o){const a=e+n;return function Ps(t,e,n,r){const i=Yt(t,e,n);return Yt(t,e+1,r)||i}(t,a,i,s)?Rr(t,a+2,o?r.call(o,i,s):r(i,s)):Uc(t,a+2)}function yk(t,e,n,r){const i=t+oe,s=E(),o=zo(s,i);return function Bc(t,e){return t[k].data[e].pure}(s,i)?hk(s,ln(),e,o.transform,n,r,o):o.transform(n,r)}function I7(t,e,n,r=!0){const i=e[k];if(function Z3(t,e,n,r){const i=Ot+r,s=n.length;r>0&&(n[i-1][dr]=e),r<s-Ot?(e[dr]=n[i],ix(n,Ot+r,e)):(n.push(e),e[dr]=null),e[$e]=n;const o=e[Yu];null!==o&&n!==o&&function eq(t,e){const n=t[Ho];e[rt]!==e[$e][$e][rt]&&(t[iM]=!0),null===n?t[Ho]=[e]:n.push(e)}(o,e);const a=e[Tr];null!==a&&a.insertView(t),e[ne]|=128}(i,e,t,n),r){const s=Qy(n,t),o=e[X],a=Fh(o,t[Sr]);null!==a&&function Y3(t,e,n,r,i,s){r[Ke]=i,r[Wt]=e,gc(t,r,n,1,i,s)}(i,t[Wt],o,e,a,s)}}Symbol;let li=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=C7}return t})();const E7=li,D7=class extends E7{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function w7(t,e,n,r){const i=e.tView,a=tf(t,i,n,4096&t[ne]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Yu]=t[e.index];const c=t[Tr];return null!==c&&(a[Tr]=c.createEmbeddedView(i)),U_(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new bc(i)}};function C7(){return Ef(Ft(),E())}function Ef(t,e){return 4&t.type?new D7(e,t,da(t,e)):null}let gr=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=x7}return t})();function x7(){return function Ck(t,e){let n;const r=e[t.index];return cn(r)?n=r:(n=JN(r,e,null,t),e[t.index]=n,nf(e,n)),bk(n,e,t,r),new Ek(n,t,e)}(Ft(),E())}const N7=gr,Ek=class extends N7{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return da(this._hostTNode,this._hostLView)}get injector(){return new hn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Ih(this._hostTNode,this._hostLView);if(Ay(e)){const n=ac(e,this._hostLView),r=oc(e);return new hn(n[k].data[r+8],n)}return new hn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=Dk(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Ot}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function cc(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const u=o?e:new Tc(ce(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const y=(o?c:this.parentInjector).get(Xn,null);y&&(s=y)}ce(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function Cz(t){return cn(t[$e])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[$e],l=new Ek(c,c[Wt],c[$e]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return I7(a,i,o,!r),e.attachToViewContainerRef(),ix(dv(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=Dk(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Ph(this._lContainer,n);r&&(Ch(dv(this._lContainer),n),zy(r[k],r))}detach(e){const n=this._adjustIndex(e,-1),r=Ph(this._lContainer,n);return r&&null!=Ch(dv(this._lContainer),n)?new bc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Dk(t){return t[8]}function dv(t){return t[8]||(t[8]=[])}let bk=function Tk(t,e,n,r){if(t[Sr])return;let i;i=8&n.type?Re(r):function R7(t,e){const n=t[X],r=n.createComment(""),i=Sn(e,t);return ks(n,Fh(n,i),r,function iq(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Sr]=i};function Cf(t,e){return Ef(t,e)}const Ev=new V("Application Initializer");let Dv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=L(Ev,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Rc(s))n.push(s);else if(k1(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Jk=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const di=new V("LocaleId",{providedIn:"root",factory:()=>L(di,se.Optional|se.SkipSelf)||function u8(){return typeof $localize<"u"&&$localize.locale||Aa}()}),c8=new V("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Xk=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Wn(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class d8{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Zk=(()=>{class t{compileModuleSync(n){return new av(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=ui(Ln(n).declarations).reduce((o,a)=>{const u=ce(a);return u&&o.push(new Tc(u)),o},[]);return new d8(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const rO=new V(""),Sf=new V("");let Av,Tv=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Av||(function N8(t){Av=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)($(we),$(Sv),$(Sf))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),Sv=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Av?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Wi=null;const iO=new V("AllowMultipleToken"),Mv=new V("PlatformDestroyListeners"),xv=new V("appBootstrapListener");class oO{constructor(e,n){this.name=e,this.token=n}}function uO(t,e,n=[]){const r=`Platform: ${e}`,i=new V(r);return(s=[])=>{let o=Nv();if(!o||o.injector.get(iO,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function O8(t){if(Wi&&!Wi.get(iO,!1))throw new T(400,!1);(function sO(){!function cz(t){mM=t}(()=>{throw new T(600,!1)})})(),Wi=t;const e=t.get(lO);(function aO(t){t.get(cN,null)?.forEach(n=>n())})(t)}(function cO(t=[],e){return Qt.create({name:e,providers:[{provide:a_,useValue:"platform"},{provide:Mv,useValue:new Set([()=>Wi=null])},...t]})}(a,r))}return function F8(t){const e=Nv();if(!e)throw new T(401,!1);return e}()}}function Nv(){return Wi?.get(lO)??null}let lO=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function L8(t="zone.js",e){return"noop"===t?new _9:"zone.js"===t?new we(e):t}(r?.ngZone,function dO(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function YW(t,e,n){return new ov(t,e,n)}(n.moduleType,this.injector,function mO(t){return[{provide:we,useFactory:t},{provide:vc,multi:!0,useFactory:()=>{const e=L(U8,{optional:!0});return()=>e.initialize()}},{provide:gO,useFactory:V8},{provide:SN,useFactory:AN}]}(()=>i)),o=s.injector.get(ai,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{Af(this._modules,s),a.unsubscribe()})}),function hO(t,e,n){try{const r=n();return Rc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(Dv);return a.runInitializers(),a.donePromise.then(()=>(function xR(t){Kn(t,"Expected localeId to be defined"),"string"==typeof t&&(MR=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(di,Aa)||Aa),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=fO({},r);return function R8(t,e,n){const r=new av(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Na);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new T(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Mv,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)($(Qt))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function fO(t,e){return Array.isArray(e)?e.reduce(fO,t):{...t,...e}}let Na=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=L(gO),this.zoneIsStable=L(SN),this.componentTypes=[],this.components=[],this.isStable=L(Xk).hasPendingTasks.pipe(Cr(n=>n?Q(!1):this.zoneIsStable),function w4(t,e=Oi){return t=t??I4,pt((n,r)=>{let i,s=!0;n.subscribe(ct(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),OA()),this._injector=L(Xn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof pN;if(!this._injector.get(Dv).done)throw!i&&function Vo(t){const e=ce(t)||kt(t)||un(t);return null!==e&&e.standalone}(n),new T(405,!1);let o;o=i?n:this._injector.get(Xh).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function k8(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Vs),c=o.create(Qt.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(rO,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Af(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Af(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(xv,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Af(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Af(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const gO=new V("",{providedIn:"root",factory:()=>L(ai).handleError.bind(void 0)});function V8(){const t=L(we),e=L(ai);return n=>t.runOutsideAngular(()=>e.handleError(n))}let U8=(()=>{class t{constructor(){this.zone=L(we),this.applicationRef=L(Na)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let Mf=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=j8}return t})();function j8(t){return function $8(t,e,n){if(Ms(t)&&!n){const r=Vn(t.index,e);return new bc(r,r)}return 47&t.type?new bc(e[rt],e):null}(Ft(),E(),16==(16&t))}class wO{constructor(){}supports(e){return uf(e)}create(e){return new K8(e)}}const W8=(t,e)=>e;class K8{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||W8}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<EO(r,i,s)?n:r,a=EO(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!uf(e))throw new T(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function A6(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Q8(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new IO),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new IO),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Q8{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Y8{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class IO{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new Y8,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function EO(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function CO(){return new Rf([new wO])}let Rf=(()=>{class t{static#e=this.\u0275prov=H({token:t,providedIn:"root",factory:CO});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||CO()),deps:[[t,new Th,new fn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new T(901,!1)}}return t})();const tK=uO(null,"core",[]);let nK=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)($(Na))};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({})}return t})();function Ra(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let Lv=null;function Ki(){return Lv}class mK{}const er=new V("DocumentToken");let Vv=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:function(){return L(_K)},providedIn:"platform"})}return t})();const yK=new V("Location Initialized");let _K=(()=>{class t extends Vv{constructor(){super(),this._doc=L(er),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ki().getBaseHref(this._doc)}onPopState(n){const r=Ki().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Ki().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function Uv(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function OO(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function hi(t){return t&&"?"!==t[0]?"?"+t:t}let Bs=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:function(){return L(FO)},providedIn:"root"})}return t})();const PO=new V("appBaseHref");let FO=(()=>{class t extends Bs{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??L(er).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Uv(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+hi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+hi(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+hi(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)($(Vv),$(PO,8))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vK=(()=>{class t extends Bs{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Uv(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+hi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+hi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)($(Vv),$(PO,8))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),Bv=(()=>{class t{constructor(n){this._subject=new Qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function EK(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(OO(LO(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+hi(r))}normalize(n){return t.stripTrailingSlash(function IK(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,LO(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+hi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+hi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=hi;static#t=this.joinWithSlash=Uv;static#n=this.stripTrailingSlash=OO;static#r=this.\u0275fac=function(r){return new(r||t)($(Bs))};static#i=this.\u0275prov=H({token:t,factory:function(){return function wK(){return new Bv($(Bs))}()},providedIn:"root"})}return t})();function LO(t){return t.replace(/\/index.html$/,"")}const VO={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Of=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Of||{}),it=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(it||{});function tr(t,e){const n=pn(t),r=n[Oe.NumberSymbols][e];if(typeof r>"u"){if(e===it.CurrencyDecimal)return n[Oe.NumberSymbols][it.Decimal];if(e===it.CurrencyGroup)return n[Oe.NumberSymbols][it.Group]}return r}const QK=/^(\d+)?\.((\d+)(-(\d+))?)?$/,HO=22,Hf=".",zc="0",YK=";",JK=",",zv="#";function ZK(t,e,n,r,i){const o=function Wv(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(YK),i=r[0],s=r[1],o=-1!==i.indexOf(Hf)?i.split(Hf):[i.substring(0,i.lastIndexOf(zc)+1),i.substring(i.lastIndexOf(zc)+1)],a=o[0],u=o[1]||"";n.posPre=a.substring(0,a.indexOf(zv));for(let l=0;l<u.length;l++){const d=u.charAt(l);d===zc?n.minFrac=n.maxFrac=l+1:d===zv?n.maxFrac=l+1:n.posSuf+=d}const c=a.split(JK);if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const l=i.length-n.posPre.length-n.posSuf.length,d=s.indexOf(zv);n.negPre=s.substring(0,d).replace(/'/g,""),n.negSuf=s.slice(d+l).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function jv(t,e){return pn(t)[Oe.NumberFormats][e]}(e,Of.Currency),tr(e,it.MinusSign));return o.minFrac=function PK(t){let e;const n=VO[t];return n&&(e=n[2]),"number"==typeof e?e:2}(r),o.maxFrac=o.minFrac,function qv(t,e,n,r,i,s,o=!1){let a="",u=!1;if(isFinite(t)){let c=function rQ(t){let r,i,s,o,a,e=Math.abs(t)+"",n=0;for((i=e.indexOf(Hf))>-1&&(e=e.replace(Hf,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===zc;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===zc;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>HO&&(r=r.splice(0,HO-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);o&&(c=function nQ(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,d=e.minFrac,h=e.maxFrac;if(s){const _=s.match(QK);if(null===_)throw new Error(`${s} is not a valid digit info`);const b=_[1],O=_[3],B=_[5];null!=b&&(l=Kv(b)),null!=O&&(d=Kv(O)),null!=B?h=Kv(B):null!=O&&d>h&&(h=d)}!function iQ(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=0!==s;const c=e+t.integerLen,l=r.reduceRight(function(d,h,f,p){return p[f]=(h+=d)<10?h:h-10,u&&(0===p[f]&&f>=c?p.pop():u=!1),h>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}(c,d,h);let f=c.digits,p=c.integerLen;const m=c.exponent;let y=[];for(u=f.every(_=>!_);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?y=f.splice(p,f.length):(y=f,f=[0]);const w=[];for(f.length>=e.lgSize&&w.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)w.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&w.unshift(f.join("")),a=w.join(tr(n,r)),y.length&&(a+=tr(n,i)+y.join("")),m&&(a+=tr(n,it.Exponential)+"+"+m)}else a=tr(n,it.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,o,e,it.CurrencyGroup,it.CurrencyDecimal,i).replace("\xa4",n).replace("\xa4","").trim()}function Kv(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class cQ{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let KO=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new cQ(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),QO(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{QO(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(D(gr),D(li),D(Rf))};static#t=this.\u0275dir=K({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function QO(t,e){t.context.$implicit=e.item}let Gf=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new lQ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){YO("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){YO("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(D(gr),D(li))};static#t=this.\u0275dir=K({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class lQ{constructor(){this.$implicit=null,this.ngIf=null}}function YO(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${gt(e)}'.`)}let ZO=(()=>{class t{constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",s,o){if(!function Zv(t){return!(null==t||""===t||t!=t)}(n))return null;o=o||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function kK(t,e,n="en"){const r=function MK(t){return pn(t)[Oe.Currencies]}(n)[t]||VO[t]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||t}(a,"symbol"===i?"wide":"narrow",o):i);try{return ZK(function ew(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(n),o,a,r,s)}catch(u){throw function yr(t,e){return new T(2100,!1)}()}}static#e=this.\u0275fac=function(r){return new(r||t)(D(di,16),D(c8,16))};static#t=this.\u0275pipe=bn({name:"currency",type:t,pure:!0,standalone:!0})}return t})();let tw=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({})}return t})();function tP(t){return"server"===t}let LQ=(()=>{class t{static#e=this.\u0275prov=H({token:t,providedIn:"root",factory:()=>new VQ($(er),window)})}return t})();class VQ{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function UQ(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class cY extends mK{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class iw extends cY{static makeCurrent(){!function gK(t){Lv||(Lv=t)}(new iw)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function lY(){return Wc=Wc||document.querySelector("base"),Wc?Wc.getAttribute("href"):null}();return null==n?null:function dY(t){Wf=Wf||document.createElement("a"),Wf.setAttribute("href",t);const e=Wf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Wc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function oQ(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Wf,Wc=null,fY=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();const sw=new V("EventManagerPlugins");let oP=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new T(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)($(sw),$(we))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();class aP{constructor(e){this._doc=e}}const ow="ng-app-id";let uP=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=tP(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${ow}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(ow),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(ow,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)($(er),$(qh),$(lN,8),$(Gi))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();const aw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},uw=/%COMP%/g,yY=new V("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function lP(t,e){return e.map(n=>n.replace(uw,t))}let dP=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=tP(a),this.defaultRenderer=new cw(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ur.ShadowDom&&(r={...r,encapsulation:ur.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof fP?i.applyToHost(n):i instanceof lw&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case ur.Emulated:s=new fP(u,c,r,this.appId,l,o,a,d);break;case ur.ShadowDom:return new IY(u,c,n,r,o,a,this.nonce,d);default:s=new lw(u,c,r,l,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)($(oP),$(uP),$(qh),$(yY),$(er),$(Gi),$(we),$(lN))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();class cw{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(aw[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(hP(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(hP(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new T(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=aw[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=aw[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&($i.DashCase|$i.Important)?e.style.setProperty(n,r,i&$i.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&$i.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Ki().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function hP(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class IY extends cw{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=lP(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class lw extends cw{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?lP(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class fP extends lw{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function _Y(t){return"_ngcontent-%COMP%".replace(uw,t)}(c),this.hostAttr=function vY(t){return"_nghost-%COMP%".replace(uw,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let EY=(()=>{class t extends aP{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)($(er))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();const pP=["alt","control","meta","shift"],DY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},CY={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let bY=(()=>{class t extends aP{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ki().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),pP.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=DY[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),pP.forEach(o=>{o!==i&&(0,CY[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)($(er))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();const mP=[{provide:Gi,useValue:"browser"},{provide:cN,useValue:function TY(){iw.makeCurrent()},multi:!0},{provide:er,useFactory:function AY(){return function hq(t){Xy=t}(document),document},deps:[]}],MY=uO(tK,"browser",mP),xY=new V(""),yP=[{provide:Sf,useClass:class hY{addToWindow(e){Ne.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new T(5103,!1);return s},Ne.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ne.getAllAngularRootElements=()=>e.getAllRootElements(),Ne.frameworkStabilizers||(Ne.frameworkStabilizers=[]),Ne.frameworkStabilizers.push(r=>{const i=Ne.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Ki().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:rO,useClass:Tv,deps:[we,Sv,Sf]},{provide:Tv,useClass:Tv,deps:[we,Sv,Sf]}],_P=[{provide:a_,useValue:"root"},{provide:ai,useFactory:function SY(){return new ai},deps:[]},{provide:sw,useClass:EY,multi:!0,deps:[er,we,Gi]},{provide:sw,useClass:bY,multi:!0,deps:[er]},dP,uP,oP,{provide:mN,useExisting:dP},{provide:class BQ{},useClass:fY,deps:[]},[]];let NY=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:qh,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)($(xY,12))};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({providers:[..._P,...yP],imports:[tw,nK]})}return t})(),vP=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)($(er))};static#t=this.\u0275prov=H({token:t,factory:function(r){let i=null;return i=r?new r:function kY(){return new vP($(er))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;const{isArray:UY}=Array,{getPrototypeOf:BY,prototype:jY,keys:$Y}=Object;function DP(t){if(1===t.length){const e=t[0];if(UY(e))return{args:e,keys:null};if(function HY(t){return t&&"object"==typeof t&&BY(t)===jY}(e)){const n=$Y(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:GY}=Array;function CP(t){return pe(e=>function zY(t,e){return GY(e)?t(...e):t(e)}(t,e))}function bP(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function hw(...t){const e=Hu(t),n=RA(t),{args:r,keys:i}=DP(t);if(0===r.length)return Et([],e);const s=new je(function qY(t,e,n=Oi){return r=>{TP(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)TP(e,()=>{const c=Et(t[u],e);let l=!1;c.subscribe(ct(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>bP(i,o):Oi));return n?s.pipe(CP(n)):s}function TP(t,e,n){t?Zr(n,t,e):e()}const Kf=ju(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function fw(...t){return function WY(){return Fo(1)}()(Et(t,Hu(t)))}function SP(t){return new je(e=>{Pn(t()).subscribe(e)})}function Kc(t,e){const n=Te(t)?t:()=>t,r=i=>i.error(n());return new je(e?i=>e.schedule(r,0,i):r)}function pw(){return pt((t,e)=>{let n=null;t._refCount++;const r=ct(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class AP extends je{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,yA(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Dn;const n=this.getSubject();e.add(this.source.subscribe(ct(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Dn.EMPTY)}return e}refCount(){return pw()(this)}}function js(t){return t<=0?()=>Dr:pt((e,n)=>{let r=0;e.subscribe(ct(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Yi(t,e){return pt((n,r)=>{let i=0;n.subscribe(ct(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Qf(t){return pt((e,n)=>{let r=!1;e.subscribe(ct(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function MP(t=QY){return pt((e,n)=>{let r=!1;e.subscribe(ct(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function QY(){return new Kf}function $s(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Yi((i,s)=>t(i,s,r)):Oi,js(1),n?Qf(e):MP(()=>new Kf))}function Qc(t,e){return Te(e)?Rt(t,e,1):Rt(t,1)}function Vt(t,e,n){const r=Te(t)||e||n?{next:t,error:e,complete:n}:t;return r?pt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ct(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Oi}function Hs(t){return pt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(ct(n,void 0,void 0,o=>{s=Pn(t(o,Hs(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function gw(t){return t<=0?()=>Dr:pt((e,n)=>{let r=[];e.subscribe(ct(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function mw(t){return pt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const re="primary",Yc=Symbol("RouteTitle");class tJ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Oa(t){return new tJ(t)}function nJ(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Lr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!xP(t[i],e[i]))return!1;return!0}function xP(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function NP(t){return t.length>0?t[t.length-1]:null}function Ji(t){return function VY(t){return!!t&&(t instanceof je||Te(t.lift)&&Te(t.subscribe))}(t)?t:Rc(t)?Et(Promise.resolve(t)):Q(t)}const iJ={exact:function OP(t,e,n){if(!Gs(t.segments,e.segments)||!Yf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!OP(t.children[r],e.children[r],n))return!1;return!0},subset:PP},RP={exact:function sJ(t,e){return Lr(t,e)},subset:function oJ(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>xP(t[n],e[n]))},ignored:()=>!0};function kP(t,e,n){return iJ[n.paths](t.root,e.root,n.matrixParams)&&RP[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function PP(t,e,n){return FP(t,e,e.segments,n)}function FP(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Gs(i,n)||e.hasChildren()||!Yf(i,n,r))}if(t.segments.length===n.length){if(!Gs(t.segments,n)||!Yf(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!PP(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Gs(t.segments,i)&&Yf(t.segments,i,r)&&t.children[re])&&FP(t.children[re],e,s,r)}}function Yf(t,e,n){return e.every((r,i)=>RP[n](t[i].parameters,r.parameters))}class Pa{constructor(e=new De([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Oa(this.queryParams)),this._queryParamMap}toString(){return cJ.serialize(this)}}class De{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jf(this)}}class Jc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Oa(this.parameters)),this._parameterMap}toString(){return UP(this)}}function Gs(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Xc=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:function(){return new yw},providedIn:"root"})}return t})();class yw{parse(e){const n=new wJ(e);return new Pa(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Zc(e.root,!0)}`,r=function hJ(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Xf(n)}=${Xf(i)}`).join("&"):`${Xf(n)}=${Xf(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function lJ(t){return encodeURI(t)}(e.fragment)}`:""}`}}const cJ=new yw;function Jf(t){return t.segments.map(e=>UP(e)).join("/")}function Zc(t,e){if(!t.hasChildren())return Jf(t);if(e){const n=t.children[re]?Zc(t.children[re],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==re&&r.push(`${i}:${Zc(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function uJ(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===re&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==re&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===re?[Zc(t.children[re],!1)]:[`${i}:${Zc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[re]?`${Jf(t)}/${n[0]}`:`${Jf(t)}/(${n.join("//")})`}}function LP(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xf(t){return LP(t).replace(/%3B/gi,";")}function _w(t){return LP(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zf(t){return decodeURIComponent(t)}function VP(t){return Zf(t.replace(/\+/g,"%20"))}function UP(t){return`${_w(t.path)}${function dJ(t){return Object.keys(t).map(e=>`;${_w(e)}=${_w(t[e])}`).join("")}(t.parameters)}`}const fJ=/^[^\/()?;#]+/;function vw(t){const e=t.match(fJ);return e?e[0]:""}const pJ=/^[^\/()?;=#]+/,mJ=/^[^=?&#]+/,_J=/^[^&#]+/;class wJ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new De(e,n)),r}parseSegment(){const e=vw(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(e),new Jc(Zf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function gJ(t){const e=t.match(pJ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=vw(this.remaining);i&&(r=i,this.capture(r))}e[Zf(n)]=Zf(r)}parseQueryParam(e){const n=function yJ(t){const e=t.match(mJ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function vJ(t){const e=t.match(_J);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=VP(n),s=VP(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=vw(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new T(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=re);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[re]:new De([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new T(4011,!1)}}function BP(t){return t.segments.length>0?new De([],{[re]:t}):t}function jP(t){const e={};for(const r of Object.keys(t.children)){const s=jP(t.children[r]);if(r===re&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function IJ(t){if(1===t.numberOfChildren&&t.children[re]){const e=t.children[re];return new De(t.segments.concat(e.segments),e.children)}return t}(new De(t.segments,e))}function zs(t){return t instanceof Pa}function $P(t){let e;const i=BP(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new De(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function HP(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return ww(i,i,i,n,r);const s=function DJ(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new zP(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new zP(n,e,r)}(e);if(s.toRoot())return ww(i,i,new De([],{}),n,r);const o=function CJ(t,e,n){if(t.isAbsolute)return new tp(e,!0,0);if(!n)return new tp(e,!1,NaN);if(null===n.parent)return new tp(n,!0,0);const r=ep(t.commands[0])?0:1;return function bJ(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new T(4005,!1);i=r.segments.length}return new tp(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?tl(o.segmentGroup,o.index,s.commands):qP(o.segmentGroup,o.index,s.commands);return ww(i,o.segmentGroup,a,n,r)}function ep(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function el(t){return"object"==typeof t&&null!=t&&t.outlets}function ww(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:GP(t,e,n);const a=BP(jP(o));return new Pa(a,s,i)}function GP(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:GP(s,e,n)}),new De(t.segments,r)}class zP{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ep(r[0]))throw new T(4003,!1);const i=r.find(el);if(i&&i!==NP(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class tp{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function qP(t,e,n){if(t||(t=new De([],{})),0===t.segments.length&&t.hasChildren())return tl(t,e,n);const r=function SJ(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(el(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!KP(u,c,o))return s;r+=2}else{if(!KP(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new De(t.segments.slice(0,r.pathIndex),{});return s.children[re]=new De(t.segments.slice(r.pathIndex),t.children),tl(s,0,i)}return r.match&&0===i.length?new De(t.segments,{}):r.match&&!t.hasChildren()?Iw(t,e,n):r.match?tl(t,0,i):Iw(t,e,n)}function tl(t,e,n){if(0===n.length)return new De(t.segments,{});{const r=function TJ(t){return el(t[0])?t[0].outlets:{[re]:t}}(n),i={};if(Object.keys(r).some(s=>s!==re)&&t.children[re]&&1===t.numberOfChildren&&0===t.children[re].segments.length){const s=tl(t.children[re],e,n);return new De(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=qP(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new De(t.segments,i)}}function Iw(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(el(s)){const u=AJ(s.outlets);return new De(r,u)}if(0===i&&ep(n[0])){r.push(new Jc(t.segments[e].path,WP(n[0]))),i++;continue}const o=el(s)?s.outlets[re]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&ep(a)?(r.push(new Jc(o,WP(a))),i+=2):(r.push(new Jc(o,{})),i++)}return new De(r,{})}function AJ(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=Iw(new De([],{}),0,r))}),e}function WP(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function KP(t,e,n){return t==n.path&&Lr(e,n.parameters)}const nl="imperative";class Vr{constructor(e,n){this.id=e,this.url=n}}class np extends Vr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xi extends Vr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rl extends Vr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fa extends Vr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class rp extends Vr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class QP extends Vr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MJ extends Vr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xJ extends Vr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class NJ extends Vr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RJ extends Vr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kJ{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class OJ{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class PJ{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FJ{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LJ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VJ{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YP{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ew{}class Dw{constructor(e){this.url=e}}class UJ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new il,this.attachRef=null}}let il=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new UJ,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class JP{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Cw(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Cw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=bw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return bw(e,this._root).map(n=>n.value)}}function Cw(t,e){if(t===e.value)return e;for(const n of e.children){const r=Cw(t,n);if(r)return r}return null}function bw(t,e){if(t===e.value)return[e];for(const n of e.children){const r=bw(t,n);if(r.length)return r.unshift(e),r}return[]}class gi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function La(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class XP extends JP{constructor(e,n){super(e),this.snapshot=n,Tw(this,e)}toString(){return this.snapshot.toString()}}function ZP(t,e){const n=function BJ(t,e){const o=new ip([],{},{},"",{},re,e,null,{});return new tF("",new gi(o,[]))}(0,e),r=new Wn([new Jc("",{})]),i=new Wn({}),s=new Wn({}),o=new Wn({}),a=new Wn(""),u=new qs(r,i,o,a,s,re,e,n.root);return u.snapshot=n.root,new XP(new gi(u,[]),n)}class qs{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(pe(c=>c[Yc]))??Q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(pe(e=>Oa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(pe(e=>Oa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function eF(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function jJ(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class ip{get title(){return this.data?.[Yc]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Oa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Oa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tF extends JP{constructor(e,n){super(n),this.url=e,Tw(this,n)}toString(){return nF(this._root)}}function Tw(t,e){e.value._routerState=t,e.children.forEach(n=>Tw(t,n))}function nF(t){const e=t.children.length>0?` { ${t.children.map(nF).join(", ")} } `:"";return`${t.value}${e}`}function Sw(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Lr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Lr(e.params,n.params)||t.paramsSubject.next(n.params),function rJ(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Lr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Lr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Aw(t,e){const n=Lr(t.params,e.params)&&function aJ(t,e){return Gs(t,e)&&t.every((n,r)=>Lr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Aw(t.parent,e.parent))}let Mw=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=re,this.activateEvents=new Qe,this.deactivateEvents=new Qe,this.attachEvents=new Qe,this.detachEvents=new Qe,this.parentContexts=L(il),this.location=L(gr),this.changeDetector=L(Mf),this.environmentInjector=L(Xn),this.inputBinder=L(sp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new $J(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=K({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Yn]})}return t})();class $J{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===qs?this.route:e===il?this.childContexts:this.parent.get(e,n)}}const sp=new V("");let rF=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=hw([r.queryParams,r.params,r.data]).pipe(Cr(([s,o,a],u)=>(a={...s,...o,...a},0===u?Q(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function pK(t){const e=ce(t);if(!e)return null;const n=new Tc(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();function sl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function GJ(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return sl(t,r,i);return sl(t,r)})}(t,e,n);return new gi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>sl(t,a)),o}}const r=function zJ(t){return new qs(new Wn(t.url),new Wn(t.params),new Wn(t.queryParams),new Wn(t.fragment),new Wn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>sl(t,s));return new gi(r,i)}}const xw="ngNavigationCancelingError";function iF(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=zs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=sF(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function sF(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[xw]=!0,r.cancellationCode=e,n&&(r.url=n),r}function oF(t){return t&&t[xw]}let aF=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=lr({type:t,selectors:[["ng-component"]],standalone:!0,features:[rk],decls:1,vars:0,template:function(r,i){1&r&&ke(0,"router-outlet")},dependencies:[Mw],encapsulation:2})}return t})();function Nw(t){const e=t.children&&t.children.map(Nw),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=aF),n}function _r(t){return t.outlet||re}function ol(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class ZJ{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Sw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=La(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=La(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=La(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=La(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new VJ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new FJ(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Sw(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Sw(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=ol(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class uF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class op{constructor(e,n){this.component=e,this.route=n}}function eX(t,e,n){const r=t._root;return al(r,e?e._root:null,n,[r.value])}function Va(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function A4(t){return null!==nh(t)}(t)?e.get(t):t:r}function al(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=La(e);return t.children.forEach(o=>{(function nX(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function rX(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Gs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Gs(t.url,e.url)||!Lr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Aw(t,e)||!Lr(t.queryParams,e.queryParams);default:return!Aw(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new uF(r)):(s.data=o.data,s._resolvedData=o._resolvedData),al(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new op(a.outlet.component,o))}else o&&ul(e,a,i),i.canActivateChecks.push(new uF(r)),al(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ul(a,n.getContext(o),i)),i}function ul(t,e,n){const r=La(t),i=t.value;Object.entries(r).forEach(([s,o])=>{ul(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new op(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function cl(t){return"function"==typeof t}function cF(t){return t instanceof Kf||"EmptyError"===t?.name}const ap=Symbol("INITIAL_VALUE");function Ua(){return Cr(t=>hw(t.map(e=>e.pipe(js(1),function KY(...t){const e=Hu(t);return pt((n,r)=>{(e?fw(t,n,e):fw(t,n)).subscribe(r)})}(ap)))).pipe(pe(e=>{for(const n of e)if(!0!==n){if(n===ap)return ap;if(!1===n||n instanceof Pa)return n}return!0}),Yi(e=>e!==ap),js(1)))}function lF(t){return fA(Vt(e=>{if(zs(e))throw iF(0,e)}),pe(e=>!0===e))}class up{constructor(e){this.segmentGroup=e||null}}class dF{constructor(e){this.urlTree=e}}function Ba(t){return Kc(new up(t))}function hF(t){return Kc(new dF(t))}class DX{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new T(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Q(r);if(i.numberOfChildren>1||!i.children[re])return Kc(new T(4e3,!1));i=i.children[re]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Pa(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new De(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new T(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const Rw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function CX(t,e,n,r,i){const s=kw(t,e,n);return s.matched?(r=function WJ(t,e){return t.providers&&!t._injector&&(t._injector=uv(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function wX(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Q(i.map(o=>{const a=Va(o,t);return Ji(function cX(t){return t&&cl(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ua(),lF()):Q(!0)}(r,e,n).pipe(pe(o=>!0===o?s:{...Rw}))):Q(s)}function kw(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Rw}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||nJ)(n,t,e);if(!i)return{...Rw};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function fF(t,e,n,r){return n.length>0&&function SX(t,e,n){return n.some(r=>cp(t,e,r)&&_r(r)!==re)}(t,n,r)?{segmentGroup:new De(e,TX(r,new De(n,t.children))),slicedSegments:[]}:0===n.length&&function AX(t,e,n){return n.some(r=>cp(t,e,r))}(t,n,r)?{segmentGroup:new De(t.segments,bX(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new De(t.segments,t.children),slicedSegments:n}}function bX(t,e,n,r,i){const s={};for(const o of r)if(cp(t,n,o)&&!i[_r(o)]){const a=new De([],{});s[_r(o)]=a}return{...i,...s}}function TX(t,e){const n={};n[re]=e;for(const r of t)if(""===r.path&&_r(r)!==re){const i=new De([],{});n[_r(r)]=i}return n}function cp(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class RX{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new DX(this.urlSerializer,this.urlTree)}noMatchError(e){return new T(4002,!1)}recognize(){const e=fF(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,re).pipe(Hs(n=>{if(n instanceof dF)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof up?this.noMatchError(n):n}),pe(n=>{const r=new ip([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},re,this.rootComponentType,null,{}),i=new gi(r,n),s=new tF("",i),o=function EJ(t,e,n=null,r=null){return HP($P(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,re).pipe(Hs(r=>{throw r instanceof up?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=eF(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Et(i).pipe(Qc(s=>{const o=r.children[s],a=function JJ(t,e){const n=t.filter(r=>_r(r)===e);return n.push(...t.filter(r=>_r(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function JY(t,e){return pt(function YY(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(ct(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Qf(null),function XY(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Yi((i,s)=>t(i,s,r)):Oi,gw(1),n?Qf(e):MP(()=>new Kf))}(),Rt(s=>{if(null===s)return Ba(r);const o=pF(s);return function kX(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}(o),Q(o)}))}processSegment(e,n,r,i,s,o){return Et(n).pipe(Qc(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Hs(u=>{if(u instanceof up)return Q(null);throw u}))),$s(a=>!!a),Hs(a=>{if(cF(a))return function xX(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?Q([]):Ba(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function MX(t,e,n,r){return!!(_r(t)===r||r!==re&&cp(e,n,t))&&("**"===t.path||kw(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Ba(i):Ba(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?hF(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Rt(o=>{const a=new De(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=kw(n,i,s);if(!a)return Ba(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?hF(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Rt(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?NP(i).parameters:{};a=Q({snapshot:new ip(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gF(r),_r(r),r.component??r._loadedComponent??null,r,mF(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=CX(n,r,i,e).pipe(pe(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new ip(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gF(r),_r(r),r.component??r._loadedComponent??null,r,mF(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(Cr(u=>null===u?Ba(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Cr(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:m}=fF(n,h,f,c);if(0===m.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(pe(w=>null===w?null:[new gi(d,w)]));if(0===c.length&&0===m.length)return Q([new gi(d,[])]);const y=_r(r)===s;return this.processSegment(l,c,p,m,y?re:s,!0).pipe(pe(w=>[new gi(d,w)]))}))))}getChildConfig(e,n,r){return n.children?Q({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Q({routes:n._loadedRoutes,injector:n._loadedInjector}):function vX(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Q(!0):Q(i.map(o=>{const a=Va(o,t);return Ji(function sX(t){return t&&cl(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ua(),lF())}(e,n,r).pipe(Rt(i=>i?this.configLoader.loadChildren(e,n).pipe(Vt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function EX(t){return Kc(sF(!1,3))}())):Q({routes:[],injector:e})}}function OX(t){const e=t.value.routeConfig;return e&&""===e.path}function pF(t){const e=[],n=new Set;for(const r of t){if(!OX(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=pF(r.children);e.push(new gi(r.value,i))}return e.filter(r=>!n.has(r))}function gF(t){return t.data||{}}function mF(t){return t.resolve||{}}function yF(t){return"string"==typeof t.title||null===t.title}function Ow(t){return Cr(e=>{const n=t(e);return n?Et(n).pipe(pe(()=>e)):Q(e)})}const ja=new V("ROUTES");let Pw=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=L(Zk)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Q(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Ji(n.loadComponent()).pipe(pe(_F),Vt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),mw(()=>{this.componentLoaders.delete(n)})),i=new AP(r,()=>new ar).pipe(pw());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function jX(t,e,n,r){return Ji(t.loadChildren()).pipe(pe(_F),Rt(i=>i instanceof tk||Array.isArray(i)?Q(i):Et(e.compileModuleAsync(i))),pe(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(ja,[],{optional:!0,self:!0}).flat()),{routes:o.map(Nw),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(mw(()=>{this.childrenLoaders.delete(r)})),o=new AP(s,()=>new ar).pipe(pw());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _F(t){return function $X(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let lp=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ar,this.transitionAbortSubject=new ar,this.configLoader=L(Pw),this.environmentInjector=L(Xn),this.urlSerializer=L(Xc),this.rootContexts=L(il),this.inputBindingEnabled=null!==L(sp,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Q(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new OJ(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new kJ(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new Wn({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:nl,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Yi(s=>0!==s.id),pe(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),Cr(s=>{this.currentTransition=s;let o=!1,a=!1;return Q(s).pipe(Vt(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Cr(u=>{const c=u.currentBrowserUrl.toString(),l=!n.navigated||u.extractedUrl.toString()!==c||c!==u.currentUrlTree.toString();if(!l&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new Fa(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),Dr}if(n.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Q(u).pipe(Cr(h=>{const f=this.transitions?.getValue();return this.events.next(new np(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Dr:Promise.resolve(h)}),function PX(t,e,n,r,i,s){return Rt(o=>function NX(t,e,n,r,i,s,o="emptyOnly"){return new RX(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(pe(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Vt(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new QP(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:y}=u,w=new np(h,this.urlSerializer.serialize(f),p,m);this.events.next(w);const _=ZP(0,this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:_,urlAfterRedirects:f,extras:{...y,skipLocationChange:!1,replaceUrl:!1}},Q(s)}{const h="";return this.events.next(new Fa(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),Dr}}),Vt(u=>{const c=new MJ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),pe(u=>(this.currentTransition=s={...u,guards:eX(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function dX(t,e){return Rt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Q({...n,guardsResult:!0}):function hX(t,e,n,r){return Et(t).pipe(Rt(i=>function _X(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Q(s.map(a=>{const u=ol(e)??i,c=Va(a,u);return Ji(function uX(t){return t&&cl(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe($s())})).pipe(Ua()):Q(!0)}(i.component,i.route,n,e,r)),$s(i=>!0!==i,!0))}(o,r,i,t).pipe(Rt(a=>a&&function iX(t){return"boolean"==typeof t}(a)?function fX(t,e,n,r){return Et(e).pipe(Qc(i=>fw(function gX(t,e){return null!==t&&e&&e(new PJ(t)),Q(!0)}(i.route.parent,r),function pX(t,e){return null!==t&&e&&e(new LJ(t)),Q(!0)}(i.route,r),function yX(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function tX(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>SP(()=>Q(o.guards.map(u=>{const c=ol(o.node)??n,l=Va(u,c);return Ji(function aX(t){return t&&cl(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe($s())})).pipe(Ua())));return Q(s).pipe(Ua())}(t,i.path,n),function mX(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Q(!0);const i=r.map(s=>SP(()=>{const o=ol(e)??n,a=Va(s,o);return Ji(function oX(t){return t&&cl(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe($s())}));return Q(i).pipe(Ua())}(t,i.route,n))),$s(i=>!0!==i,!0))}(r,s,t,e):Q(a)),pe(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),Vt(u=>{if(s.guardsResult=u.guardsResult,zs(u.guardsResult))throw iF(0,u.guardsResult);const c=new xJ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),Yi(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),Ow(u=>{if(u.guards.canActivateChecks.length)return Q(u).pipe(Vt(c=>{const l=new NJ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Cr(c=>{let l=!1;return Q(c).pipe(function FX(t,e){return Rt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Q(n);let s=0;return Et(i).pipe(Qc(o=>function LX(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!yF(i)&&(s[Yc]=i.title),function VX(t,e,n,r){const i=function UX(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Q({});const s={};return Et(i).pipe(Rt(o=>function BX(t,e,n,r){const i=ol(e)??r,s=Va(t,i);return Ji(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe($s(),Vt(a=>{s[o]=a}))),gw(1),function ZY(t){return pe(()=>t)}(s),Hs(o=>cF(o)?Dr:Kc(o)))}(s,t,e,r).pipe(pe(o=>(t._resolvedData=o,t.data=eF(t,n).resolve,i&&yF(i)&&(t.data[Yc]=i.title),null)))}(o.route,r,t,e)),Vt(()=>s++),gw(1),Rt(o=>s===i.length?Q(n):Dr))})}(n.paramsInheritanceStrategy,this.environmentInjector),Vt({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(c,"",2)}}))}),Vt(c=>{const l=new RJ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}))}),Ow(u=>{const c=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(Vt(h=>{l.component=h}),pe(()=>{})));for(const h of l.children)d.push(...c(h));return d};return hw(c(u.targetSnapshot.root)).pipe(Qf(),js(1))}),Ow(()=>this.afterPreactivation()),pe(u=>{const c=function HJ(t,e,n){const r=sl(t,e._root,n?n._root:void 0);return new XP(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:c},s}),Vt(()=>{this.events.next(new Ew)}),((t,e,n,r)=>pe(i=>(new ZJ(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),js(1),Vt({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Xi(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),n.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),function eJ(t){return pt((e,n)=>{Pn(t).subscribe(ct(n,()=>n.complete(),Fm)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Vt(u=>{throw u}))),mw(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Hs(u=>{if(a=!0,oF(u))this.events.next(new rl(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function qJ(t){return oF(t)&&zs(t.url)}(u)?this.events.next(new Dw(u.url)):s.resolve(!1);else{this.events.next(new rp(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(u))}catch(c){s.reject(c)}}return Dr}))}))}cancelNavigationTransition(n,r,i){const s=new rl(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vF(t){return t!==nl}let wF=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===re);return r}getResolvedTitleForRoute(n){return n.data[Yc]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:function(){return L(HX)},providedIn:"root"})}return t})(),HX=(()=>{class t extends wF{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)($(vP))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),GX=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:function(){return L(qX)},providedIn:"root"})}return t})();class zX{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let qX=(()=>{class t extends zX{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Lt(t)))(i||t)}}();static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const dp=new V("",{providedIn:"root",factory:()=>({})});let WX=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:function(){return L(KX)},providedIn:"root"})}return t})(),KX=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ll=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ll||{});function IF(t,e){t.events.pipe(Yi(n=>n instanceof Xi||n instanceof rl||n instanceof rp||n instanceof Fa),pe(n=>n instanceof Xi||n instanceof Fa?ll.COMPLETE:n instanceof rl&&(0===n.code||1===n.code)?ll.REDIRECTING:ll.FAILED),Yi(n=>n!==ll.REDIRECTING),js(1)).subscribe(()=>{e()})}function QX(t){throw t}function YX(t,e,n){return e.parse("/")}const JX={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},XX={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Dt=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=L(Jk),this.isNgZoneEnabled=!1,this._events=new ar,this.options=L(dp,{optional:!0})||{},this.pendingTasks=L(Xk),this.errorHandler=this.options.errorHandler||QX,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||YX,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=L(WX),this.routeReuseStrategy=L(GX),this.titleStrategy=L(wF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=L(ja,{optional:!0})?.flat()??[],this.navigationTransitions=L(lp),this.urlSerializer=L(Xc),this.location=L(Bv),this.componentInputBindingEnabled=!!L(sp,{optional:!0}),this.eventsSubscription=new Dn,this.isNgZoneEnabled=L(we)instanceof we&&we.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Pa,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ZP(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(EF(r)&&this._events.next(r));if(r instanceof np)vF(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Fa)this.rawUrlTree=i.rawUrl;else if(r instanceof QP){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof Ew)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof rl)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof Dw){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vF(i.source)};this.scheduleNavigation(s,nl,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof rp&&this.restoreHistory(i,!0),r instanceof Xi&&(this.navigated=!0),EF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),nl,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Nw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=$P(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return HP(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=zs(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,nl,null,r)}navigate(n,r={skipLocationChange:!1}){return function ZX(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new T(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...JX}:!1===r?{...XX}:r,zs(n))return kP(this.currentUrlTree,n,i);const s=this.parseUrl(n);return kP(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return IF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function EF(t){return!(t instanceof Ew||t instanceof Dw)}let Zi=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new ar,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof Xi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function eN(t,e,n){return function Oq(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?Zx:Xx}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(D(Dt),D(qs),function Dh(t){return function e3(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(qA(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Ft(),t)}("tabindex"),D(oi),D(Bn),D(Bs))};static#t=this.\u0275dir=K({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&yt("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&kr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Ra],skipLocationChange:["skipLocationChange","skipLocationChange",Ra],replaceUrl:["replaceUrl","replaceUrl",Ra],routerLink:"routerLink"},standalone:!0,features:[g1,Yn]})}return t})();class DF{}let nZ=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Yi(n=>n instanceof Xi),Qc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=uv(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Et(i).pipe(Fo())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Q(null);const s=i.pipe(Rt(o=>null===o?Q(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?Et([s,this.loader.loadComponent(r)]).pipe(Fo()):s})}static#e=this.\u0275fac=function(r){return new(r||t)($(Dt),$(Zk),$(Xn),$(DF),$(Pw))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Fw=new V("");let CF=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof np?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Xi?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Fa&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof YP&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new YP(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function $N(){throw new Error("invalid")}()};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();function mi(t,e){return{\u0275kind:t,\u0275providers:e}}function TF(){const t=L(Qt);return e=>{const n=t.get(Na);if(e!==n.components[0])return;const r=t.get(Dt),i=t.get(SF);1===t.get(Lw)&&r.initialNavigation(),t.get(AF,null,se.Optional)?.setUpPreloading(),t.get(Fw,null,se.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const SF=new V("",{factory:()=>new ar}),Lw=new V("",{providedIn:"root",factory:()=>1}),AF=new V("");function oZ(t){return mi(0,[{provide:AF,useExisting:nZ},{provide:DF,useExisting:t}])}const MF=new V("ROUTER_FORROOT_GUARD"),uZ=[Bv,{provide:Xc,useClass:yw},Dt,il,{provide:qs,useFactory:function bF(t){return t.routerState.root},deps:[Dt]},Pw,[]];function cZ(){return new oO("Router",Dt)}let xF=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[uZ,[],{provide:ja,multi:!0,useValue:n},{provide:MF,useFactory:fZ,deps:[[Dt,new fn,new Th]]},{provide:dp,useValue:r||{}},r?.useHash?{provide:Bs,useClass:vK}:{provide:Bs,useClass:FO},{provide:Fw,useFactory:()=>{const t=L(LQ),e=L(we),n=L(dp),r=L(lp),i=L(Xc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new CF(i,r,t,e,n)}},r?.preloadingStrategy?oZ(r.preloadingStrategy).\u0275providers:[],{provide:oO,multi:!0,useFactory:cZ},r?.initialNavigation?pZ(r):[],r?.bindToComponentInputs?mi(8,[rF,{provide:sp,useExisting:rF}]).\u0275providers:[],[{provide:NF,useFactory:TF},{provide:xv,multi:!0,useExisting:NF}]]}}static forChild(n){return{ngModule:t,providers:[{provide:ja,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)($(MF,8))};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({})}return t})();function fZ(t){return"guarded"}function pZ(t){return["disabled"===t.initialNavigation?mi(3,[{provide:Ev,multi:!0,useFactory:()=>{const e=L(Dt);return()=>{e.setUpLocationChangeListener()}}},{provide:Lw,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?mi(2,[{provide:Lw,useValue:0},{provide:Ev,multi:!0,deps:[Qt],useFactory:e=>{const n=e.get(yK,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Dt),s=e.get(SF);IF(i,()=>{r(!0)}),e.get(lp).afterPreactivation=()=>(r(!0),s.closed?Q(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const NF=new V("");function RF(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){RF(s,r,i,o,a,"next",u)}function a(u){RF(s,r,i,o,a,"throw",u)}o(void 0)})}}const kF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Uw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new vZ;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hp=function(t){return function(t){const e=kF(t);return Uw.encodeByteArray(e,!0)}(t).replace(/\./g,"")},fp=function(t){try{return Uw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},pp=()=>{try{return function EZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fp(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},PF=t=>{var e,n;return null===(n=null===(e=pp())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},FF=()=>{var t;return null===(t=pp())||void 0===t?void 0:t.config},LF=t=>{var e;return null===(e=pp())||void 0===e?void 0:e[`_${t}`]};class gp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Ct(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Bw(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Ws(){try{return"object"==typeof indexedDB}catch{return!1}}function dl(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function jw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class rr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ur.prototype.create)}}class Ur{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function kZ(t,e){return t.replace(OZ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new rr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const OZ=/\{\$([^}]+)}/g;function yp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(UF(s)&&UF(o)){if(!yp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function UF(t){return null!==t&&"object"==typeof t}function hl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function pl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class LZ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function VZ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=$w),void 0===i.error&&(i.error=$w),void 0===i.complete&&(i.complete=$w);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $w(){}const UZ=1e3,BZ=2,jZ=144e5,$Z=.5;function Gw(t,e=UZ,n=BZ){const r=e*Math.pow(n,t),i=Math.round($Z*r*(Math.random()-.5)*2);return Math.min(jZ,r+i)}function vt(t){return t&&t._delegate?t._delegate:t}class Xt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ks="[DEFAULT]";class GZ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new gp;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function qZ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ks){return this.instances.has(e)}getOptions(e=Ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Ks?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Ks){return this.component?this.component.multipleInstances?e:Ks:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class WZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GZ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const zw=[];var fe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(fe||{});const BF={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},KZ=fe.INFO,QZ={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},YZ=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=QZ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class $a{constructor(e){this.name=e,this._logLevel=KZ,this._logHandler=YZ,this._userLogHandler=null,zw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?BF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const JZ=(t,e)=>e.some(n=>t instanceof n);let jF,$F;const HF=new WeakMap,qw=new WeakMap,GF=new WeakMap,Ww=new WeakMap,Kw=new WeakMap;let Qw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return qw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||GF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function iee(t){return"function"==typeof t?function ree(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ZZ(){return $F||($F=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Yw(this),e),es(HF.get(this))}:function(...e){return es(t.apply(Yw(this),e))}:function(e,...n){const r=t.call(Yw(this),e,...n);return GF.set(r,e.sort?e.sort():[e]),es(r)}}(t):(t instanceof IDBTransaction&&function tee(t){if(qw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});qw.set(t,e)}(t),JZ(t,function XZ(){return jF||(jF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Qw):t)}function es(t){if(t instanceof IDBRequest)return function eee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(es(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&HF.set(n,t)}).catch(()=>{}),Kw.set(e,t),e}(t);if(Ww.has(t))return Ww.get(t);const e=iee(t);return e!==t&&(Ww.set(t,e),Kw.set(e,t)),e}const Yw=t=>Kw.get(t),oee=["get","getKey","getAll","getAllKeys","count"],aee=["put","add","delete","clear"],Jw=new Map;function zF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Jw.get(e))return Jw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=aee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!oee.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Jw.set(e,s),s}!function nee(t){Qw=t(Qw)}(t=>({...t,get:(e,n,r)=>zF(e,n)||t.get(e,n,r),has:(e,n)=>!!zF(e,n)||t.has(e,n)}));class uee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function cee(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Xw="@firebase/app",Qs=new $a("@firebase/app"),_p="[DEFAULT]",Pee={[Xw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ys=new Map,vp=new Map;function Fee(t,e){try{t.container.addComponent(e)}catch(n){Qs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yn(t){const e=t.name;if(vp.has(e))return Qs.debug(`There were multiple attempts to register component ${e}.`),!1;vp.set(e,t);for(const n of Ys.values())Fee(n,t);return!0}function Ha(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const yi=new Ur("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Vee{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yi.create("app-deleted",{appName:this._name})}}const Js="9.23.0";function WF(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:_p,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw yi.create("bad-app-name",{appName:String(i)});if(n||(n=FF()),!n)throw yi.create("no-options");const s=Ys.get(i);if(s){if(yp(n,s.options)&&yp(r,s.config))return s;throw yi.create("duplicate-app",{appName:i})}const o=new WZ(i);for(const u of vp.values())o.addComponent(u);const a=new Vee(n,r,o);return Ys.set(i,a),a}function Zw(t=_p){const e=Ys.get(t);if(!e&&t===_p&&FF())return WF();if(!e)throw yi.create("no-app",{appName:t});return e}function KF(){return Array.from(Ys.values())}function Je(t,e,n){var r;let i=null!==(r=Pee[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Qs.warn(a.join(" "))}yn(new Xt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Uee="firebase-heartbeat-database",Bee=1,gl="firebase-heartbeat-store";let tI=null;function QF(){return tI||(tI=function see(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=es(o);return r&&o.addEventListener("upgradeneeded",u=>{r(es(o.result),u.oldVersion,u.newVersion,es(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(Uee,Bee,{upgrade:(t,e)=>{0===e&&t.createObjectStore(gl)}}).catch(t=>{throw yi.create("idb-open",{originalErrorMessage:t.message})})),tI}function nI(){return(nI=g(function*(t){try{return yield(yield QF()).transaction(gl).objectStore(gl).get(JF(t))}catch(e){if(e instanceof rr)Qs.warn(e.message);else{const n=yi.create("idb-get",{originalErrorMessage:e?.message});Qs.warn(n.message)}}})).apply(this,arguments)}function YF(t,e){return rI.apply(this,arguments)}function rI(){return(rI=g(function*(t,e){try{const r=(yield QF()).transaction(gl,"readwrite");yield r.objectStore(gl).put(e,JF(t)),yield r.done}catch(n){if(n instanceof rr)Qs.warn(n.message);else{const r=yi.create("idb-set",{originalErrorMessage:n?.message});Qs.warn(r.message)}}})).apply(this,arguments)}function JF(t){return`${t.name}!${t.options.appId}`}class Gee{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qee(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=XF();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=XF(),{heartbeatsToSend:r,unsentEntries:i}=function zee(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ZF(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ZF(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=hp(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function XF(){return(new Date).toISOString().substring(0,10)}class qee{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!Ws()&&dl().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function jee(t){return nI.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return YF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return YF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function ZF(t){return hp(JSON.stringify({version:2,heartbeats:t})).length}!function Wee(t){yn(new Xt("platform-logger",e=>new uee(e),"PRIVATE")),yn(new Xt("heartbeat",e=>new Gee(e),"PRIVATE")),Je(Xw,"0.9.13",t),Je(Xw,"0.9.13","esm2017"),Je("fire-js","")}(""),Je("firebase","9.23.0","app");const Yee=(t,e)=>e.some(n=>t instanceof n);let eL,tL;const nL=new WeakMap,iI=new WeakMap,rL=new WeakMap,sI=new WeakMap,oI=new WeakMap;let aI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return iI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||rL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ts(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function rte(t){return"function"==typeof t?function nte(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Xee(){return tL||(tL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(uI(this),e),ts(nL.get(this))}:function(...e){return ts(t.apply(uI(this),e))}:function(e,...n){const r=t.call(uI(this),e,...n);return rL.set(r,e.sort?e.sort():[e]),ts(r)}}(t):(t instanceof IDBTransaction&&function ete(t){if(iI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});iI.set(t,e)}(t),Yee(t,function Jee(){return eL||(eL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,aI):t)}function ts(t){if(t instanceof IDBRequest)return function Zee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ts(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&nL.set(n,t)}).catch(()=>{}),oI.set(e,t),e}(t);if(sI.has(t))return sI.get(t);const e=rte(t);return e!==t&&(sI.set(t,e),oI.set(e,t)),e}const uI=t=>oI.get(t),ste=["get","getKey","getAll","getAllKeys","count"],ote=["put","add","delete","clear"],cI=new Map;function iL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(cI.get(e))return cI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ote.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ste.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return cI.set(e,s),s}!function tte(t){aI=t(aI)}(t=>({...t,get:(e,n,r)=>iL(e,n)||t.get(e,n,r),has:(e,n)=>!!iL(e,n)||t.has(e,n)}));const sL="@firebase/installations",lI="0.6.4",oL=1e4,aL=`w:${lI}`,uL="FIS_v2",ate="https://firebaseinstallations.googleapis.com/v1",ute=36e5,_i=new Ur("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function cL(t){return t instanceof rr&&t.code.includes("request-failed")}function dI({projectId:t}){return`${ate}/projects/${t}/installations`}function lL(t){return{token:t.token,requestStatus:2,expiresIn:hte(t.expiresIn),creationTime:Date.now()}}function hI(t,e){return fI.apply(this,arguments)}function fI(){return(fI=g(function*(t,e){const r=(yield e.json()).error;return _i.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function dL({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function pI(t){return gI.apply(this,arguments)}function gI(){return(gI=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function hte(t){return Number(t.replace("s","000"))}function mI(){return(mI=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=dI(t),i=dL(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:uL,appId:t.appId,sdkVersion:aL})},u=yield pI(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:lL(c.authToken)}}throw yield hI("Create Installation",u)})).apply(this,arguments)}function fL(t){return new Promise(e=>{setTimeout(e,t)})}const mte=/^[cdef][\w-]{21}$/,yI="";function yte(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function _te(t){return function gte(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return mte.test(n)?n:yI}catch{return yI}}function Ga(t){return`${t.appName}!${t.appId}`}const za=new Map;function pL(t,e){const n=Ga(t);gL(n,e),function Ite(t,e){const n=function mL(){return!Xs&&"BroadcastChannel"in self&&(Xs=new BroadcastChannel("[Firebase] FID Change"),Xs.onmessage=t=>{gL(t.data.key,t.data.fid)}),Xs}();n&&n.postMessage({key:t,fid:e}),function yL(){0===za.size&&Xs&&(Xs.close(),Xs=null)}()}(n,e)}function gL(t,e){const n=za.get(t);if(n)for(const r of n)r(e)}let Xs=null;const Ete="firebase-installations-database",Dte=1,Zs="firebase-installations-store";let _I=null;function vI(){return _I||(_I=function ite(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ts(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ts(o.result),u.oldVersion,u.newVersion,ts(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Ete,Dte,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Zs)}})),_I}function wp(t,e){return wI.apply(this,arguments)}function wI(){return(wI=g(function*(t,e){const n=Ga(t),i=(yield vI()).transaction(Zs,"readwrite"),s=i.objectStore(Zs),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&pL(t,e.fid),e})).apply(this,arguments)}function II(t){return EI.apply(this,arguments)}function EI(){return(EI=g(function*(t){const e=Ga(t),r=(yield vI()).transaction(Zs,"readwrite");yield r.objectStore(Zs).delete(e),yield r.done})).apply(this,arguments)}function ml(t,e){return DI.apply(this,arguments)}function DI(){return(DI=g(function*(t,e){const n=Ga(t),i=(yield vI()).transaction(Zs,"readwrite"),s=i.objectStore(Zs),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&pL(t,a.fid),a})).apply(this,arguments)}function CI(t){return bI.apply(this,arguments)}function bI(){return bI=g(function*(t){let e;const n=yield ml(t.appConfig,r=>{const i=function Cte(t){return vL(t||{fid:yte(),registrationStatus:0})}(r),s=function bte(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(_i.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Tte(t,e){return TI.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Ste(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===yI?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),bI.apply(this,arguments)}function TI(){return TI=g(function*(t,e){try{const n=yield function pte(t,e){return mI.apply(this,arguments)}(t,e);return wp(t.appConfig,n)}catch(n){throw cL(n)&&409===n.customData.serverCode?yield II(t.appConfig):yield wp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),TI.apply(this,arguments)}function Ste(t){return SI.apply(this,arguments)}function SI(){return(SI=g(function*(t){let e=yield _L(t.appConfig);for(;1===e.registrationStatus;)yield fL(100),e=yield _L(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield CI(t);return r||n}return e})).apply(this,arguments)}function _L(t){return ml(t,e=>{if(!e)throw _i.create("installation-not-found");return vL(e)})}function vL(t){return function Ate(t){return 1===t.registrationStatus&&t.registrationTime+oL<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function AI(){return(AI=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function xte(t,{fid:e}){return`${dI(t)}/${e}/authTokens:generate`}(t,n),i=function hL(t,{refreshToken:e}){const n=dL(t);return n.append("Authorization",function fte(t){return`${uL} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:aL,appId:t.appId}})},u=yield pI(()=>fetch(r,a));if(u.ok)return lL(yield u.json());throw yield hI("Generate Auth Token",u)})).apply(this,arguments)}function MI(t){return xI.apply(this,arguments)}function xI(){return xI=g(function*(t,e=!1){let n;const r=yield ml(t.appConfig,s=>{if(!IL(s))throw _i.create("not-registered");const o=s.authToken;if(!e&&function kte(t){return 2===t.requestStatus&&!function Ote(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+ute}(t)}(o))return s;if(1===o.requestStatus)return n=function Nte(t,e){return NI.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw _i.create("app-offline");const a=function Pte(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Rte(t,e){return RI.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),xI.apply(this,arguments)}function NI(){return(NI=g(function*(t,e){let n=yield wL(t.appConfig);for(;1===n.authToken.requestStatus;)yield fL(100),n=yield wL(t.appConfig);const r=n.authToken;return 0===r.requestStatus?MI(t,e):r})).apply(this,arguments)}function wL(t){return ml(t,e=>{if(!IL(e))throw _i.create("not-registered");return function Fte(t){return 1===t.requestStatus&&t.requestTime+oL<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function RI(){return RI=g(function*(t,e){try{const n=yield function Mte(t,e){return AI.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield wp(t.appConfig,r),n}catch(n){if(!cL(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield wp(t.appConfig,r)}else yield II(t.appConfig);throw n}}),RI.apply(this,arguments)}function IL(t){return void 0!==t&&2===t.registrationStatus}function kI(){return(kI=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield CI(e);return r?r.catch(console.error):MI(e).catch(console.error),n.fid})).apply(this,arguments)}function OI(){return OI=g(function*(t,e=!1){const n=t;return yield function Ute(t){return PI.apply(this,arguments)}(n),(yield MI(n,e)).token}),OI.apply(this,arguments)}function PI(){return(PI=g(function*(t){const{registrationPromise:e}=yield CI(t);e&&(yield e)})).apply(this,arguments)}function VI(t){return _i.create("missing-app-config-values",{valueName:t})}const EL="installations",Gte=t=>{const e=t.getProvider("app").getImmediate(),n=function $te(t){if(!t||!t.options)throw VI("App Configuration");if(!t.name)throw VI("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw VI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Ha(e,"heartbeat"),_delete:()=>Promise.resolve()}},zte=t=>{const n=Ha(t.getProvider("app").getImmediate(),EL).getImmediate();return{getId:()=>function Lte(t){return kI.apply(this,arguments)}(n),getToken:i=>function Vte(t){return OI.apply(this,arguments)}(n,i)}};(function qte(){yn(new Xt(EL,Gte,"PUBLIC")),yn(new Xt("installations-internal",zte,"PRIVATE"))})(),Je(sL,lI),Je(sL,lI,"esm2017");const UI="@firebase/remote-config",Nn=new Ur("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class rne{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function ine(t=navigator){return t.languages&&t.languages[0]||t.language}class sne{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:ine()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((w,_)=>{e.signal.addEventListener(()=>{const b=new Error("The operation was aborted.");b.name="AbortError",_(b)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(w){let _="fetch-client-network";throw"AbortError"===w?.name&&(_="fetch-timeout"),Nn.create(_,{originalErrorMessage:w?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,y;if(200===h.status){let w;try{w=yield h.json()}catch(_){throw Nn.create("fetch-client-parse",{originalErrorMessage:_?.message})}m=w.entries,y=w.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==f&&200!==f)throw Nn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class une{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function one(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Nn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function ane(t){if(!(t instanceof rr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Gw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class dne{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ep(t,e){const n=t.target.error||void 0;return Nn.create(e,{originalErrorMessage:n&&n?.message})}const eo="app_namespace_store";class gne{constructor(e,n,r,i=function pne(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Ep(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(eo,{keyPath:"compositeKey"})}}catch(n){e(Nn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([eo],"readonly").objectStore(eo),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Ep(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(Nn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([eo],"readwrite").objectStore(eo),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Ep(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Nn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([eo],"readwrite").objectStore(eo),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Ep(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Nn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class mne{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function _ne(){return GI.apply(this,arguments)}function GI(){return(GI=g(function*(){if(!Ws())return!1;try{return yield dl()}catch{return!1}})).apply(this,arguments)}!function yne(){yn(new Xt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Nn.create("registration-window");if(!Ws())throw Nn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Nn.create("registration-project-id");if(!o)throw Nn.create("registration-api-key");if(!a)throw Nn.create("registration-app-id");const u=new gne(a,r.name,n=n||"firebase"),c=new mne(u),l=new $a(UI);l.logLevel=fe.ERROR;const d=new sne(i,Js,n,s,o,a),h=new une(d,u),f=new rne(h,u,c,l),p=new dne(r,f,c,u,l);return function ene(t){const e=vt(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Je(UI,"0.4.4"),Je(UI,"0.4.4","esm2017")}();const vne=(t,e)=>e.some(n=>t instanceof n);let TL,SL;const AL=new WeakMap,zI=new WeakMap,ML=new WeakMap,qI=new WeakMap,WI=new WeakMap;let KI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return zI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||ML.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Tne(t){return"function"==typeof t?function bne(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ine(){return SL||(SL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(QI(this),e),vi(AL.get(this))}:function(...e){return vi(t.apply(QI(this),e))}:function(e,...n){const r=t.call(QI(this),e,...n);return ML.set(r,e.sort?e.sort():[e]),vi(r)}}(t):(t instanceof IDBTransaction&&function Dne(t){if(zI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});zI.set(t,e)}(t),vne(t,function wne(){return TL||(TL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,KI):t)}function vi(t){if(t instanceof IDBRequest)return function Ene(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(vi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&AL.set(n,t)}).catch(()=>{}),WI.set(e,t),e}(t);if(qI.has(t))return qI.get(t);const e=Tne(t);return e!==t&&(qI.set(t,e),WI.set(e,t)),e}const QI=t=>WI.get(t);function xL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=vi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(vi(o.result),u.oldVersion,u.newVersion,vi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function YI(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),vi(n).then(()=>{})}const Sne=["get","getKey","getAll","getAllKeys","count"],Ane=["put","add","delete","clear"],JI=new Map;function NL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(JI.get(e))return JI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ane.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Sne.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return JI.set(e,s),s}!function Cne(t){KI=t(KI)}(t=>({...t,get:(e,n,r)=>NL(e,n)||t.get(e,n,r),has:(e,n)=>!!NL(e,n)||t.has(e,n)}));const Mne="/firebase-messaging-sw.js",xne="/firebase-cloud-messaging-push-scope",RL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Nne="https://fcmregistrations.googleapis.com/v1",kL="google.c.a.c_id",Rne="google.c.a.c_l",kne="google.c.a.ts";var Dp=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Dp||{});function wi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Fne(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const XI="fcm_token_details_db",Lne=5,OL="fcm_token_object_Store";function ZI(){return ZI=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(XI))return null;let e=null;return(yield xL(XI,Lne,{upgrade:(r=g(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(OL))return;const c=a.objectStore(OL),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:wi(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:wi(d.auth),p256dh:wi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:wi(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:wi(d.auth),p256dh:wi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:wi(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield YI(XI),yield YI("fcm_vapid_details_db"),yield YI("undefined"),function Une(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),ZI.apply(this,arguments)}const Bne="firebase-messaging-database",jne=1,to="firebase-messaging-store";let eE=null;function tE(){return eE||(eE=xL(Bne,jne,{upgrade:(t,e)=>{0===e&&t.createObjectStore(to)}})),eE}function PL(t){return nE.apply(this,arguments)}function nE(){return nE=g(function*(t){const e=oE(t),r=yield(yield tE()).transaction(to).objectStore(to).get(e);if(r)return r;{const i=yield function Vne(t){return ZI.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield rE(t,i),i}}),nE.apply(this,arguments)}function rE(t,e){return iE.apply(this,arguments)}function iE(){return(iE=g(function*(t,e){const n=oE(t),i=(yield tE()).transaction(to,"readwrite");return yield i.objectStore(to).put(e,n),yield i.done,e})).apply(this,arguments)}function sE(){return(sE=g(function*(t){const e=oE(t),r=(yield tE()).transaction(to,"readwrite");yield r.objectStore(to).delete(e),yield r.done})).apply(this,arguments)}function oE({appConfig:t}){return t.appId}const Ut=new Ur("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Gne(t,e){return aE.apply(this,arguments)}function aE(){return(aE=g(function*(t,e){const n=yield dE(t),r=LL(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(lE(t.appConfig),i)).json()}catch(o){throw Ut.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Ut.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Ut.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function uE(){return(uE=g(function*(t,e){const n=yield dE(t),r=LL(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${lE(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Ut.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Ut.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Ut.create("token-update-no-token");return s.token})).apply(this,arguments)}function FL(t,e){return cE.apply(this,arguments)}function cE(){return(cE=g(function*(t,e){const r={method:"DELETE",headers:yield dE(t)};try{const s=yield(yield fetch(`${lE(t.appConfig)}/${e}`,r)).json();if(s.error)throw Ut.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Ut.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function lE({projectId:t}){return`${Nne}/projects/${t}/registrations`}function dE(t){return hE.apply(this,arguments)}function hE(){return(hE=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function LL({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==RL&&(i.web.applicationPubKey=r),i}const qne=6048e5;function fE(){return fE=g(function*(t){const e=yield function Qne(t,e){return yE.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:wi(e.getKey("auth")),p256dh:wi(e.getKey("p256dh"))},r=yield PL(t.firebaseDependencies);if(r){if(function Yne(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+qne?function Kne(t,e){return gE.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield FL(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return UL(t.firebaseDependencies,n)}return UL(t.firebaseDependencies,n)}),fE.apply(this,arguments)}function pE(){return pE=g(function*(t){const e=yield PL(t.firebaseDependencies);e&&(yield FL(t.firebaseDependencies,e.token),yield function $ne(t){return sE.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),pE.apply(this,arguments)}function gE(){return gE=g(function*(t,e){try{const n=yield function zne(t,e){return uE.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield rE(t.firebaseDependencies,r),n}catch(n){throw yield function VL(t){return pE.apply(this,arguments)}(t),n}}),gE.apply(this,arguments)}function UL(t,e){return mE.apply(this,arguments)}function mE(){return(mE=g(function*(t,e){const r={token:yield Gne(t,e),createTime:Date.now(),subscriptionOptions:e};return yield rE(t,r),r.token})).apply(this,arguments)}function yE(){return(yE=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Fne(e)})})).apply(this,arguments)}function BL(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function Jne(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function Xne(t,e){e.data&&(t.data=e.data)}(e,t),function Zne(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function jL(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function _E(t){return Ut.create("missing-app-config-values",{valueName:t})}jL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),jL("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class nre{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function tre(t){if(!t||!t.options)throw _E("App Configuration Object");if(!t.name)throw _E("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw _E(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function vE(){return(vE=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Mne,{scope:xne}),t.swRegistration.update().catch(()=>{})}catch(e){throw Ut.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function wE(){return(wE=g(function*(t,e){if(!e&&!t.swRegistration&&(yield function $L(t){return vE.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Ut.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function IE(){return(IE=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=RL)})).apply(this,arguments)}function EE(){return EE=g(function*(t,e){if(!navigator)throw Ut.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ut.create("permission-blocked");return yield function ire(t,e){return IE.apply(this,arguments)}(t,e?.vapidKey),yield function rre(t,e){return wE.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function Wne(t){return fE.apply(this,arguments)}(t)}),EE.apply(this,arguments)}function DE(){return(DE=g(function*(t,e,n){const r=function ore(t){switch(t){case Dp.NOTIFICATION_CLICKED:return"notification_open";case Dp.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[kL],message_name:n[Rne],message_time:n[kne],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function CE(){return CE=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Dp.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(BL(n)):t.onMessageHandler.next(BL(n)));const r=n.data;(function ere(t){return"object"==typeof t&&!!t&&kL in t})(r)&&"1"===r["google.c.a.e"]&&(yield function sre(t,e,n){return DE.apply(this,arguments)}(t,n.messageType,r))}),CE.apply(this,arguments)}const GL="@firebase/messaging",ure=t=>{const e=new nre(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function are(t,e){return CE.apply(this,arguments)}(e,n)),e},cre=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function HL(t,e){return EE.apply(this,arguments)}(e,r)}};function qL(){return bE.apply(this,arguments)}function bE(){return(bE=g(function*(){try{yield dl()}catch{return!1}return typeof window<"u"&&Ws()&&jw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function lre(){yn(new Xt("messaging",ure,"PUBLIC")),yn(new Xt("messaging-internal",cre,"PRIVATE")),Je(GL,"0.12.4"),Je(GL,"0.12.4","esm2017")}();const Cp="analytics",fre="firebase_id",pre="origin",gre=6e4,mre="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",AE="https://www.googletagmanager.com/gtag/js",bt=new $a("@firebase/analytics"),_n=new Ur("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function _re(t){if(!t.startsWith(AE)){const e=_n.create("invalid-gtag-resource",{gtagURL:t});return bt.warn(e.message),""}return t}function WL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function ME(){return(ME=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield WL(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){bt.error(a)}t("config",i,s)})).apply(this,arguments)}function xE(){return(xE=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield WL(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){bt.error(s)}})).apply(this,arguments)}const Sre=30,KL=new class Mre{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function xre(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function NE(){return(NE=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:xre(r)},s=mre.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw _n.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function RE(){return(RE=g(function*(t,e=KL,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw _n.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw _n.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Pre;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:gre),QL({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function QL(t,e,n){return kE.apply(this,arguments)}function kE(){return kE=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=KL){var s;const{appId:o,measurementId:a}=t;try{yield function kre(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(_n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return bt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function Nre(t){return NE.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function Ore(t){if(!(t instanceof rr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return bt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?Gw(n,i.intervalMillis,Sre):Gw(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),bt.debug(`Calling attemptFetch again in ${l} millis`),QL(t,d,r,i)}}),kE.apply(this,arguments)}class Pre{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let OE,jE;function PE(){return(PE=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function $E(){return($E=g(function*(){if(!Ws())return bt.warn(_n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield dl()}catch(t){return bt.warn(_n.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function HE(){return HE=g(function*(t,e,n,r,i,s,o){var a;const u=function Rre(t){return RE.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&bt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>bt.error(f)),e.push(u);const c=function $re(){return $E.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function Tre(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(AE)&&n.src.includes(t))return n;return null})(s)||function wre(t,e){const n=function vre(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:_re}),r=document.createElement("script"),i=`${AE}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),jE&&(i("consent","default",jE),function YL(t){jE=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[pre]="firebase",h.update=!0,null!=d&&(h[fre]=d),i("config",l.measurementId,h),OE&&(i("set",OE),function JL(t){OE=t}(void 0)),l.measurementId}),HE.apply(this,arguments)}class Gre{constructor(e){this.app=e}_delete(){return delete Br[this.app.options.appId],Promise.resolve()}}let Br={},XL=[];const ZL={};let t2,jr,bp="dataLayer",GE=!1;function qre(t,e,n){!function zre(){const t=[];if(Bw()&&t.push("This is a browser extension environment."),jw()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=_n.create("invalid-analytics-context",{errorInfo:e});bt.warn(n.message)}}();const r=t.options.appId;if(!r)throw _n.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw _n.create("no-api-key");bt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Br[r])throw _n.create("already-exists",{id:r});if(!GE){!function Ire(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(bp);const{wrappedGtag:s,gtagCore:o}=function bre(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Cre(t,e,n,r){function s(){return s=g(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function Dre(t,e,n,r,i){return xE.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function Ere(t,e,n,r,i,s){return ME.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){bt.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Br,XL,ZL,bp,"gtag");jr=s,t2=o,GE=!0}return Br[r]=function Hre(t,e,n,r,i,s,o){return HE.apply(this,arguments)}(t,XL,ZL,e,t2,bp,n),new Gre(t)}function Kre(){return zE.apply(this,arguments)}function zE(){return(zE=g(function*(){if(Bw()||!jw()||!Ws())return!1;try{return yield dl()}catch{return!1}})).apply(this,arguments)}const n2="@firebase/analytics";!function Yre(){yn(new Xt(Cp,(e,{options:n})=>qre(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),yn(new Xt("analytics-internal",function t(e){try{const n=e.getProvider(Cp).getImmediate();return{logEvent:(r,i,s)=>function Qre(t,e,n,r){t=vt(t),function Fre(t,e,n,r,i){return PE.apply(this,arguments)}(jr,Br[t.app.options.appId],e,n,r).catch(i=>bt.error(i))}(n,r,i,s)}}catch(n){throw _n.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Je(n2,"0.10.0"),Je(n2,"0.10.0","esm2017")}();class Jre extends Dn{constructor(e,n){super()}schedule(e,n=0){return this}}const Tp={setInterval(t,e,...n){const{delegate:r}=Tp;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Tp;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class i2 extends Jre{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Tp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Tp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Po(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const s2={now:()=>(s2.delegate||Date).now(),delegate:void 0};class yl{constructor(e,n=yl.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}yl.now=s2.now;class o2 extends yl{constructor(e,n=yl.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const eie=new class Zre extends o2{}(class Xre extends i2{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),tie=new o2(i2),Sp=new ha("7.6.1"),WE="__angularfire_symbol__analyticsIsSupportedValue",KE="__angularfire_symbol__analyticsIsSupported",QE="__angularfire_symbol__remoteConfigIsSupportedValue",YE="__angularfire_symbol__remoteConfigIsSupported",JE="__angularfire_symbol__messagingIsSupportedValue",XE="__angularfire_symbol__messagingIsSupported";function eD(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[KE]||(globalThis[KE]=Kre().then(t=>globalThis[WE]=t).catch(()=>globalThis[WE]=!1)),globalThis[XE]||(globalThis[XE]=qL().then(t=>globalThis[JE]=t).catch(()=>globalThis[JE]=!1)),globalThis[YE]||(globalThis[YE]=_ne().then(t=>globalThis[QE]=t).catch(()=>globalThis[QE]=!1));const tD=(t,e)=>{const n=e?[e]:KF(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function qa(){}class a2{constructor(e,n=eie){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class nie{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qa,{},qa,qa)),n.pipe(Vt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let nD=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new a2(Zone.current)),this.insideAngular=n.run(()=>new a2(Zone.current,tie)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)($(we))},t.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function no(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function ro(t){return no().ngZone.run(()=>t())}function iie(t){return no(),function sie(t){return function(n){return(n=n.lift(new nie(t.ngZone))).pipe(Zd(t.outsideAngular),Xd(t.insideAngular))}}(no())(t)}const oie=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ro(()=>t.apply(void 0,r))},vn=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=ro(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qa,{},qa,qa)))),r[s]=oie(r[s],n));const i=function rie(t){return no().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof je){const s=no();return i.pipe(Zd(s.outsideAngular),Xd(s.insideAngular))}return ro(()=>i)}return i instanceof je?i.pipe(iie):i instanceof Promise?ro(()=>new Promise((s,o)=>i.then(a=>ro(()=>s(a)),a=>ro(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:ro(()=>i)};class Wa{constructor(e){return e}}class rD{constructor(){return KF()}}const iD=new V("angularfire2._apps"),uie={provide:Wa,useFactory:function aie(t){return t&&1===t.length?t[0]:new Wa(Zw())},deps:[[new fn,iD]]},cie={provide:rD,deps:[[new fn,iD]]};function lie(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Wa(r)}}let die=(()=>{class t{constructor(n){Je("angularfire",Sp.full,"core"),Je("angularfire",Sp.full,"app"),Je("angular",yN.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)($(Gi))},t.\u0275mod=an({type:t}),t.\u0275inj=qt({providers:[uie,cie]}),t})();function hie(t,...e){return{ngModule:die,providers:[{provide:iD,useFactory:lie(t),multi:!0,deps:[we,Qt,nD,...e]}]}}const fie=vn(WF,!0),sD=new Map,u2={activated:!1,tokenObservers:[]},pie={initialized:!1,enabled:!1};function Xe(t){return sD.get(t)||Object.assign({},u2)}function Ap(){return pie}const oD="https://content-firebaseappcheck.googleapis.com/v1",_ie="exchangeDebugToken",c2={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class wie{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new gp,yield function Iie(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new gp,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Bt=new Ur("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function aD(t){if(!Xe(t).activated)throw Bt.create("use-before-activation",{appName:t.name})}function Np(t,e){return cD.apply(this,arguments)}function cD(){return(cD=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Bt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Bt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Bt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Bt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function l2(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${oD}/projects/${n}/apps/${r}:${_ie}?key=${i}`,body:{debug_token:e}}}const bie="firebase-app-check-database",Tie=1,_l="firebase-app-check-store";let Rp=null;function lD(){return(lD=g(function*(t,e){const r=(yield function h2(){return Rp||(Rp=new Promise((t,e)=>{try{const n=indexedDB.open(bie,Tie);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Bt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(_l,{keyPath:"compositeKey"})}}catch(n){e(Bt.create("storage-open",{originalErrorMessage:n?.message}))}}),Rp)}()).transaction(_l,"readwrite"),s=r.objectStore(_l).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Bt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const vl=new $a("@firebase/app-check");function fD(t,e){return Ws()?function Aie(t,e){return function f2(t,e){return lD.apply(this,arguments)}(function g2(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{vl.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function gD(){return Ap().enabled}function mD(){return yD.apply(this,arguments)}function yD(){return(yD=g(function*(){const t=Ap();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Oie={error:"UNKNOWN_ERROR"};function Pie(t){return Uw.encodeString(JSON.stringify(t),!1)}function kp(t){return _D.apply(this,arguments)}function _D(){return(_D=g(function*(t,e=!1){const n=t.app;aD(n);const r=Xe(n);let s,i=r.token;if(i&&!Ka(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(Ka(u)?i=u:yield fD(n,void 0))}if(!e&&i&&Ka(i))return{token:i.token};let a,o=!1;if(gD()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Np(l2(n,yield mD()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield fD(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Xe(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?vl.warn(u.message):vl.error(u),s=u}return i?s?a=Ka(i)?{token:i.token,internalError:s}:v2(s):(a={token:i.token},r.token=i,yield fD(n,i)):a=v2(s),o&&function _2(t,e){const n=Xe(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function m2(t){return vD.apply(this,arguments)}function vD(){return(vD=g(function*(t){const e=t.app;aD(e);const{provider:n}=Xe(e);if(gD()){const r=yield mD(),{token:i}=yield Np(l2(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function ID(t,e){const n=Xe(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function y2(t){const{app:e}=t,n=Xe(e);let r=n.tokenRefresher;r||(r=function Fie(t){const{app:e}=t;return new wie(g(function*(){let r;if(r=Xe(e).token?yield kp(t,!0):yield kp(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Xe(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},c2.RETRIAL_MIN_WAIT,c2.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Ka(t){return t.expireTimeMillis-Date.now()>0}function v2(t){return{token:Pie(Oie),error:t}}class Lie{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Xe(this.app);for(const n of e)ID(this.app,n.next);return Promise.resolve()}}const S2="app-check-internal";!function Jie(){yn(new Xt("app-check",t=>function Vie(t,e){return new Lie(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(S2).initialize()})),yn(new Xt(S2,t=>function Uie(t){return{getToken:e=>kp(t,e),getLimitedUseToken:()=>m2(t),addTokenListener:e=>function wD(t,e,n,r){const{app:i}=t,s=Xe(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Ka(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),y2(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>y2(t))}(t,"INTERNAL",e),removeTokenListener:e=>ID(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Je("@firebase/app-check","0.8.0")}();class bD{constructor(){return tD("app-check")}}typeof window<"u"&&window;const nse=function M2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},x2=new Ur("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Pp=new $a("@firebase/auth");function Fp(t,...e){Pp.logLevel<=fe.ERROR&&Pp.error(`Auth (${Js}): ${t}`,...e)}function Rn(t,...e){throw SD(t,...e)}function Hn(t,...e){return SD(t,...e)}function N2(t,e,n){const r=Object.assign(Object.assign({},nse()),{[e]:n});return new Ur("auth","Firebase",r).create(e,{appName:t.name})}function SD(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return x2.create(t,...e)}function A(t,e,...n){if(!t)throw SD(e,...n)}function $r(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fp(e),new Error(e)}function Ii(t,e){t||$r(e)}function wl(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function R2(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Il{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ii(n>e,"Short delay should be less than long delay!"),this.isMobile=function AZ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}()||function xZ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function ise(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function AD(){return"http:"===R2()||"https:"===R2()}()||Bw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function MD(t,e){Ii(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class k2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void $r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void $r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void $r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ose={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ase=new Il(3e4,6e4);function qe(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ze(t,e,n,r){return xD.apply(this,arguments)}function xD(){return(xD=g(function*(t,e,n,r,i={}){return O2(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=hl(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),k2.fetch()(P2(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function O2(t,e,n){return ND.apply(this,arguments)}function ND(){return(ND=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},ose),e);try{const i=new use(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw El(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw El(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw El(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw El(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw N2(t,l,c);Rn(t,l)}}catch(i){if(i instanceof rr)throw i;Rn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Ei(t,e,n,r){return RD.apply(this,arguments)}function RD(){return(RD=g(function*(t,e,n,r,i={}){const s=yield Ze(t,e,n,r,i);return"mfaPendingCredential"in s&&Rn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function P2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?MD(t.config,i):`${t.config.apiScheme}://${i}`}class use{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hn(this.auth,"network-request-failed")),ase.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function El(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Hn(t,e,r);return i.customData._tokenResponse=n,i}function kD(){return(kD=g(function*(t,e){return Ze(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function PD(){return(PD=g(function*(t,e){return Ze(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Dl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function FD(){return(FD=g(function*(t,e=!1){const n=vt(t),r=yield n.getIdToken(e),i=Lp(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Dl(LD(i.auth_time)),issuedAtTime:Dl(LD(i.iat)),expirationTime:Dl(LD(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function LD(t){return 1e3*Number(t)}function Lp(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Fp("JWT malformed, contained fewer than 3 sections"),null;try{const i=fp(n);return i?JSON.parse(i):(Fp("Failed to decode base64 JWT payload"),null)}catch(i){return Fp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Di(t,e){return VD.apply(this,arguments)}function VD(){return(VD=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof rr&&function pse({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class gse{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class F2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Cl(t){return UD.apply(this,arguments)}function UD(){return UD=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Di(t,function dse(t,e){return PD.apply(this,arguments)}(n,{idToken:r}));A(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function _se(t){return t.map(e=>{var{providerId:n}=e,r=Jd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function yse(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new F2(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),UD.apply(this,arguments)}function BD(){return(BD=g(function*(t){const e=vt(t);yield Cl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function jD(){return(jD=g(function*(t,e){const n=yield O2(t,{},g(function*(){const r=hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=P2(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",k2.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class bl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(typeof e.idToken<"u","internal-error"),A(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function fse(t){const e=Lp(t);return A(e,"internal-error"),A(typeof e.exp<"u","internal-error"),A(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function vse(t,e){return jD.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new bl;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bl,this.toJSON())}_performRefresh(){return $r("not implemented")}}function ns(t,e){A("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class io{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Jd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gse(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new F2(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield Di(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function hse(t){return FD.apply(this,arguments)}(this,e)}reload(){return function mse(t){return BD.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new io(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Cl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield Di(e,function cse(t,e){return kD.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,w=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:b,emailVerified:O,isAnonymous:B,providerData:te,stsTokenManager:Me}=n;A(b&&Me,e,"internal-error");const on=bl.fromJSON(this.name,Me);A("string"==typeof b,e,"internal-error"),ns(d,e.name),ns(h,e.name),A("boolean"==typeof O,e,"internal-error"),A("boolean"==typeof B,e,"internal-error"),ns(f,e.name),ns(p,e.name),ns(m,e.name),ns(y,e.name),ns(w,e.name),ns(_,e.name);const Xr=new io({uid:b,auth:e,email:h,emailVerified:O,displayName:d,isAnonymous:B,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:on,createdAt:w,lastLoginAt:_});return te&&Array.isArray(te)&&(Xr.providerData=te.map(uA=>Object.assign({},uA))),y&&(Xr._redirectEventId=y),Xr}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new bl;i.updateFromServerResponse(n);const s=new io({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Cl(s),s})()}}const L2=new Map;function Ci(t){Ii(t instanceof Function,"Expected a class definition");let e=L2.get(t);return e?(Ii(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,L2.set(t,e),e)}const V2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Vp(t,e,n){return`firebase:${t}:${e}:${n}`}class Ya{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Vp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Vp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?io._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new Ya(Ci(V2),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Ci(V2);const o=Vp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=io._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Ya(s,e,r)):new Ya(s,e,r)})()}}function U2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(B2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(G2(e))return"Blackberry";if(z2(e))return"Webos";if($D(e))return"Safari";if((e.includes("chrome/")||j2(e))&&!e.includes("edge/"))return"Chrome";if(H2(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function B2(t=Ct()){return/firefox\//i.test(t)}function $D(t=Ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function j2(t=Ct()){return/crios\//i.test(t)}function $2(t=Ct()){return/iemobile/i.test(t)}function H2(t=Ct()){return/android/i.test(t)}function G2(t=Ct()){return/blackberry/i.test(t)}function z2(t=Ct()){return/webos/i.test(t)}function Up(t=Ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function q2(t=Ct()){return Up(t)||H2(t)||z2(t)||G2(t)||/windows phone/i.test(t)||$2(t)}function W2(t,e=[]){let n;switch(t){case"Browser":n=U2(Ct());break;case"Worker":n=`${U2(Ct())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Js}/${r}`}function K2(t,e){return GD.apply(this,arguments)}function GD(){return(GD=g(function*(t,e){return Ze(t,"GET","/v2/recaptchaConfig",qe(t,e))})).apply(this,arguments)}function Y2(t){return void 0!==t&&void 0!==t.enterprise}class J2{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function zD(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Hn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function Cse(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function X2(t){return`__${t}${Math.floor(1e6*Math.random())}`}class Z2{constructor(e){this.type="recaptcha-enterprise",this.auth=Tt(e)}verify(e="verify",n=!1){var r=this;return g(function*(){function s(){return s=g(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=g(function*(c,l){K2(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new J2(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;Y2(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&Y2(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));zD("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}function rs(t,e,n){return qD.apply(this,arguments)}function qD(){return(qD=g(function*(t,e,n,r=!1){const i=new Z2(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}class Ase{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return g(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Mse{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eV(this),this.idTokenSubscription=new eV(this),this.beforeStateQueue=new Ase(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Ci(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Ya.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield Cl(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function sse(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?vt(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return g(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(Ci(e))}))}initializeRecaptchaConfig(){var e=this;return g(function*(){const n=yield K2(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new J2(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new Z2(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ur("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&Ci(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield Ya.create(n,[Ci(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=W2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return g(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function rse(t,...e){Pp.logLevel<=fe.WARN&&Pp.warn(`Auth (${Js}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Tt(t){return vt(t)}class eV{constructor(e){this.auth=e,this.observer=null,this.addObserver=function FZ(t,e){const n=new LZ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function tV(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nV(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class WD{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $r("not implemented")}_getIdTokenResponse(e){return $r("not implemented")}_linkToIdToken(e,n){return $r("not implemented")}_getReauthenticationResolver(e){return $r("not implemented")}}function iV(t,e){return QD.apply(this,arguments)}function QD(){return(QD=g(function*(t,e){return Ze(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function JD(t,e){return XD.apply(this,arguments)}function XD(){return(XD=g(function*(t,e){return Ei(t,"POST","/v1/accounts:signInWithPassword",qe(t,e))})).apply(this,arguments)}function oC(){return(oC=g(function*(t,e){return Ei(t,"POST","/v1/accounts:signInWithEmailLink",qe(t,e))})).apply(this,arguments)}function aC(){return(aC=g(function*(t,e){return Ei(t,"POST","/v1/accounts:signInWithEmailLink",qe(t,e))})).apply(this,arguments)}class Tl extends WD{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Tl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Tl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return g(function*(){var r;switch(n.signInMethod){case"password":const i={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const s=yield rs(e,i,"signInWithPassword");return JD(e,s)}return JD(e,i).catch(function(){var s=g(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield rs(e,i,"signInWithPassword");return JD(e,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}());case"emailLink":return function Vse(t,e){return oC.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Rn(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return g(function*(){switch(r.signInMethod){case"password":return iV(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Use(t,e){return aC.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Rn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function bi(t,e){return uC.apply(this,arguments)}function uC(){return(uC=g(function*(t,e){return Ei(t,"POST","/v1/accounts:signInWithIdp",qe(t,e))})).apply(this,arguments)}class Ja extends WD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ja(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Rn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Jd(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ja(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return bi(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,bi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bi(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hl(n)}return e}}class Al{constructor(e){var n,r,i,s,o,a;const u=fl(pl(e)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function qse(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);A(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function Wse(t){const e=fl(pl(t)).link,n=e?fl(pl(e)).deep_link_id:null,r=fl(pl(t)).deep_link_id;return(r?fl(pl(r)).link:null)||r||n||e||t}(e);try{return new Al(n)}catch{return null}}}let sV=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Tl._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Al.parseLink(r);return A(i,"argument-error"),Tl._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class is{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class oV extends is{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let Kse=(()=>{class t extends oV{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Ja._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();function $p(t,e){return pC.apply(this,arguments)}function pC(){return(pC=g(function*(t,e){return Ei(t,"POST","/v1/accounts:signUp",qe(t,e))})).apply(this,arguments)}class ir{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield io._fromIdTokenResponse(e,r,i),o=aV(r);return new ir({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=aV(r);return new ir({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function aV(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Hp extends rr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Hp.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Hp(e,n,r,i)}}function uV(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Hp._fromErrorAndOperation(t,s,e,r):s})}function _C(){return(_C=g(function*(t,e,n=!1){const r=yield Di(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ir._forOperation(t,"link",r)})).apply(this,arguments)}function wC(){return(wC=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Di(t,uV(r,i,e,t),n);A(s.idToken,r,"internal-error");const o=Lp(s.idToken);A(o,r,"internal-error");const{sub:a}=o;return A(t.uid===a,r,"user-mismatch"),ir._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Rn(r,"user-mismatch"),s}})).apply(this,arguments)}function dV(t,e){return IC.apply(this,arguments)}function IC(){return(IC=g(function*(t,e,n=!1){const r="signIn",i=yield uV(t,r,e),s=yield ir._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function DC(){return(DC=g(function*(t,e){return dV(Tt(t),e)})).apply(this,arguments)}function toe(t,e,n){return FC.apply(this,arguments)}function FC(){return FC=g(function*(t,e,n){var r;const i=Tt(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const c=yield rs(i,s,"signUpPassword");o=$p(i,c)}else o=$p(i,s).catch(function(){var c=g(function*(l){if("auth/missing-recaptcha-token"===l.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield rs(i,s,"signUpPassword");return $p(i,d)}return Promise.reject(l)});return function(l){return c.apply(this,arguments)}}());const a=yield o.catch(c=>Promise.reject(c)),u=yield ir._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(u.user),u}),FC.apply(this,arguments)}function noe(t,e,n){return function EC(t,e){return DC.apply(this,arguments)}(vt(t),sV.credential(e,n))}function fV(t,e,n,r){return vt(t).onIdTokenChanged(e,n,r)}function doe(t){return vt(t).signOut()}const zp="__sak";class pV{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zp,"1"),this.storage.removeItem(zp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const voe=(()=>{class t extends pV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function moe(){const t=Ct();return $D(t)||Up(t)}()&&function Ese(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=q2(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Ise(){return function NZ(){const t=Ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),gV=(()=>{class t extends pV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let Ioe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function woe(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function qp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class Eoe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=qp("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function dt(){return window}function JC(){return typeof dt().WorkerGlobalScope<"u"&&"function"==typeof dt().importScripts}function XC(){return(XC=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const mV="firebaseLocalStorageDb",Wp="firebaseLocalStorage",yV="fbase_key";class xl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kp(t,e){return t.transaction([Wp],e?"readwrite":"readonly").objectStore(Wp)}function ZC(){const t=indexedDB.open(mV,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Wp,{keyPath:yV})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(Wp)?e(r):(r.close(),yield function Aoe(){const t=indexedDB.deleteDatabase(mV);return new xl(t).toPromise()}(),e(yield ZC()))}))})}function _V(t,e,n){return eb.apply(this,arguments)}function eb(){return(eb=g(function*(t,e,n){const r=Kp(t,!0).put({[yV]:e,value:n});return new xl(r).toPromise()})).apply(this,arguments)}function tb(){return(tb=g(function*(t,e){const n=Kp(t,!1).get(e),r=yield new xl(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function vV(t,e){const n=Kp(t,!0).delete(e);return new xl(n).toPromise()}const Roe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield ZC()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return JC()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=Ioe._getInstance(function Toe(){return JC()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function Coe(){return XC.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new Eoe(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function boe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield ZC();return yield _V(n,zp,"1"),yield vV(n,zp),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>_V(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function Moe(t,e){return tb.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>vV(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=Kp(o,!1).getAll();return new xl(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function oo(t,e){return e?Ci(e):(A(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}X2("rcb"),new Il(3e4,6e4);class lb extends WD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Koe(t){return dV(t.auth,new lb(t),t.bypassAuthState)}function Qoe(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),function lV(t,e){return wC.apply(this,arguments)}(n,new lb(t),t.bypassAuthState)}function Yoe(t){return db.apply(this,arguments)}function db(){return(db=g(function*(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),function yC(t,e){return _C.apply(this,arguments)}(n,new lb(t),t.bypassAuthState)})).apply(this,arguments)}class IV{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Koe;case"linkViaPopup":case"linkViaRedirect":return Yoe;case"reauthViaPopup":case"reauthViaRedirect":return Qoe;default:Rn(this.auth,"internal-error")}}resolve(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Joe=new Il(2e3,1e4);function Xoe(t,e,n){return hb.apply(this,arguments)}function hb(){return(hb=g(function*(t,e,n){const r=Tt(t);!function Qa(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&Rn(t,"argument-error"),N2(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,is);const i=oo(r,n);return new gb(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let gb=(()=>{class t extends IV{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return g(function*(){const r=yield n.execute();return A(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return g(function*(){Ii(1===n.filter.length,"Popup operations only handle one event");const r=qp();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(Hn(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(Hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Hn(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,Joe.get())};n()}}return t.currentPopupAction=null,t})();const Zoe="pendingRedirect",Nl=new Map;class eae extends IV{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=Nl.get(n.auth._key());if(!r){try{const s=(yield function tae(t,e){return mb.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Nl.set(n.auth._key(),r)}return n.bypassAuthState||Nl.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function mb(){return(mb=g(function*(t,e){const n=function DV(t){return Vp(Zoe,t.config.apiKey,t.name)}(e),r=function EV(t){return Ci(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function nae(t,e){Nl.set(t._key(),e)}function CV(t,e){return Db.apply(this,arguments)}function Db(){return(Db=g(function*(t,e,n=!1){const r=Tt(t),i=oo(r,e),o=yield new eae(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class aae{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function uae(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SV(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!SV(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(TV(e))}saveEventToCache(e){this.cachedEventUids.add(TV(e)),this.lastProcessedEventTime=Date.now()}}function TV(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function SV({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function bb(){return(bb=g(function*(t,e={}){return Ze(t,"GET","/v1/projects",e)})).apply(this,arguments)}const lae=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dae=/^https?/;function Tb(){return Tb=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function cae(t){return bb.apply(this,arguments)}(t);for(const n of e)try{if(fae(n))return}catch{}Rn(t,"unauthorized-domain")}),Tb.apply(this,arguments)}function fae(t){const e=wl(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!dae.test(n))return!1;if(lae.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const pae=new Il(3e4,6e4);function AV(){const t=dt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Yp=null;const yae=new Il(5e3,15e3),_ae="__/auth/iframe",vae="emulator/auth/iframe",wae={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Iae=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Eae(t){const e=t.config;A(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?MD(e,vae):`https://${t.config.authDomain}/${_ae}`,r={apiKey:e.apiKey,appName:t.name,v:Js},i=Iae.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${hl(r).slice(1)}`}function Sb(){return Sb=g(function*(t){const e=yield function mae(t){return Yp=Yp||function gae(t){return new Promise((e,n)=>{var r,i,s;function o(){AV(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{AV(),n(Hn(t,"network-request-failed"))},timeout:pae.get()})}if(null!==(i=null===(r=dt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=dt().gapi)||void 0===s||!s.load){const a=X2("iframefcb");return dt()[a]=()=>{gapi.load?o():n(Hn(t,"network-request-failed"))},zD(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw Yp=null,e})}(t),Yp}(t),n=dt().gapi;return A(n,t,"internal-error"),e.open({where:document.body,url:Eae(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wae,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Hn(t,"network-request-failed"),u=dt().setTimeout(()=>{o(a)},yae.get());function c(){dt().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),Sb.apply(this,arguments)}const Cae={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class MV{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Nae="__/auth/handler",Rae="emulator/auth/handler",kae=encodeURIComponent("fac");function xV(t,e,n,r,i,s){return Ab.apply(this,arguments)}function Ab(){return(Ab=g(function*(t,e,n,r,i,s){A(t.config.authDomain,t,"auth-domain-config-required"),A(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Js,eventId:i};if(e instanceof is){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function PZ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof oV){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield t._getAppCheckToken(),c=u?`#${kae}=${encodeURIComponent(u)}`:"";return`${function Oae({config:t}){return t.emulator?MD(t,Rae):`https://${t.authDomain}/${Nae}`}(t)}?${hl(a).slice(1)}${c}`})).apply(this,arguments)}const Mb="webStorageSupport",Fae=class Pae{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gV,this._completeRedirectFn=CV,this._overrideRedirectResult=nae}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;Ii(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield xV(e,n,r,wl(),i);return function Mae(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Cae),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Ct().toLowerCase();n&&(a=j2(c)?"_blank":n),B2(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function wse(t=Ct()){var e;return Up(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function xae(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new MV(null);const d=window.open(e||"",a,l);A(d,t,"popup-blocked");try{d.focus()}catch{}return new MV(d)}(e,a,qp())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function Doe(t){dt().location.href=t}(yield xV(e,n,r,wl(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ii(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function Dae(t){return Sb.apply(this,arguments)}(e),i=new aae(e);return r.register("authEvent",s=>(A(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mb,{type:Mb},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[Mb];void 0!==o&&n(!!o),Rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function hae(t){return Tb.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return q2()||$D()||Up()}};var kV="@firebase/auth";class Lae{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const jae=LF("authIdTokenMaxAge")||300;let PV=null;const $ae=t=>function(){var e=g(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>jae)return;const s=r?.token;PV!==s&&(PV=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Hae(t=Zw()){const e=Ha(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function xse(t,e){const n=Ha(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(yp(n.getOptions(),e??{}))return i;Rn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Fae,persistence:[Roe,voe,gV]}),r=LF("authTokenSyncURL");if(r){const s=$ae(r);(function loe(t,e,n){vt(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),fV(n,o=>s(o))}const i=PF("auth");return i&&function Rse(t,e,n){const r=Tt(t);A(r._canInitEmulator,r,"emulator-config-failed"),A(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=tV(e),{host:o,port:a}=function kse(t){const e=tV(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:nV(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:nV(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Ose(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function FV(t){return new je(function(e){return{unsubscribe:fV(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}!function Uae(t){yn(new Xt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;A(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:W2(t)},c=new Mse(r,i,s,u);return function Nse(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ci);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),yn(new Xt("auth-internal",e=>{const n=Tt(e.getProvider("auth").getImmediate());return new Lae(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Je(kV,"0.23.2",function Vae(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Je(kV,"0.23.2","esm2017")}("Browser");class Rl{constructor(e){return e}}class VV{constructor(){return tD("auth")}}const Nb=new V("angularfire2.auth-instances");function zae(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Rl(r)}}const qae={provide:VV,deps:[[new fn,Nb]]},Wae={provide:Rl,useFactory:function Gae(t,e){const n=eD("auth",t,e);return n&&new Rl(n)},deps:[[new fn,Nb],Wa]};let Kae=(()=>{class t{constructor(){Je("angularfire",Sp.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=an({type:t}),t.\u0275inj=qt({providers:[Wae,qae]}),t})();function Qae(t,...e){return{ngModule:Kae,providers:[{provide:Nb,useFactory:zae(t),multi:!0,deps:[we,Qt,nD,rD,[new fn,bD],...e]}]}}const Yae=vn(FV,!0),Jae=vn(toe,!0),Xae=vn(Hae,!0),Zae=vn(noe,!0),eue=vn(Xoe,!0),tue=vn(doe,!0);var N,nue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vr={},Rb=Rb||{},Z=nue||self;function Xp(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function kl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var kb="closure_uid_"+(1e9*Math.random()>>>0),iue=0;function sue(t,e,n){return t.call.apply(t.bind,arguments)}function oue(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Zt(t,e,n){return(Zt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sue:oue).apply(null,arguments)}function Zp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function St(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ss(){this.s=this.s,this.o=this.o}ss.prototype.s=!1,ss.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function rue(t){Object.prototype.hasOwnProperty.call(t,kb)&&t[kb]||(t[kb]=++iue)}(this)},ss.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const UV=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Ob(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function BV(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Xp(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function en(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}en.prototype.h=function(){this.defaultPrevented=!0};var uue=function(){if(!Z.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Z.addEventListener("test",()=>{},e),Z.removeEventListener("test",()=>{},e)}catch{}return t}();function Ol(t){return/^[\s\xa0]*$/.test(t)}function eg(){var t=Z.navigator;return t&&(t=t.userAgent)?t:""}function Hr(t){return-1!=eg().indexOf(t)}function Pb(t){return Pb[" "](t),t}Pb[" "]=function(){};var Lb,t,lue=Hr("Opera"),Za=Hr("Trident")||Hr("MSIE"),jV=Hr("Edge"),Fb=jV||Za,$V=Hr("Gecko")&&!(-1!=eg().toLowerCase().indexOf("webkit")&&!Hr("Edge"))&&!(Hr("Trident")||Hr("MSIE"))&&!Hr("Edge"),due=-1!=eg().toLowerCase().indexOf("webkit")&&!Hr("Edge");function HV(){var t=Z.document;return t?t.documentMode:void 0}e:{var Vb="",Ub=(t=eg(),$V?/rv:([^\);]+)(\)|;)/.exec(t):jV?/Edge\/([\d\.]+)/.exec(t):Za?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):due?/WebKit\/(\S+)/.exec(t):lue?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(Ub&&(Vb=Ub?Ub[1]:""),Za){var Bb=HV();if(null!=Bb&&Bb>parseFloat(Vb)){Lb=String(Bb);break e}}Lb=Vb}var hue=Z.document&&Za&&(HV()||parseInt(Lb,10))||void 0;function Pl(t,e){if(en.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if($V){e:{try{Pb(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:fue[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Pl.$.h.call(this)}}St(Pl,en);var fue={2:"touch",3:"pen",4:"mouse"};Pl.prototype.h=function(){Pl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Fl="closure_listenable_"+(1e6*Math.random()|0),pue=0;function gue(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++pue,this.fa=this.ia=!1}function tg(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function $b(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function zV(t){const e={};for(const n in t)e[n]=t[n];return e}const qV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function WV(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<qV.length;s++)n=qV[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ng(t){this.src=t,this.g={},this.h=0}function Hb(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=UV(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(tg(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Gb(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}ng.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=Gb(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new gue(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var zb="closure_lm_"+(1e6*Math.random()|0),qb={};function KV(t,e,n,r,i){if(r&&r.once)return YV(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)KV(t,e[s],n,r,i);return null}return n=Yb(n),t&&t[Fl]?t.O(e,n,kl(r)?!!r.capture:!!r,i):QV(t,e,n,!1,r,i)}function QV(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=kl(i)?!!i.capture:!!i,a=Kb(t);if(a||(t[zb]=a=new ng(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function yue(){const e=_ue;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)uue||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(XV(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function YV(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)YV(t,e[s],n,r,i);return null}return n=Yb(n),t&&t[Fl]?t.P(e,n,kl(r)?!!r.capture:!!r,i):QV(t,e,n,!0,r,i)}function JV(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)JV(t,e[s],n,r,i);else r=kl(r)?!!r.capture:!!r,n=Yb(n),t&&t[Fl]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Gb(s=t.g[e],n,r,i))&&(tg(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=Kb(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Gb(e,n,r,i)),(n=-1<t?e[t]:null)&&Wb(n))}function Wb(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Fl])Hb(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(XV(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Kb(e))?(Hb(n,t),0==n.h&&(n.src=null,e[zb]=null)):tg(t)}}}function XV(t){return t in qb?qb[t]:qb[t]="on"+t}function _ue(t,e){if(t.fa)t=!0;else{e=new Pl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Wb(t),t=n.call(r,e)}return t}function Kb(t){return(t=t[zb])instanceof ng?t:null}var Qb="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yb(t){return"function"==typeof t?t:(t[Qb]||(t[Qb]=function(e){return t.handleEvent(e)}),t[Qb])}function At(){ss.call(this),this.i=new ng(this),this.S=this,this.J=null}function jt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new en(e,t);else if(e instanceof en)e.target=e.target||t;else{var i=e;WV(e=new en(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=rg(o,r,!0,e)&&i}if(i=rg(o=e.g=t,r,!0,e)&&i,i=rg(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=rg(o=e.g=n[s],r,!1,e)&&i}function rg(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&Hb(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}St(At,ss),At.prototype[Fl]=!0,At.prototype.removeEventListener=function(t,e,n,r){JV(this,t,e,n,r)},At.prototype.N=function(){if(At.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)tg(n[r]);delete t.g[e],t.h--}}this.J=null},At.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},At.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Jb=Z.JSON.stringify;function wue(){var t=Xb;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var ZV=new class vue{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Eue,t=>t.reset());class Eue{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Due(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Cue(t){Z.setTimeout(()=>{throw t},0)}let Ll,Vl=!1,Xb=new class Iue{constructor(){this.h=this.g=null}add(e,n){const r=ZV.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},eU=()=>{const t=Z.Promise.resolve(void 0);Ll=()=>{t.then(bue)}};var bue=()=>{for(var t;t=wue();){try{t.h.call(t.g)}catch(n){Cue(n)}var e=ZV;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Vl=!1};function ig(t,e){At.call(this),this.h=t||1,this.g=e||Z,this.j=Zt(this.qb,this),this.l=Date.now()}function Zb(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function e0(t,e,n){if("function"==typeof t)n&&(t=Zt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Zt(t.handleEvent,t)}return 2147483647<Number(e)?-1:Z.setTimeout(t,e||0)}function tU(t){t.g=e0(()=>{t.g=null,t.i&&(t.i=!1,tU(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}St(ig,At),(N=ig.prototype).ga=!1,N.T=null,N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),jt(this,"tick"),this.ga&&(Zb(this),this.start()))}},N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.N=function(){ig.$.N.call(this),Zb(this),delete this.g};class Tue extends ss{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:tU(this)}N(){super.N(),this.g&&(Z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ul(t){ss.call(this),this.h=t,this.g={}}St(Ul,ss);var nU=[];function rU(t,e,n,r){Array.isArray(n)||(n&&(nU[0]=n.toString()),n=nU);for(var i=0;i<n.length;i++){var s=KV(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function iU(t){$b(t.g,function(e,n){this.g.hasOwnProperty(n)&&Wb(e)},t),t.g={}}function sg(){this.g=!0}function eu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function xue(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Jb(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Ul.prototype.N=function(){Ul.$.N.call(this),iU(this)},Ul.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},sg.prototype.Ea=function(){this.g=!1},sg.prototype.info=function(){};var ao={},sU=null;function og(){return sU=sU||new At}function oU(t){en.call(this,ao.Ta,t)}function Bl(t){const e=og();jt(e,new oU(e))}function aU(t,e){en.call(this,ao.STAT_EVENT,t),this.stat=e}function wn(t){const e=og();jt(e,new aU(e,t))}function uU(t,e){en.call(this,ao.Ua,t),this.size=e}function jl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Z.setTimeout(function(){t()},e)}ao.Ta="serverreachability",St(oU,en),ao.STAT_EVENT="statevent",St(aU,en),ao.Ua="timingevent",St(uU,en);var ag={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},cU={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function t0(){}function dU(){}t0.prototype.h=null;var s0,$l={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function n0(){en.call(this,"d")}function r0(){en.call(this,"c")}function ug(){}function Hl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ul(this),this.P=Nue,this.V=new ig(t=Fb?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new hU}function hU(){this.i=null,this.g="",this.h=!1}St(n0,en),St(r0,en),St(ug,t0),ug.prototype.g=function(){return new XMLHttpRequest},ug.prototype.i=function(){return{}},s0=new ug;var Nue=45e3,o0={},cg={};function a0(t,e,n){t.L=1,t.v=fg(Ti(e)),t.s=n,t.S=!0,fU(t,null)}function fU(t,e){t.G=Date.now(),Gl(t),t.A=Ti(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),DU(n.i,"t",r),t.C=0,n=t.l.J,t.h=new hU,t.g=WU(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Tue(Zt(t.Pa,t,t.g),t.O)),rU(t.U,t.g,"readystatechange",t.nb),e=t.I?zV(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Bl(),function Sue(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function pU(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function gU(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Rue(t,n),i==cg){4==e&&(t.o=4,wn(14),r=!1),eu(t.j,t.m,null,"[Incomplete Response]");break}if(i==o0){t.o=4,wn(15),eu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}eu(t.j,t.m,i,null),u0(t,i)}pU(t)&&i!=cg&&i!=o0&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,wn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),g0(e),e.M=!0,wn(11))):(eu(t.j,t.m,n,"[Invalid Chunked Response]"),uo(t),zl(t))}function Rue(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?cg:(n=Number(e.substring(n,r)),isNaN(n)?o0:(r+=1)+n>e.length?cg:(e=e.slice(r,r+n),t.C=r+n,e))}function Gl(t){t.Y=Date.now()+t.P,mU(t,t.P)}function mU(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=jl(Zt(t.lb,t),e)}function lg(t){t.B&&(Z.clearTimeout(t.B),t.B=null)}function zl(t){0==t.l.H||t.J||HU(t.l,t)}function uo(t){lg(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,Zb(t.V),iU(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function u0(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||c0(n.i,t)))if(!t.K&&c0(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;vg(n),yg(n)}p0(n),wn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=jl(Zt(n.ib,n),6e3));if(1>=TU(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else lo(n,11)}else if((t.K||n.g==t)&&vg(n),!Ol(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(l0(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,Le(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=qU(r,r.J?r.pa:null,r.Y),o.K){SU(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(lg(a),Gl(a)),r.g=o}else jU(r);0<n.j.length&&_g(n)}else"stop"!=c[0]&&"close"!=c[0]||lo(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?lo(n,7):f0(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Bl()}catch{}}function yU(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Xp(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Oue(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Xp(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function kue(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Xp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(N=Hl.prototype).setTimeout=function(t){this.P=t},N.nb=function(t){t=t.target;const e=this.M;e&&3==Gr(t)?e.l():this.Pa(t)},N.Pa=function(t){try{if(t==this.g)e:{const l=Gr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||Fb||this.g&&(this.h.h||this.g.ja()||PU(this.g)))){this.J||4!=l||7==e||Bl(),lg(this);var n=this.g.da();this.ca=n;t:if(pU(this)){var r=PU(this.g);t="";var i=r.length,s=4==Gr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){uo(this),zl(this);var o="";break t}this.h.i=new Z.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function Aue(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ol(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,wn(12),uo(this),zl(this);break e}eu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,u0(this,n)}this.S?(gU(this,l,o),Fb&&this.i&&3==l&&(rU(this.U,this.V,"tick",this.mb),this.V.start())):(eu(this.j,this.m,o,null),u0(this,o)),4==l&&uo(this),this.i&&!this.J&&(4==l?HU(this.l,this):(this.i=!1,Gl(this)))}else(function Xue(t){const e={};t=(t.g&&2<=Gr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Ol(t[r]))continue;var n=Due(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function mue(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,wn(12)):(this.o=0,wn(13)),uo(this),zl(this)}}}catch{}},N.mb=function(){if(this.g){var t=Gr(this.g),e=this.g.ja();this.C<e.length&&(lg(this),gU(this,t,e),this.i&&4!=t&&Gl(this))}},N.cancel=function(){this.J=!0,uo(this)},N.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Mue(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Bl(),wn(17)),uo(this),this.o=2,zl(this)):mU(this,this.Y-t)};var _U=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function co(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof co){this.h=t.h,dg(this,t.j),this.s=t.s,this.g=t.g,hg(this,t.m),this.l=t.l;var e=t.i,n=new Kl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),vU(this,n),this.o=t.o}else t&&(e=String(t).match(_U))?(this.h=!1,dg(this,e[1]||"",!0),this.s=ql(e[2]||""),this.g=ql(e[3]||"",!0),hg(this,e[4]),this.l=ql(e[5]||"",!0),vU(this,e[6]||"",!0),this.o=ql(e[7]||"")):(this.h=!1,this.i=new Kl(null,this.h))}function Ti(t){return new co(t)}function dg(t,e,n){t.j=n?ql(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function hg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function vU(t,e,n){e instanceof Kl?(t.i=e,function jue(t,e){e&&!t.j&&(os(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(IU(this,r),DU(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Wl(e,Uue)),t.i=new Kl(e,t.h))}function Le(t,e,n){t.i.set(e,n)}function fg(t){return Le(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ql(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Wl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Fue),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Fue(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}co.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Wl(e,wU,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Wl(e,wU,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Wl(n,"/"==n.charAt(0)?Vue:Lue,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Wl(n,Bue)),t.join("")};var wU=/[#\/\?@]/g,Lue=/[#\?:]/g,Vue=/[#\?]/g,Uue=/[#\?@]/g,Bue=/#/g;function Kl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function os(t){t.g||(t.g=new Map,t.h=0,t.i&&function Pue(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function IU(t,e){os(t),e=tu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function EU(t,e){return os(t),e=tu(t,e),t.g.has(e)}function DU(t,e,n){IU(t,e),0<n.length&&(t.i=null,t.g.set(tu(t,e),Ob(n)),t.h+=n.length)}function tu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function CU(t){this.l=t||Hue,t=Z.PerformanceNavigationTiming?0<(t=Z.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Z.g&&Z.g.Ka&&Z.g.Ka()&&Z.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=Kl.prototype).add=function(t,e){os(this),this.i=null,t=tu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){os(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},N.ta=function(){os(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},N.Z=function(t){os(this);let e=[];if("string"==typeof t)EU(this,t)&&(e=e.concat(this.g.get(tu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},N.set=function(t,e){return os(this),this.i=null,EU(this,t=tu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Hue=10;function bU(t){return!!t.h||!!t.g&&t.g.size>=t.j}function TU(t){return t.h?1:t.g?t.g.size:0}function c0(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function l0(t,e){t.g?t.g.add(e):t.h=e}function SU(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function AU(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Ob(t.i)}CU.prototype.cancel=function(){if(this.i=AU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Gue=class{stringify(t){return Z.JSON.stringify(t,void 0)}parse(t){return Z.JSON.parse(t,void 0)}};function zue(){this.g=new Gue}function que(t,e,n){const r=n||"";try{yU(t,function(i,s){let o=i;kl(i)&&(o=Jb(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function pg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ql(t){this.l=t.fc||null,this.j=t.ob||!1}function gg(t,e){At.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=d0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}St(Ql,t0),Ql.prototype.g=function(){return new gg(this.l,this.j)},Ql.prototype.i=function(t){return function(){return t}}({}),St(gg,At);var d0=0;function MU(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Yl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Jl(t)}function Jl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=gg.prototype).open=function(t,e){if(this.readyState!=d0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Jl(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Z).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yl(this)),this.readyState=d0},N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Jl(this)),this.g&&(this.readyState=3,Jl(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Z.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;MU(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Yl(this):Jl(this),3==this.readyState&&MU(this)}},N.Za=function(t){this.g&&(this.response=this.responseText=t,Yl(this))},N.Ya=function(t){this.g&&(this.response=t,Yl(this))},N.ka=function(){this.g&&Yl(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(gg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Kue=Z.JSON.parse;function et(t){At.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=xU,this.L=this.M=!1}St(et,At);var xU="",Que=/^https?$/i,Yue=["POST","PUT"];function NU(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,RU(t),mg(t)}function RU(t){t.F||(t.F=!0,jt(t,"complete"),jt(t,"error"))}function kU(t){if(t.h&&typeof Rb<"u"&&(!t.C[1]||4!=Gr(t)||2!=t.da()))if(t.v&&4==Gr(t))e0(t.La,0,t);else if(jt(t,"readystatechange"),4==Gr(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(_U)[1]||null;!i&&Z.self&&Z.self.location&&(i=Z.self.location.protocol.slice(0,-1)),r=!Que.test(i?i.toLowerCase():"")}n=r}if(n)jt(t,"complete"),jt(t,"success");else{t.m=6;try{var s=2<Gr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",RU(t)}}finally{mg(t)}}}function mg(t,e){if(t.g){OU(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||jt(t,"ready");try{n.onreadystatechange=r}catch{}}}function OU(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Z.clearTimeout(t.A),t.A=null)}function Gr(t){return t.g?t.g.readyState:0}function PU(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case xU:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function FU(t){let e="";return $b(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function h0(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=FU(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Le(t,e,n))}function Xl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function LU(t){this.Ga=0,this.j=[],this.l=new sg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Xl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Xl("baseRetryDelayMs",5e3,t),this.hb=Xl("retryDelaySeedMs",1e4,t),this.eb=Xl("forwardChannelMaxRetries",2,t),this.xa=Xl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new CU(t&&t.concurrentRequestLimit),this.Ja=new zue,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function f0(t){if(VU(t),3==t.H){var e=t.W++,n=Ti(t.I);if(Le(n,"SID",t.K),Le(n,"RID",e),Le(n,"TYPE","terminate"),Zl(t,n),(e=new Hl(t,t.l,e)).L=2,e.v=fg(Ti(n)),n=!1,Z.navigator&&Z.navigator.sendBeacon)try{n=Z.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Z.Image&&((new Image).src=e.v,n=!0),n||(e.g=WU(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Gl(e)}zU(t)}function yg(t){t.g&&(g0(t),t.g.cancel(),t.g=null)}function VU(t){yg(t),t.u&&(Z.clearTimeout(t.u),t.u=null),vg(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Z.clearTimeout(t.m),t.m=null)}function _g(t){if(!bU(t.i)&&!t.m){t.m=!0;var e=t.Na;Ll||eU(),Vl||(Ll(),Vl=!0),Xb.add(e,t),t.C=0}}function UU(t,e){var n;n=e?e.m:t.W++;const r=Ti(t.I);Le(r,"SID",t.K),Le(r,"RID",n),Le(r,"AID",t.V),Zl(t,r),t.o&&t.s&&h0(r,t.o,t.s),n=new Hl(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=BU(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),l0(t.i,n),a0(n,r,e)}function Zl(t,e){t.na&&$b(t.na,function(n,r){Le(e,r,n)}),t.h&&yU({},function(n,r){Le(e,r,n)})}function BU(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Zt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{que(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function jU(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ll||eU(),Vl||(Ll(),Vl=!0),Xb.add(e,t),t.A=0}}function p0(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=jl(Zt(t.Ma,t),GU(t,t.A)),t.A++,0))}function g0(t){null!=t.B&&(Z.clearTimeout(t.B),t.B=null)}function $U(t){t.g=new Hl(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Ti(t.wa);Le(e,"RID","rpc"),Le(e,"SID",t.K),Le(e,"AID",t.V),Le(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Le(e,"TO",t.qa),Le(e,"TYPE","xmlhttp"),Zl(t,e),t.o&&t.s&&h0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=fg(Ti(e)),n.s=null,n.S=!0,fU(n,t)}function vg(t){null!=t.v&&(Z.clearTimeout(t.v),t.v=null)}function HU(t,e){var n=null;if(t.g==e){vg(t),g0(t),t.g=null;var r=2}else{if(!c0(t.i,e))return;n=e.F,SU(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;jt(r=og(),new uU(r,n)),_g(t)}else jU(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Zue(t,e){return!(TU(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=jl(Zt(t.Na,t,e),GU(t,t.C)),t.C++,0)))}(t,e)||2==r&&p0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:lo(t,5);break;case 4:lo(t,10);break;case 3:lo(t,6);break;default:lo(t,2)}}function GU(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function lo(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Zt(t.pb,t);n||(n=new co("//www.google.com/images/cleardot.gif"),Z.location&&"http"==Z.location.protocol||dg(n,"https"),fg(n)),function Wue(t,e){const n=new sg;if(Z.Image){const r=new Image;r.onload=Zp(pg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Zp(pg,n,r,"TestLoadImage: error",!1,e),r.onabort=Zp(pg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Zp(pg,n,r,"TestLoadImage: timeout",!1,e),Z.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else wn(2);t.H=0,t.h&&t.h.za(e),zU(t),VU(t)}function zU(t){if(t.H=0,t.ma=[],t.h){const e=AU(t.i);(0!=e.length||0!=t.j.length)&&(BV(t.ma,e),BV(t.ma,t.j),t.i.i.length=0,Ob(t.j),t.j.length=0),t.h.ya()}}function qU(t,e,n){var r=n instanceof co?Ti(n):new co(n);if(""!=r.g)e&&(r.g=e+"."+r.g),hg(r,r.m);else{var i=Z.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new co(null);r&&dg(s,r),e&&(s.g=e),i&&hg(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Le(r,n,e),Le(r,"VER",t.ra),Zl(t,r),r}function WU(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new et(n&&t.Ha&&!t.va?new Ql({ob:!0}):t.va)).Oa(t.J),e}function KU(){}function wg(){if(Za&&!(10<=Number(hue)))throw Error("Environmental error: no available transport.")}function Gn(t,e){At.call(this),this.g=new LU(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ol(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ol(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new nu(this)}function QU(t){n0.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function YU(){r0.call(this),this.status=1}function nu(t){this.g=t}function wr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function m0(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Ce(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(N=et.prototype).Oa=function(t){this.M=t},N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():s0.g(),this.C=function lU(t){return t.h||(t.h=t.i())}(this.u?this.u:s0),this.g.onreadystatechange=Zt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void NU(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=Z.FormData&&t instanceof Z.FormData,!(0<=UV(Yue,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{OU(this),0<this.B&&((this.L=function Jue(t){return Za&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zt(this.ua,this)):this.A=e0(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){NU(this,s)}},N.ua=function(){typeof Rb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jt(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,jt(this,"complete"),jt(this,"abort"),mg(this))},N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),mg(this,!0)),et.$.N.call(this)},N.La=function(){this.s||(this.G||this.v||this.l?kU(this):this.kb())},N.kb=function(){kU(this)},N.isActive=function(){return!!this.g},N.da=function(){try{return 2<Gr(this)?this.g.status:-1}catch{return-1}},N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Kue(e)}},N.Ia=function(){return this.m},N.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=LU.prototype).ra=8,N.H=1,N.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Hl(this,this.l,t);let s=this.s;if(this.U&&(s?(s=zV(s),WV(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=BU(this,i,e),Le(n=Ti(this.I),"RID",t),Le(n,"CVER",22),this.F&&Le(n,"X-HTTP-Session-Id",this.F),Zl(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(FU(s)))+"&"+e:this.o&&h0(n,this.o,s)),l0(this.i,i),this.bb&&Le(n,"TYPE","init"),this.P?(Le(n,"$req",e),Le(n,"SID","null"),i.aa=!0,a0(i,n,null)):a0(i,n,e),this.H=2}}else 3==this.H&&(t?UU(this,t):0==this.j.length||bU(this.i)||UU(this))},N.Ma=function(){if(this.u=null,$U(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=jl(Zt(this.jb,this),t)}},N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,wn(10),yg(this),$U(this))},N.ib=function(){null!=this.v&&(this.v=null,yg(this),p0(this),wn(19))},N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),wn(2)):(this.l.info("Failed to ping google.com"),wn(1))},N.isActive=function(){return!!this.h&&this.h.isActive(this)},(N=KU.prototype).Ba=function(){},N.Aa=function(){},N.za=function(){},N.ya=function(){},N.isActive=function(){return!0},N.Va=function(){},wg.prototype.g=function(t,e){return new Gn(t,e)},St(Gn,At),Gn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;wn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=qU(t,null,t.Y),_g(t)},Gn.prototype.close=function(){f0(this.g)},Gn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=Jb(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&_g(e)},Gn.prototype.N=function(){this.g.h=null,delete this.j,f0(this.g),delete this.g,Gn.$.N.call(this)},St(QU,n0),St(YU,r0),St(nu,KU),nu.prototype.Ba=function(){jt(this.g,"a")},nu.prototype.Aa=function(t){jt(this.g,new QU(t))},nu.prototype.za=function(t){jt(this.g,new YU)},nu.prototype.ya=function(){jt(this.g,"b")},St(wr,function ece(){this.blockSize=-1}),wr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},wr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)m0(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){m0(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){m0(this,r),i=0;break}}this.h=i,this.i+=e},wr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var tce={};function y0(t){return-128<=t&&128>t?function cue(t,e){var n=tce;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Ce([0|e],0>e?-1:0)}):new Ce([0|t],0>t?-1:0)}function zr(t){if(isNaN(t)||!isFinite(t))return ru;if(0>t)return $t(zr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=_0;return new Ce(e,0)}var _0=4294967296,ru=y0(0),v0=y0(1),XU=y0(16777216);function Si(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function sr(t){return-1==t.h}function $t(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ce(n,~t.h).add(v0)}function Ig(t,e){return t.add($t(e))}function Eg(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ed(t,e){this.g=t,this.h=e}function Dg(t,e){if(Si(e))throw Error("division by zero");if(Si(t))return new ed(ru,ru);if(sr(t))return e=Dg($t(t),e),new ed($t(e.g),$t(e.h));if(sr(e))return e=Dg(t,$t(e)),new ed($t(e.g),e.h);if(30<t.g.length){if(sr(t)||sr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=v0,r=e;0>=r.X(t);)n=ZU(n),r=ZU(r);var i=iu(n,1),s=iu(r,1);for(r=iu(r,2),n=iu(n,2);!Si(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=iu(r,1),n=iu(n,1)}return e=Ig(t,i.R(e)),new ed(i,e)}for(i=ru;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=zr(n)).R(e);sr(o)||0<o.X(t);)o=(s=zr(n-=r)).R(e);Si(s)&&(s=v0),i=i.add(s),t=Ig(t,o)}return new ed(i,t)}function ZU(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ce(n,t.h)}function iu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ce(i,t.h)}(N=Ce.prototype).ea=function(){if(sr(this))return-$t(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:_0+r)*e,e*=_0}return t},N.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Si(this))return"0";if(sr(this))return"-"+$t(this).toString(t);for(var e=zr(Math.pow(t,6)),n=this,r="";;){var i=Dg(n,e).g,s=((0<(n=Ig(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Si(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},N.X=function(t){return sr(t=Ig(this,t))?-1:Si(t)?0:1},N.abs=function(){return sr(this)?$t(this):this},N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Ce(n,-2147483648&n[n.length-1]?-1:0)},N.R=function(t){if(Si(this)||Si(t))return ru;if(sr(this))return sr(t)?$t(this).R($t(t)):$t($t(this).R(t));if(sr(t))return $t(this.R($t(t)));if(0>this.X(XU)&&0>t.X(XU))return zr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,Eg(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Eg(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Eg(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Eg(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ce(n,0)},N.gb=function(t){return Dg(this,t).h},N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ce(n,this.h&t.h)},N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ce(n,this.h|t.h)},N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ce(n,this.h^t.h)},wg.prototype.createWebChannel=wg.prototype.g,Gn.prototype.send=Gn.prototype.u,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,ag.NO_ERROR=0,ag.TIMEOUT=8,ag.HTTP_ERROR=6,cU.COMPLETE="complete",dU.EventType=$l,$l.OPEN="a",$l.CLOSE="b",$l.ERROR="c",$l.MESSAGE="d",At.prototype.listen=At.prototype.O,et.prototype.listenOnce=et.prototype.P,et.prototype.getLastError=et.prototype.Sa,et.prototype.getLastErrorCode=et.prototype.Ia,et.prototype.getStatus=et.prototype.da,et.prototype.getResponseJson=et.prototype.Wa,et.prototype.getResponseText=et.prototype.ja,et.prototype.send=et.prototype.ha,et.prototype.setWithCredentials=et.prototype.Oa,wr.prototype.digest=wr.prototype.l,wr.prototype.reset=wr.prototype.reset,wr.prototype.update=wr.prototype.j,Ce.prototype.add=Ce.prototype.add,Ce.prototype.multiply=Ce.prototype.R,Ce.prototype.modulo=Ce.prototype.gb,Ce.prototype.compare=Ce.prototype.X,Ce.prototype.toNumber=Ce.prototype.ea,Ce.prototype.toString=Ce.prototype.toString,Ce.prototype.getBits=Ce.prototype.D,Ce.fromNumber=zr,Ce.fromString=function JU(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return $t(JU(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=zr(Math.pow(e,8)),r=ru,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=zr(Math.pow(e,s)),r=r.R(s).add(zr(o))):r=(r=r.R(n)).add(zr(o))}return r};var nce=vr.createWebChannelTransport=function(){return new wg},rce=vr.getStatEventTarget=function(){return og()},w0=vr.ErrorCode=ag,ice=vr.EventType=cU,sce=vr.Event=ao,eB=vr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},oce=vr.FetchXmlHttpFactory=Ql,Cg=vr.WebChannel=dU,ace=vr.XhrIo=et,uce=vr.Md5=wr,su=vr.Integer=Ce;const tB="@firebase/firestore";class Mt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");let ou="9.23.0";const as=new $a("@firebase/firestore");function I0(){return as.logLevel}function S(t,...e){if(as.logLevel<=fe.DEBUG){const n=e.map(E0);as.debug(`Firestore (${ou}): ${t}`,...n)}}function st(t,...e){if(as.logLevel<=fe.ERROR){const n=e.map(E0);as.error(`Firestore (${ou}): ${t}`,...n)}}function Ir(t,...e){if(as.logLevel<=fe.WARN){const n=e.map(E0);as.warn(`Firestore (${ou}): ${t}`,...n)}}function E0(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function P(t="Unexpected state"){const e=`FIRESTORE (${ou}) INTERNAL ASSERTION FAILED: `+t;throw st(e),new Error(e)}function U(t,e){t||P()}function x(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class nB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cce{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class lce{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class dce{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new wt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new wt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new wt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(U("string"==typeof r.accessToken),new nB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return U(null===e||"string"==typeof e),new Mt(e)}}class hce{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class fce{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new hce(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pce{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,S("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(U("string"==typeof n.token),this.T=n.token,new rB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function gce(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class iB{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=gce(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function Y(t,e){return t<e?-1:t>e?1:0}function au(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class We{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new C(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new C(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new C(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new We(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Y(this.nanoseconds,e.nanoseconds):Y(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class j{constructor(e){this.timestamp=e}static fromTimestamp(e){return new j(e)}static min(){return new j(new We(0,0))}static max(){return new j(new We(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class td{constructor(e,n,r){void 0===n?n=0:n>e.length&&P(),void 0===r?r=e.length-n:r>e.length-n&&P(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===td.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof td?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class de extends td{construct(e,n,r){return new de(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new C(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new de(n)}static emptyPath(){return new de([])}}const mce=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends td{construct(e,n,r){return new ot(e,n,r)}static isValidIdentifier(e){return mce.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ot(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new C(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new C(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new C(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ot(n)}static emptyPath(){return new ot([])}}class M{constructor(e){this.path=e}static fromPath(e){return new M(de.fromString(e))}static fromName(e){return new M(de.fromString(e).popFirst(5))}static empty(){return new M(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===de.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return de.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new M(new de(e.slice()))}}function aB(t){return new zn(t.readTime,t.key,-1)}class zn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new zn(j.min(),M.empty(),-1)}static max(){return new zn(j.max(),M.empty(),-1)}}function C0(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=M.comparator(t.documentKey,e.documentKey),0!==n?n:Y(t.largestBatchId,e.largestBatchId))}const uB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vce{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function us(t){return b0.apply(this,arguments)}function b0(){return b0=g(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==uB)throw t;S("LocalStore","Unexpectedly lost primary lease")}),b0.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&P(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new v((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function cs(t){return"IndexedDbTransactionError"===t.name}let qn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function id(t){return null==t}function sd(t){return 0===t&&1/t==-1/0}function yB(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ls(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _B(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Fe{constructor(e,n){this.comparator=e,this.root=n||Ht.EMPTY}insert(e,n){return new Fe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new Fe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mg(this.root,e,this.comparator,!0)}}class Mg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ht.RED,this.left=i??Ht.EMPTY,this.right=s??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ht(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw P();const e=this.left.check();if(e!==this.right.check())throw P();return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1,Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw P()}get value(){throw P()}get color(){throw P()}get left(){throw P()}get right(){throw P()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ht(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vB(this.data.getIterator())}getIteratorFrom(e){return new vB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ve)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ve(this.comparator);return n.data=e,n}}class vB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class kn{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new kn([])}unionWith(e){let n=new Ve(ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return au(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class wB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class It{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new wB("Invalid base64 string: "+i):i}}(e);return new It(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new It(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Y(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}It.EMPTY_BYTE_STRING=new It("");const $ce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(t){if(U(!!t),"string"==typeof t){let e=0;const n=$ce.exec(t);if(U(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ai(t){return"string"==typeof t?It.fromBase64String(t):It.fromUint8Array(t)}function xg(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ng(t){const e=t.mapValue.fields.__previous_value__;return xg(e)?Ng(e):e}function od(t){const e=ds(t.mapValue.fields.__local_write_time__.timestampValue);return new We(e.seconds,e.nanos)}class Hce{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class po{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new po("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof po&&e.projectId===this.projectId&&e.database===this.database}}const hs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xg(t)?4:CB(t)?9007199254740991:10:P()}function Wr(t,e){if(t===e)return!0;const n=fs(t);if(n!==fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return od(t).isEqual(od(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ds(r.timestampValue),o=ds(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Ai(t.bytesValue).isEqual(Ai(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return tt(r.geoPointValue.latitude)===tt(i.geoPointValue.latitude)&&tt(r.geoPointValue.longitude)===tt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return tt(r.integerValue)===tt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=tt(r.doubleValue),o=tt(i.doubleValue);return s===o?sd(s)===sd(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return au(t.arrayValue.values||[],e.arrayValue.values||[],Wr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(yB(s)!==yB(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Wr(s[a],o[a])))return!1;return!0}(t,e);default:return P()}var i}function ad(t,e){return void 0!==(t.values||[]).find(n=>Wr(n,e))}function ps(t,e){if(t===e)return 0;const n=fs(t),r=fs(e);if(n!==r)return Y(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Y(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=tt(i.integerValue||i.doubleValue),a=tt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return IB(t.timestampValue,e.timestampValue);case 4:return IB(od(t),od(e));case 5:return Y(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Ai(i),a=Ai(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=Y(o[u],a[u]);if(0!==c)return c}return Y(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Y(tt(i.latitude),tt(s.latitude));return 0!==o?o:Y(tt(i.longitude),tt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=ps(o[u],a[u]);if(c)return c}return Y(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===hs.mapValue&&s===hs.mapValue)return 0;if(i===hs.mapValue)return 1;if(s===hs.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=Y(a[l],c[l]);if(0!==d)return d;const h=ps(o[a[l]],u[c[l]]);if(0!==h)return h}return Y(a.length,c.length)}(t.mapValue,e.mapValue);default:throw P()}}function IB(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Y(t,e);const n=ds(t),r=ds(e),i=Y(n.seconds,r.seconds);return 0!==i?i:Y(n.nanos,r.nanos)}function cu(t){return A0(t)}function A0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ds(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ai(t.bytesValue).toBase64():"referenceValue"in t?M.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=A0(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${A0(r.fields[a])}`;return s+"}"}(t.mapValue):P();var e}function M0(t){return!!t&&"integerValue"in t}function ud(t){return!!t&&"arrayValue"in t}function EB(t){return!!t&&"nullValue"in t}function DB(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Og(t){return!!t&&"mapValue"in t}function cd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ls(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function CB(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Gt{constructor(e){this.value=e}static empty(){return new Gt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Og(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cd(n)}setAll(e){let n=ot.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=cd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Og(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Og(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ls(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Gt(cd(this.value))}}function SB(t){const e=[];return ls(t.fields,(n,r)=>{const i=new ot([n]);if(Og(r)){const s=SB(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new kn(e)}class Ue{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ue(e,0,j.min(),j.min(),j.min(),Gt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ue(e,1,n,j.min(),r,i,0)}static newNoDocument(e,n){return new Ue(e,2,n,j.min(),j.min(),Gt.empty(),0)}static newUnknownDocument(e,n){return new Ue(e,3,n,j.min(),j.min(),Gt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(j.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=j.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ue&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ue(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gs{constructor(e,n){this.position=e,this.inclusive=n}}function AB(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?M.comparator(M.fromName(o.referenceValue),n.key):ps(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function MB(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wr(t.position[n],e.position[n]))return!1;return!0}class lu{constructor(e,n="asc"){this.field=e,this.dir=n}}function qce(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class xB{}class ae extends xB{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Wce(e,n,r):"array-contains"===n?new Yce(e,r):"in"===n?new FB(e,r):"not-in"===n?new Jce(e,r):"array-contains-any"===n?new Xce(e,r):new ae(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Kce(e,r):new Qce(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ps(n,this.value)):null!==n&&fs(this.value)===fs(n)&&this.matchesComparison(ps(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return P()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class be extends xB{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new be(e,n)}matches(e){return du(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function du(t){return"and"===t.op}function N0(t){return function NB(t){for(const e of t.filters)if(e instanceof be)return!1;return!0}(t)&&du(t)}function R0(t){if(t instanceof ae)return t.field.canonicalString()+t.op.toString()+cu(t.value);if(N0(t))return t.filters.map(e=>R0(e)).join(",");{const e=t.filters.map(n=>R0(n)).join(",");return`${t.op}(${e})`}}function RB(t,e){return t instanceof ae?(n=t,(r=e)instanceof ae&&n.op===r.op&&n.field.isEqual(r.field)&&Wr(n.value,r.value)):t instanceof be?function(n,r){return r instanceof be&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&RB(s,r.filters[o]),!0)}(t,e):void P();var n,r}function OB(t){return t instanceof ae?`${(e=t).field.canonicalString()} ${e.op} ${cu(e.value)}`:t instanceof be?function(e){return e.op.toString()+" {"+e.getFilters().map(OB).join(" ,")+"}"}(t):"Filter";var e}class Wce extends ae{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){const n=M.comparator(e.key,this.key);return this.matchesComparison(n)}}class Kce extends ae{constructor(e,n){super(e,"in",n),this.keys=PB(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Qce extends ae{constructor(e,n){super(e,"not-in",n),this.keys=PB(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function PB(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}class Yce extends ae{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ud(n)&&ad(n.arrayValue,this.value)}}class FB extends ae{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&ad(this.value.arrayValue,n)}}class Jce extends ae{constructor(e,n){super(e,"not-in",n)}matches(e){if(ad(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!ad(this.value.arrayValue,n)}}class Xce extends ae{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ud(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ad(this.value.arrayValue,r))}}class Zce{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function k0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Zce(t,e,n,r,i,s,o)}function mo(t){const e=x(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>R0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),id(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>cu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>cu(r)).join(",")),e.dt=n}return e.dt}function ld(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!qce(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!RB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!MB(t.startAt,e.startAt)&&MB(t.endAt,e.endAt)}function Pg(t){return M.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Mi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function hu(t){return new Mi(t)}function BB(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function yo(t){const e=x(t);if(null===e.wt){e.wt=[];const n=function Lg(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function O0(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new lu(n)),e.wt.push(new lu(ot.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new lu(ot.keyField(),s))}}}return e.wt}function In(t){const e=x(t);if(!e._t)if("F"===e.limitType)e._t=k0(e.path,e.collectionGroup,yo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of yo(e))n.push(new lu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new gs(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new gs(e.startAt.position,e.startAt.inclusive):null;e._t=k0(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Vg(t,e,n){return new Mi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dd(t,e){return ld(In(t),In(e))&&t.limitType===e.limitType}function jB(t){return`${mo(In(t))}|lt:${t.limitType}`}function L0(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>OB(r)).join(", ")}]`),id(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>cu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>cu(r)).join(",")),`Target(${n})`}(In(t))}; limitType=${t.limitType})`}function hd(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):M.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of yo(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=AB(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,yo(n),r)||n.endAt&&!function(i,s,o){const a=AB(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,yo(n),r)));var n,r}function HB(t){return(e,n)=>{let r=!1;for(const i of yo(t)){const s=ele(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function ele(t,e,n){const r=t.field.isKeyField()?M.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?ps(a,u):P()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return P()}}class xi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ls(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return _B(this.inner)}size(){return this.innerSize}}const tle=new Fe(M.comparator);function On(){return tle}const GB=new Fe(M.comparator);function fd(...t){let e=GB;for(const n of t)e=e.insert(n.key,n);return e}function zB(t){let e=GB;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Kr(){return pd()}function qB(){return pd()}function pd(){return new xi(t=>t.toString(),(t,e)=>t.isEqual(e))}const nle=new Fe(M.comparator),rle=new Ve(M.comparator);function ie(...t){let e=rle;for(const n of t)e=e.add(n);return e}const ile=new Ve(Y);function WB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sd(e)?"-0":e}}function KB(t){return{integerValue:""+t}}function QB(t,e){return function lB(t){return"number"==typeof t&&Number.isInteger(t)&&!sd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?KB(e):WB(t,e)}class Ug{constructor(){this._=void 0}}function sle(t,e,n){return t instanceof fu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&xg(i)&&(i=Ng(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof _o?JB(t,e):t instanceof vo?XB(t,e):function(r,i){const s=YB(r,i),o=ZB(s)+ZB(r.gt);return M0(s)&&M0(r.gt)?KB(o):WB(r.serializer,o)}(t,e)}function ole(t,e,n){return t instanceof _o?JB(t,e):t instanceof vo?XB(t,e):n}function YB(t,e){return t instanceof pu?M0(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class fu extends Ug{}class _o extends Ug{constructor(e){super(),this.elements=e}}function JB(t,e){const n=ej(e);for(const r of t.elements)n.some(i=>Wr(i,r))||n.push(r);return{arrayValue:{values:n}}}class vo extends Ug{constructor(e){super(),this.elements=e}}function XB(t,e){let n=ej(e);for(const r of t.elements)n=n.filter(i=>!Wr(i,r));return{arrayValue:{values:n}}}class pu extends Ug{constructor(e,n){super(),this.serializer=e,this.gt=n}}function ZB(t){return tt(t.integerValue||t.doubleValue)}function ej(t){return ud(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class ule{constructor(e,n){this.version=e,this.transformResults=n}}class Ge{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ge}static exists(e){return new Ge(void 0,e)}static updateTime(e){return new Ge(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bg(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class jg{}function tj(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new mu(t.key,Ge.none()):new gu(t.key,t.data,Ge.none());{const n=t.data,r=Gt.empty();let i=new Ve(ot.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Ni(t.key,r,new kn(i.toArray()),Ge.none())}}function cle(t,e,n){t instanceof gu?function(r,i,s){const o=r.value.clone(),a=ij(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ni?function(r,i,s){if(!Bg(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=ij(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(rj(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function md(t,e,n,r){return t instanceof gu?function(i,s,o,a){if(!Bg(i.precondition,s))return o;const u=i.value.clone(),c=sj(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ni?function(i,s,o,a){if(!Bg(i.precondition,s))return o;const u=sj(i.fieldTransforms,a,s),c=s.data;return c.setAll(rj(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,Bg(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function lle(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=YB(r.transform,i||null);null!=s&&(null===n&&(n=Gt.empty()),n.set(r.field,s))}return n||null}function nj(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&au(n,r,(i,s)=>function ale(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof _o&&r instanceof _o||n instanceof vo&&r instanceof vo?au(n.elements,r.elements,Wr):n instanceof pu&&r instanceof pu?Wr(n.gt,r.gt):n instanceof fu&&r instanceof fu);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class gu extends jg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ni extends jg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function rj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ij(t,e,n){const r=new Map;U(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,ole(o,a,n[i]))}return r}function sj(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,sle(s,o,e))}return r}class mu extends jg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U0 extends jg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class B0{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&cle(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=md(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=md(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=qB();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=tj(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(j.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ie())}isEqual(e){return this.batchId===e.batchId&&au(this.mutations,e.mutations,(n,r)=>nj(n,r))&&au(this.baseMutations,e.baseMutations,(n,r)=>nj(n,r))}}class j0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){U(e.mutations.length===r.length);let i=nle;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new j0(e,n,r,i)}}class $0{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class hle{constructor(e,n){this.count=e,this.unchangedNames=n}}var ht,he;function aj(t){if(void 0===t)return st("GRPC error has no .code"),I.UNKNOWN;switch(t){case ht.OK:return I.OK;case ht.CANCELLED:return I.CANCELLED;case ht.UNKNOWN:return I.UNKNOWN;case ht.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case ht.INTERNAL:return I.INTERNAL;case ht.UNAVAILABLE:return I.UNAVAILABLE;case ht.UNAUTHENTICATED:return I.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case ht.NOT_FOUND:return I.NOT_FOUND;case ht.ALREADY_EXISTS:return I.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return I.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case ht.ABORTED:return I.ABORTED;case ht.OUT_OF_RANGE:return I.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return I.UNIMPLEMENTED;case ht.DATA_LOSS:return I.DATA_LOSS;default:return P()}}(he=ht||(ht={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";class H0{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return $g}static getOrCreateInstance(){return null===$g&&($g=new H0),$g}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let $g=null;const fle=new su([4294967295,4294967295],0);function cj(t){const e=function uj(){return new TextEncoder}().encode(t),n=new uce;return n.update(e),new Uint8Array(n.digest())}function lj(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new su([n,r],0),new su([i,s],0)]}class G0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yd(`Invalid padding: ${n}`);if(r<0)throw new yd(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new yd(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new yd(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=su.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(su.fromNumber(r)));return 1===i.compare(fle)&&(i=new su([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=cj(e),[r,i]=lj(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new G0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=cj(e),[r,i]=lj(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class yd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _d{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,vd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _d(j.min(),i,new Fe(Y),On(),ie())}}class vd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vd(r,n,ie(),ie(),ie())}}class Hg{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class dj{constructor(e,n){this.targetId=e,this.Vt=n}}class hj{constructor(e,n,r=It.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class fj{constructor(){this.St=0,this.Dt=gj(),this.Ct=It.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ie(),n=ie(),r=ie();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:P()}}),new vd(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=gj()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class ple{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=On(),this.zt=pj(),this.Wt=new Fe(Y)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:P()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Pg(o))if(0===i){const a=new M(o.path);this.Yt(r,a,Ue.newNoDocument(a,j.min()))}else U(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=H0.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,m,y,w;const _={localCacheCount:l,existenceFilterCount:d.count},b=d.unchangedNames;return b&&(_.bloomFilter={applied:0===c,hashCount:null!==(h=b?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(p=null===(f=b?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(w=null===(y=b?.bits)||void 0===y?void 0:y.padding)&&void 0!==w?w:0}),_}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=Ai(s).toUint8Array()}catch(l){if(l instanceof wB)return Ir("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new G0(u,o,a)}catch(l){return Ir(l instanceof yd?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Pg(a.target)){const u=new M(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Ue.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=ie();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new _d(e,n,this.Wt,this.jt,r);return this.jt=On(),this.zt=pj(),this.Wt=new Fe(Y),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new fj,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Ve(Y),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||S("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new fj),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function pj(){return new Fe(M.comparator)}function gj(){return new Fe(M.comparator)}const gle={asc:"ASCENDING",desc:"DESCENDING"},mle={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yle={and:"AND",or:"OR"};class _le{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function z0(t,e){return t.useProto3Json||id(e)?e:{value:e}}function yu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vle(t,e){return yu(t,e.toTimestamp())}function at(t){return U(!!t),j.fromTimestamp(function(e){const n=ds(e);return new We(n.seconds,n.nanos)}(t))}function q0(t,e){return(n=t,new de(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function yj(t){const e=de.fromString(t);return U(Tj(e)),e}function wd(t,e){return q0(t.databaseId,e.path)}function Qr(t,e){const n=yj(e);if(n.get(1)!==t.databaseId.projectId)throw new C(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new C(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M(vj(n))}function W0(t,e){return q0(t.databaseId,e)}function Id(t){return new de(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vj(t){return U(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function wj(t,e,n){return{name:wd(t,e),fields:n.value.mapValue.fields}}function Ej(t,e){return{documents:[W0(t,e.path)]}}function Q0(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=W0(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=W0(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return bj(be.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:ms((l=c).field),direction:Cle(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=z0(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function Dj(t){let e=function _j(t){const e=yj(t);return 4===e.length?de.emptyPath():vj(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){U(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=Cj(l);return d instanceof be&&N0(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new lu(_u((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,id(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new gs((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new gs(l.values||[],!l.before)}(n.endAt)),function UB(t,e,n,r,i,s,o,a){return new Mi(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function Cj(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=_u(e.unaryFilter.field);return ae.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=_u(e.unaryFilter.field);return ae.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=_u(e.unaryFilter.field);return ae.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=_u(e.unaryFilter.field);return ae.create(s,"!=",{nullValue:"NULL_VALUE"});default:return P()}}(t):void 0!==t.fieldFilter?ae.create(_u((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return P()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return be.create(e.compositeFilter.filters.map(n=>Cj(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return P()}}(e.compositeFilter.op))}(t):P();var e}function Cle(t){return gle[t]}function ble(t){return mle[t]}function Tle(t){return yle[t]}function ms(t){return{fieldPath:t.canonicalString()}}function _u(t){return ot.fromServerFormat(t.fieldPath)}function bj(t){return t instanceof ae?function(e){if("=="===e.op){if(DB(e.value))return{unaryFilter:{field:ms(e.field),op:"IS_NAN"}};if(EB(e.value))return{unaryFilter:{field:ms(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(DB(e.value))return{unaryFilter:{field:ms(e.field),op:"IS_NOT_NAN"}};if(EB(e.value))return{unaryFilter:{field:ms(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ms(e.field),op:ble(e.op),value:e.value}}}(t):t instanceof be?function(e){const n=e.getFilters().map(r=>bj(r));return 1===n.length?n[0]:{compositeFilter:{op:Tle(e.op),filters:n}}}(t):P()}function Sle(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Tj(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Ri{constructor(e,n,r,i,s=j.min(),o=j.min(),a=It.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ri(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Sj{constructor(e){this.fe=e}}function Y0(t){const e=Dj({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Vg(e,e.limit,"L"):e}class Do{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(tt(e.integerValue));else if("doubleValue"in e){const r=tt(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),sd(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Ai(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?CB(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):P()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),M.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Do.Ve=new Do;class Fle{constructor(){this.rn=new nT}addToCollectionParentIndex(e,n){return this.rn.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(zn.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(zn.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class nT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ve(de.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ve(de.comparator)).toArray()}}new Uint8Array(0);class nn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(41943040,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);class bo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new bo(0)}static Mn(){return new bo(-1)}}class $le{constructor(){this.changes=new xi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ue.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class zle{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Zj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&md(r.mutation,i,kn.empty(),We.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ie()){const i=Kr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=fd();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Kr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ie()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=On();const o=pd(),a=pd();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Ni)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),md(l.mutation,c,l.mutation.getFieldMask(),We.now())):o.set(c.key,kn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new zle(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=pd();let i=new Fe((o,a)=>o-a),s=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||kn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ie()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=qB();l.forEach(h=>{if(!s.has(h)){const f=tj(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return M.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function P0(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):v.resolve(Kr());let a=-1,u=s;return o.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ie())).next(l=>({batchId:a,changes:zB(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let i=fd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=fd();return this.indexManager.getCollectionParents(e,i).next(o=>v.forEach(o,a=>{const u=(c=n,l=a.child(i),new Mi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Ue.newInvalidDocument(c)))});let o=fd();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&md(c.mutation,u,kn.empty(),We.now()),hd(n,u)&&(o=o.insert(a,u))}),o})}}class qle{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return v.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:at(r.createTime)}),v.resolve()}getNamedQuery(e,n){return v.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:Y0(r.bundledQuery),readTime:at(r.readTime)}),v.resolve();var r}}class Wle{constructor(){this.overlays=new Fe(M.comparator),this.ls=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Kr();return v.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=Kr(),s=n.length+1,o=new M(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Fe((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Kr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Kr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new $0(n,r));let s=this.ls.get(n);void 0===s&&(s=ie(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class rT{constructor(){this.fs=new Ve(Nt.ds),this.ws=new Ve(Nt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Nt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Nt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new M(new de([])),r=new Nt(n,e),i=new Nt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new M(new de([])),r=new Nt(n,e),i=new Nt(n,e+1);let s=ie();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Nt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Nt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return M.comparator(e.key,n.key)||Y(e.As,n.As)}static _s(e,n){return Y(e.As,n.As)||M.comparator(e.key,n.key)}}class Kle{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Ve(Nt.ds)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new B0(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Nt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,n){return v.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nt(n,0),i=new Nt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ve(Y);return n.forEach(i=>{const s=new Nt(i,0),o=new Nt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),v.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;M.isDocumentKey(s)||(s=s.child(""));const o=new Nt(new M(s),0);let a=new Ve(Y);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),v.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){U(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return v.forEach(n.mutations,i=>{const s=new Nt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Nt(n,0),i=this.Rs.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Qle{constructor(e){this.Ds=e,this.docs=new Fe(M.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():Ue.newInvalidDocument(n))}getEntries(e,n){let r=On();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ue.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=On();const o=n.path,a=new M(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||C0(aB(l),r)<=0||(i.has(l.key)||hd(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return v.resolve(s)}getAllFromCollectionGroup(e,n,r,i){P()}Cs(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Yle(this)}getSize(e){return v.resolve(this.size)}}class Yle extends $le{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Jle{constructor(e){this.persistence=e,this.xs=new xi(n=>mo(n),ld),this.lastRemoteSnapshotVersion=j.min(),this.highestTargetId=0,this.Ns=0,this.ks=new rT,this.targetCount=0,this.Ms=bo.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),v.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.Fn(n),v.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.ks.containsKey(n))}}class iT{constructor(e,n){this.$s={},this.overlays={},this.Os=new qn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Jle(this),this.indexManager=new Fle,this.remoteDocumentCache=new Qle(r=>this.referenceDelegate.Ls(r)),this.serializer=new Sj(n),this.qs=new qle(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Wle,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new Kle(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){S("MemoryPersistence","Starting transaction:",e);const i=new Xle(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return v.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class Xle extends vce{constructor(e){super(),this.currentSequenceNumber=e}}class Xg{constructor(e){this.persistence=e,this.Qs=new rT,this.js=null}static zs(e){return new Xg(e)}get Ws(){if(this.js)return this.js;throw P()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),v.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Ws,r=>{const i=M.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,j.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return v.or([()=>v.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class uT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=ie(),i=ie();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new uT(e,n.fromCache,r,i)}}class t${constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(BB(n))return v.resolve(null);let r=In(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Vg(n,null,"F"),r=In(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ie(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,Vg(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return BB(n)||i.isEqual(j.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(I0()<=fe.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),L0(n)),this.Wi(e,o,n,function oB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=j.fromTimestamp(1e9===r?new We(n+1,0):new We(n,r));return new zn(i,M.empty(),e)}(i,-1)))})}ji(e,n){let r=new Ve(HB(e));return n.forEach((i,s)=>{hd(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return I0()<=fe.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",L0(n)),this.Ui.getDocumentsMatchingQuery(e,n,zn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class ede{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Fe(Y),this.Yi=new xi(s=>mo(s),ld),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zj(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function r$(t,e){return cT.apply(this,arguments)}function cT(){return cT=g(function*(t,e){const n=x(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ie();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),cT.apply(this,arguments)}function i$(t){const e=x(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function rde(t,e){const n=x(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Eu(t,e,n){return lT.apply(this,arguments)}function lT(){return lT=g(function*(t,e,n){const r=x(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!cs(o))throw o;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),lT.apply(this,arguments)}function tm(t,e,n){const r=x(t);let i=j.min(),s=ie();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=x(a),d=l.Yi.get(c);return void 0!==d?v.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,In(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:j.min(),n?s:ie())).next(a=>(function u$(t,e,n){let r=t.Xi.get(e)||j.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function $B(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class gT{constructor(){this.activeTargetIds=function V0(){return ile}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class d${constructor(){this.Hr=new gT,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new gT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ode{Yr(e){}shutdown(){}}class h${constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let im=null;function yT(){return null===im?im=268435456+Math.round(2147483648*Math.random()):im++,"0x"+im.toString(16)}const ade={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ude{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const rn="WebChannelConnection";class cde extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=yT(),a=this.To(e,n);S("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(S("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Ir("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ou,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${ade[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=yT();return new Promise((o,a)=>{const u=new ace;u.setWithCredentials(!0),u.listenOnce(ice.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case w0.NO_ERROR:const l=u.getResponseJson();S(rn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case w0.TIMEOUT:S(rn,`RPC '${e}' ${s} timed out`),a(new C(I.DEADLINE_EXCEEDED,"Request time out"));break;case w0.HTTP_ERROR:const d=u.getStatus();if(S(rn,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(y)>=0?y:I.UNKNOWN}(f.status);a(new C(p,f.message))}else a(new C(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new C(I.UNAVAILABLE,"Connection failed."));break;default:P()}}finally{S(rn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);S(rn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=yT(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=nce(),a=rce(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new oce({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");S(rn,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new ude({ro:y=>{f?S(rn,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(S(rn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),S(rn,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),m=(y,w,_)=>{y.listen(w,b=>{try{_(b)}catch(O){setTimeout(()=>{throw O},0)}})};return m(d,Cg.EventType.OPEN,()=>{f||S(rn,`RPC '${e}' stream ${i} transport opened.`)}),m(d,Cg.EventType.CLOSE,()=>{f||(f=!0,S(rn,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,Cg.EventType.ERROR,y=>{f||(f=!0,Ir(rn,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new C(I.UNAVAILABLE,"The operation could not be completed")))}),m(d,Cg.EventType.MESSAGE,y=>{var w;if(!f){const _=y.data[0];U(!!_);const O=_.error||(null===(w=_[0])||void 0===w?void 0:w.error);if(O){S(rn,`RPC '${e}' stream ${i} received error:`,O);const B=O.status;let te=function(on){const Xr=ht[on];if(void 0!==Xr)return aj(Xr)}(B),Me=O.message;void 0===te&&(te=I.INTERNAL,Me="Unknown error status: "+B+" with message "+O.message),f=!0,p.wo(new C(te,Me)),d.close()}else S(rn,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),m(a,sce.STAT_EVENT,y=>{y.stat===eB.PROXY?S(rn,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===eB.NOPROXY&&S(rn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function sm(){return typeof document<"u"?document:null}function Nd(t){return new _le(t,!0)}class _T{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class p${constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new _T(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return g(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return g(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return g(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(st(n.toString()),st("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new C(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(g(function*(){e.state=0,e.start()}))}tu(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lde extends p${constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Ile(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:P(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(U(void 0===c||"string"==typeof c),It.fromBase64String(c||"")):(U(void 0===c||c instanceof Uint8Array),It.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?I.UNKNOWN:aj(u.code);return new C(c,u.message||"")}(o);n=new hj(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Qr(t,r.document.name),s=at(r.document.updateTime),o=r.document.createTime?at(r.document.createTime):j.min(),a=new Gt({mapValue:{fields:r.document.fields}}),u=Ue.newFoundDocument(i,s,o,a);n=new Hg(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Qr(t,r.document),s=r.readTime?at(r.readTime):j.min(),o=Ue.newNoDocument(i,s);n=new Hg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Qr(t,r.document);n=new Hg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return P();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new hle(i,s);n=new dj(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return j.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?j.min():s.readTime?at(s.readTime):j.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Id(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Pg(a)?{documents:Ej(i,a)}:{query:Q0(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=mj(i,s.resumeToken);const u=z0(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(j.min())>0){o.readTime=yu(i,s.snapshotVersion.toTimestamp());const u=z0(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function Dle(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return P()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Id(this.serializer),n.removeTarget=e,this.Wo(n)}}class dde extends p${constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(U(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Ele(t,e){return t&&t.length>0?(U(void 0!==e),t.map(n=>function(r,i){let s=at(r.updateTime?r.updateTime:i);return s.isEqual(j.min())&&(s=at(i)),new ule(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=at(e.commitTime);return this.listener.cu(r,n)}return U(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Id(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Ed(t,e){let n;if(e instanceof gu)n={update:wj(t,e.key,e.value)};else if(e instanceof mu)n={delete:wd(t,e.key)};else if(e instanceof Ni)n={update:wj(t,e.key,e.data),updateMask:Sle(e.fieldMask)};else{if(!(e instanceof U0))return P();n={verify:wd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof fu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof _o)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof vo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof pu)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw P()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:vle(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:P()),n;var i}(this.serializer,r))};this.Wo(n)}}class hde extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new C(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new C(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new C(I.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class pde{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(st(n),this.mu=!1):S("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class gde{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(g(function*(){var u;ws(o)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=x(c);l.vu.add(4),yield Du(l),l.bu.set("Unknown"),l.vu.delete(4),yield Rd(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new pde(r,i)}}function Rd(t){return wT.apply(this,arguments)}function wT(){return wT=g(function*(t){if(ws(t))for(const e of t.Ru)yield e(!0)}),wT.apply(this,arguments)}function Du(t){return IT.apply(this,arguments)}function IT(){return IT=g(function*(t){for(const e of t.Ru)yield e(!1)}),IT.apply(this,arguments)}function om(t,e){const n=x(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),CT(n)?DT(n):bu(n).Ko()&&ET(n,e))}function kd(t,e){const n=x(t),r=bu(n);n.Au.delete(e),r.Ko()&&g$(n,e),0===n.Au.size&&(r.Ko()?r.jo():ws(n)&&n.bu.set("Unknown"))}function ET(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(j.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bu(t).su(e)}function g$(t,e){t.Vu.qt(e),bu(t).iu(e)}function DT(t){t.Vu=new ple({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),bu(t).start(),t.bu.gu()}function CT(t){return ws(t)&&!bu(t).Uo()&&t.Au.size>0}function ws(t){return 0===x(t).vu.size}function m$(t){t.Vu=void 0}function mde(t){return bT.apply(this,arguments)}function bT(){return bT=g(function*(t){t.Au.forEach((e,n)=>{ET(t,e)})}),bT.apply(this,arguments)}function yde(t,e){return TT.apply(this,arguments)}function TT(){return TT=g(function*(t,e){m$(t),CT(t)?(t.bu.Iu(e),DT(t)):t.bu.set("Unknown")}),TT.apply(this,arguments)}function _de(t,e,n){return ST.apply(this,arguments)}function ST(){return ST=g(function*(t,e,n){if(t.bu.set("Online"),e instanceof hj&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield am(t,r)}else if(e instanceof Hg?t.Vu.Ht(e):e instanceof dj?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(j.min()))try{const r=yield i$(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(It.EMPTY_BYTE_STRING,c.snapshotVersion)),g$(i,a);const l=new Ri(c.target,a,u,c.sequenceNumber);ET(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){S("RemoteStore","Failed to raise snapshot:",r),yield am(t,r)}var r}),ST.apply(this,arguments)}function am(t,e,n){return AT.apply(this,arguments)}function AT(){return AT=g(function*(t,e,n){if(!cs(e))throw e;t.vu.add(1),yield Du(t),t.bu.set("Offline"),n||(n=()=>i$(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){S("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Rd(t)}))}),AT.apply(this,arguments)}function y$(t,e){return e().catch(n=>am(t,n,e))}function Cu(t){return MT.apply(this,arguments)}function MT(){return MT=g(function*(t){const e=x(t),n=Is(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;vde(e);)try{const i=yield rde(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,wde(e,i)}catch(i){yield am(e,i)}_$(e)&&v$(e)}),MT.apply(this,arguments)}function vde(t){return ws(t)&&t.Eu.length<10}function wde(t,e){t.Eu.push(e);const n=Is(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function _$(t){return ws(t)&&!Is(t).Uo()&&t.Eu.length>0}function v$(t){Is(t).start()}function Ide(t){return xT.apply(this,arguments)}function xT(){return xT=g(function*(t){Is(t).hu()}),xT.apply(this,arguments)}function Ede(t){return NT.apply(this,arguments)}function NT(){return NT=g(function*(t){const e=Is(t);for(const n of t.Eu)e.uu(n.mutations)}),NT.apply(this,arguments)}function Dde(t,e,n){return RT.apply(this,arguments)}function RT(){return RT=g(function*(t,e,n){const r=t.Eu.shift(),i=j0.from(r,e,n);yield y$(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Cu(t)}),RT.apply(this,arguments)}function Cde(t,e){return kT.apply(this,arguments)}function kT(){return kT=g(function*(t,e){var n;e&&Is(t).ou&&(yield(n=g(function*(r,i){if(function oj(t){switch(t){default:return P();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}(s=i.code)&&s!==I.ABORTED){const o=r.Eu.shift();Is(r).Qo(),yield y$(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Cu(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),_$(t)&&v$(t)}),kT.apply(this,arguments)}function w$(t,e){return OT.apply(this,arguments)}function OT(){return OT=g(function*(t,e){const n=x(t);n.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const r=ws(n);n.vu.add(3),yield Du(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Rd(n)}),OT.apply(this,arguments)}function FT(){return FT=g(function*(t,e){const n=x(t);e?(n.vu.delete(2),yield Rd(n)):e||(n.vu.add(2),yield Du(n),n.bu.set("Unknown"))}),FT.apply(this,arguments)}function bu(t){return t.Su||(t.Su=function(e,n,r){const i=x(e);return i.fu(),new lde(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:mde.bind(null,t),ao:yde.bind(null,t),nu:_de.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Su.Qo(),CT(t)?DT(t):t.bu.set("Unknown")):(yield t.Su.stop(),m$(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Is(t){return t.Du||(t.Du=function(e,n,r){const i=x(e);return i.fu(),new dde(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Ide.bind(null,t),ao:Cde.bind(null,t),au:Ede.bind(null,t),cu:Dde.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Du.Qo(),yield Cu(t)):(yield t.Du.stop(),t.Eu.length>0&&(S("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class LT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new wt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new LT(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tu(t,e){if(st("AsyncQueue",`${e}: ${t}`),cs(t))return new C(I.UNAVAILABLE,`${e}: ${t}`);throw t}class Su{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=fd(),this.sortedSet=new Fe(this.comparator)}static emptySet(e){return new Su(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Su)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Su;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class I${constructor(){this.Cu=new Fe(M.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):P():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Au{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Au(e,n,Su.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class bde{constructor(){this.Nu=void 0,this.listeners=[]}}class Tde{constructor(){this.queries=new xi(e=>jB(e),dd),this.onlineState="Unknown",this.ku=new Set}}function VT(t,e){return UT.apply(this,arguments)}function UT(){return UT=g(function*(t,e){const n=x(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new bde),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=Tu(o,`Initialization of query '${L0(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&$T(n)}),UT.apply(this,arguments)}function BT(t,e){return jT.apply(this,arguments)}function jT(){return jT=g(function*(t,e){const n=x(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),jT.apply(this,arguments)}function Sde(t,e){const n=x(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&$T(n)}function Ade(t,e,n){const r=x(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function $T(t){t.ku.forEach(e=>{e.next()})}class HT{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Au(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Au.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class C${constructor(e){this.key=e}}class b${constructor(e){this.key=e}}class T${constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ie(),this.mutatedKeys=ie(),this.tc=HB(e),this.ec=new Su(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new I$,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=hd(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return P()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Au(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new I$,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ie(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new b$(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new C$(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ie();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Au.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Nde{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Rde{constructor(e){this.key=e,this.fc=!1}}class kde{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new xi(a=>jB(a),dd),this._c=new Map,this.mc=new Set,this.gc=new Fe(M.comparator),this.yc=new Map,this.Ic=new rT,this.Tc={},this.Ec=new Map,this.Ac=bo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Ode(t,e){return GT.apply(this,arguments)}function GT(){return GT=g(function*(t,e){const n=function fS(t){const e=x(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=S$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hde.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lde.bind(null,e),e.dc.nu=Sde.bind(null,e.eventManager),e.dc.Pc=Ade.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function Iu(t,e){const n=x(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Ri(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,In(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function zT(t,e,n,r,i){return qT.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&om(n.remoteStore,o)}return i}),GT.apply(this,arguments)}function qT(){return qT=g(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=g(function*(m,y,w,_){let b=y.view.sc(w);b.zi&&(b=yield tm(m.localStore,y.query,!1).then(({documents:te})=>y.view.sc(te,b)));const O=_&&_.targetChanges.get(y.targetId),B=y.view.applyChanges(b,m.isPrimaryClient,O);return nS(m,y.targetId,B.cc),B.snapshot}),function(m,y,w,_){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield tm(t.localStore,e,!0),o=new T$(e,s.ir),a=o.sc(s.documents),u=vd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);nS(t,n,c.cc);const l=new Nde(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),qT.apply(this,arguments)}function Pde(t,e){return WT.apply(this,arguments)}function WT(){return WT=g(function*(t,e){const n=x(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!dd(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Eu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),kd(n.remoteStore,r.targetId),Mu(n,r.targetId)}).catch(us))):(Mu(n,r.targetId),yield Eu(n.localStore,r.targetId,!0))}),WT.apply(this,arguments)}function KT(){return KT=g(function*(t,e,n){const r=function pS(t){const e=x(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vde.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ude.bind(null,e),e}(t);try{const i=yield function(s,o){const a=x(s),u=We.now(),c=o.reduce((h,f)=>h.add(f.key),ie());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=On(),p=ie();return a.Zi.getEntries(h,c).next(m=>{f=m,f.forEach((y,w)=>{w.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{l=m;const y=[];for(const w of o){const _=lle(w,l.get(w.key).overlayedDocument);null!=_&&y.push(new Ni(w.key,_,SB(_.value.mapValue),Ge.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:zB(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Fe(Y)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield ki(r,i.changes),yield Cu(r.remoteStore)}catch(i){const s=Tu(i,"Failed to persist write");n.reject(s)}}),KT.apply(this,arguments)}function S$(t,e){return QT.apply(this,arguments)}function QT(){return QT=g(function*(t,e){const n=x(t);try{const r=yield function nde(t,e){const n=x(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(It.EMPTY_BYTE_STRING,j.min()).withLastLimboFreeSnapshotVersion(j.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=On(),c=ie();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function s$(t,e,n){let r=ie(),i=ie();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=On();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(j.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):S("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(j.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(U(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?U(o.fc):i.removedDocuments.size>0&&(U(o.fc),o.fc=!1))}),yield ki(n,r,e)}catch(r){yield us(r)}}),QT.apply(this,arguments)}function A$(t,e,n){const r=x(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=x(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&$T(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Lde(t,e,n){return YT.apply(this,arguments)}function YT(){return YT=g(function*(t,e,n){const r=x(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Fe(M.comparator);o=o.insert(s,Ue.newNoDocument(s,j.min()));const a=ie().add(s),u=new _d(j.min(),new Map,new Fe(Y),o,a);yield S$(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),rS(r)}else yield Eu(r.localStore,e,!1).then(()=>Mu(r,e,n)).catch(us)}),YT.apply(this,arguments)}function Vde(t,e){return JT.apply(this,arguments)}function JT(){return JT=g(function*(t,e){const n=x(t),r=e.batch.batchId;try{const i=yield function tde(t,e){const n=x(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=v.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);U(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ie();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);tS(n,r,null),eS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ki(n,i)}catch(i){yield us(i)}}),JT.apply(this,arguments)}function Ude(t,e,n){return XT.apply(this,arguments)}function XT(){return XT=g(function*(t,e,n){const r=x(t);try{const i=yield function(s,o){const a=x(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(U(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);tS(r,e,n),eS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ki(r,i)}catch(i){yield us(i)}}),XT.apply(this,arguments)}function eS(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function tS(t,e,n){const r=x(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Mu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||M$(t,r)})}function M$(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(kd(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),rS(t))}function nS(t,e,n){for(const r of n)r instanceof C$?(t.Ic.addReference(r.key,e),jde(t,r)):r instanceof b$?(S("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||M$(t,r.key)):P()}function jde(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(S("SyncEngine","New document in limbo: "+n),t.mc.add(r),rS(t))}function rS(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new M(de.fromString(e)),r=t.Ac.next();t.yc.set(r,new Rde(n)),t.gc=t.gc.insert(n,r),om(t.remoteStore,new Ri(In(hu(n.path)),r,"TargetPurposeLimboResolution",qn.ct))}}function ki(t,e,n){return iS.apply(this,arguments)}function iS(){return iS=g(function*(t,e,n){const r=x(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=uT.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=g(function*(u,c){const l=x(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(c,h=>v.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!cs(d))throw d;S("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),iS.apply(this,arguments)}function $de(t,e){return sS.apply(this,arguments)}function sS(){return sS=g(function*(t,e){const n=x(t);if(!n.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const r=yield r$(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new C(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ki(n,r.er)}var i}),sS.apply(this,arguments)}function Hde(t,e){const n=x(t),r=n.yc.get(e);if(r&&r.fc)return ie().add(r.key);{let i=ie();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class um{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.serializer=Nd(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function n$(t,e,n,r){return new ede(t,e,n,r)}(this.persistence,new t$,e.initialUser,this.serializer)}createPersistence(e){return new iT(Xg.zs,this.serializer)}createSharedClientState(e){return new d$}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class xu{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>A$(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=$de.bind(null,r.syncEngine),yield function PT(t,e){return FT.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Tde}createDatastore(e){const n=Nd(e.databaseInfo.databaseId),r=new cde(e.databaseInfo);return new hde(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>A$(this.syncEngine,a,0),o=h$.D()?new h$:new ode,new gde(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new kde(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=x(n);S("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Du(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class cm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):st("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class nhe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mt.UNAUTHENTICATED,this.clientId=iB.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){S("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(S("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new wt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Tu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function lm(t,e){return gS.apply(this,arguments)}function gS(){return gS=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield r$(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),gS.apply(this,arguments)}function mS(t,e){return yS.apply(this,arguments)}function yS(){return yS=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function _S(t){return vS.apply(this,arguments)}(t);S("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>w$(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>w$(e.remoteStore,s)),t._onlineComponents=e}),yS.apply(this,arguments)}function vS(){return vS=g(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){S("FirestoreClient","Using user provided OfflineComponentProvider");try{yield lm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function P$(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Ir("Error using user provided cache. Falling back to memory cache: "+n),yield lm(t,new um)}}else S("FirestoreClient","Using default OfflineComponentProvider"),yield lm(t,new um);return t._offlineComponents}),vS.apply(this,arguments)}function dm(t){return wS.apply(this,arguments)}function wS(){return wS=g(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(S("FirestoreClient","Using user provided OnlineComponentProvider"),yield mS(t,t._uninitializedComponentsProvider._online)):(S("FirestoreClient","Using default OnlineComponentProvider"),yield mS(t,new xu))),t._onlineComponents}),wS.apply(this,arguments)}function Nu(t){return ES.apply(this,arguments)}function ES(){return ES=g(function*(t){const e=yield dm(t),n=e.eventManager;return n.onListen=Ode.bind(null,e.syncEngine),n.onUnlisten=Pde.bind(null,e.syncEngine),n}),ES.apply(this,arguments)}function j$(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const $$=new Map;function DS(t,e,n){if(!n)throw new C(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function H$(t){if(!M.isDocumentKey(t))throw new C(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function G$(t){if(M.isDocumentKey(t))throw new C(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":P()}function ue(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fm(t);throw new C(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class q${constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new C(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new C(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function dhe(t,e,n,r){if(!0===e&&!0===r)throw new C(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=j$(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Od{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q$({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new C(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q$(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new cce;switch(n.type){case"firstParty":return new fce(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new C(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=$$.get(e);n&&(S("ComponentProvider","Removing Datastore"),$$.delete(e),n.terminate())}(this),Promise.resolve()}}class ut{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ut(this.firestore,e,this._key)}}class zt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zt(this.firestore,e,this._query)}}class Yr extends zt{constructor(e,n,r){super(e,n,hu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ut(this.firestore,null,new M(e))}withConverter(e){return new Yr(this.firestore,e,this._path)}}function fhe(t,e,...n){if(t=vt(t),DS("collection","path",e),t instanceof Od){const r=de.fromString(e,...n);return G$(r),new Yr(t,null,r)}{if(!(t instanceof ut||t instanceof Yr))throw new C(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(de.fromString(e,...n));return G$(r),new Yr(t.firestore,null,r)}}function W$(t,e,...n){if(t=vt(t),1===arguments.length&&(e=iB.A()),DS("doc","path",e),t instanceof Od){const r=de.fromString(e,...n);return H$(r),new ut(t,null,new M(r))}{if(!(t instanceof ut||t instanceof Yr))throw new C(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(de.fromString(e,...n));return H$(r),new ut(t.firestore,t instanceof Yr?t.converter:null,new M(r))}}class phe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new _T(this,"async_queue_retry"),this.Xc=()=>{const n=sm();n&&S("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=sm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=sm();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new wt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return g(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!cs(n))throw n;S("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,st("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=LT.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&P()}verifyOperationInProgress(){}sa(){var e=this;return g(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function CS(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Be extends Od{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new phe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Q$(this),this._firestoreClient.terminate()}}function mhe(t,e){const r="string"==typeof t?t:e||"(default)",i=Ha("object"==typeof t?t:Zw(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=PF("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();s&&function hhe(t,e,n,r={}){var i;const s=(t=ue(t,Od))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Ir("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Mt.MOCK_USER;else{a=function SZ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[hp(JSON.stringify({alg:"none",type:"JWT"})),hp(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new C(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Mt(c)}t._authCredentials=new lce(new nB(a,u))}}(i,...s)}return i}function ft(t){return t._firestoreClient||Q$(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Q$(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Hce(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,j$(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new nhe(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class So{constructor(e){this._byteString=e}static fromBase64String(e){try{return new So(It.fromBase64String(e))}catch(n){throw new C(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new So(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ru{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new C(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bS{constructor(e){this._methodName=e}}class TS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new C(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new C(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Y(this._lat,e._lat)||Y(this._long,e._long)}}const _he=/^__.*__$/;class vhe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Ni(e,this.data,this.fieldMask,n,this.fieldTransforms):new gu(e,this.data,n,this.fieldTransforms)}}class X${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ni(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Z$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw P()}}class pm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new pm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return mm(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Z$(this.ca)&&_he.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class whe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Nd(e)}ya(e,n,r,i=!1){return new pm({ca:e,methodName:n,ga:r,path:ot.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ku(t){const e=t._freezeSettings(),n=Nd(t._databaseId);return new whe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function SS(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);MS("Data must be an object, but it was:",o,r);const a=iH(r,o);let u,c;if(s.merge)u=new kn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Ld(e,d,n);if(!o.contains(h))throw new C(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);oH(l,h)||l.push(h)}u=new kn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new vhe(new Gt(a),u,c)}class Fd extends bS{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fd}}function Ao(t,e){if(sH(t=vt(t)))return MS("Unsupported field value:",e,t),iH(t,e);if(t instanceof bS)return function(n,r){if(!Z$(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Ao(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=vt(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return QB(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=We.fromDate(n);return{timestampValue:yu(r.serializer,i)}}if(n instanceof We){const i=new We(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:yu(r.serializer,i)}}if(n instanceof TS)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof So)return{bytesValue:mj(r.serializer,n._byteString)};if(n instanceof ut){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:q0(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${fm(n)}`)}(t,e)}function iH(t,e){const n={};return _B(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ls(t,(r,i)=>{const s=Ao(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function sH(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof We||t instanceof TS||t instanceof So||t instanceof ut||t instanceof bS)}function MS(t,e,n){if(!sH(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=fm(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Ld(t,e,n){if((e=vt(e))instanceof Ru)return e._internalPath;if("string"==typeof e)return gm(t,e);throw mm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Che=new RegExp("[~\\*/\\[\\]]");function gm(t,e,n){if(e.search(Che)>=0)throw mm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ru(...e.split("."))._internalPath}catch{throw mm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new C(I.INVALID_ARGUMENT,a+t+u)}function oH(t,e){return t.some(n=>n.isEqual(e))}class xS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new bhe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ym("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class bhe extends xS{data(){return super.data()}}function ym(t,e){return"string"==typeof e?gm(t,e):e instanceof Ru?e._internalPath:e._delegate._internalPath}class She{convertValue(e,n="none"){switch(fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw P()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ls(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new TS(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ng(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(od(e));default:return null}}convertTimestamp(e){const n=ds(e);return new We(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=de.fromString(e);U(Tj(r));const i=new po(r.get(1),r.get(3)),s=new M(r.popFirst(5));return i.isEqual(n)||st(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Mo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pu extends xS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Im(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ym("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Im extends Pu{data(e={}){return super.data(e)}}class Fu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Mo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Im(this._firestore,this._userDataWriter,r.key,r,new Mo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new C(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Im(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Mo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Im(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Mo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Mhe(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Mhe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return P()}}function xhe(t){t=ue(t,ut);const e=ue(t.firestore,Be);return function U$(t,e,n={}){const r=new wt;return t.asyncQueue.enqueueAndForget(g(function*(){return function(i,s,o,a,u){const c=new cm({next:d=>{s.enqueueAndForget(()=>BT(i,l));const h=d.docs.has(o);!h&&d.fromCache?u.reject(new C(I.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?u.reject(new C(I.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new HT(hu(o.path),c,{includeMetadataChanges:!0,Ku:!0});return VT(i,l)}(yield Nu(t),t.asyncQueue,e,n,r)})),r.promise}(ft(e),t._key).then(n=>kS(e,t,n))}class Es extends She{constructor(e){super(),this.firestore=e}convertBytes(e){return new So(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}}function Nhe(t,e,n,...r){t=ue(t,ut);const i=ue(t.firestore,Be),s=ku(i);let o;return o="string"==typeof(e=vt(e))||e instanceof Ru?function nH(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[Ld(e,r,n)],u=[i];if(s.length%2!=0)throw new C(I.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Ld(e,s[h])),u.push(s[h+1]);const c=[],l=Gt.empty();for(let h=a.length-1;h>=0;--h)if(!oH(c,a[h])){const f=a[h];let p=u[h];p=vt(p);const m=o.da(f);if(p instanceof Fd)c.push(f);else{const y=Ao(p,m);null!=y&&(c.push(f),l.set(f,y))}}const d=new kn(c);return new X$(l,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function tH(t,e,n,r){const i=t.ya(1,e,n);MS("Data must be an object, but it was:",i,r);const s=[],o=Gt.empty();ls(r,(u,c)=>{const l=gm(e,u,n);c=vt(c);const d=i.da(l);if(c instanceof Fd)s.push(l);else{const h=Ao(c,d);null!=h&&(s.push(l),o.set(l,h))}});const a=new kn(s);return new X$(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),Ud(i,[o.toMutation(t._key,Ge.exists(!0))])}function Rhe(t){return Ud(ue(t.firestore,Be),[new mu(t._key,Ge.none())])}function khe(t,e){const n=ue(t.firestore,Be),r=W$(t),i=function RS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return Ud(n,[SS(ku(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ge.exists(!1))]).then(()=>r)}function Ud(t,e){return function(n,r){const i=new wt;return n.asyncQueue.enqueueAndForget(g(function*(){return function Fde(t,e,n){return KT.apply(this,arguments)}(yield function IS(t){return dm(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(ft(t),e)}function kS(t,e,n){const r=n.docs.get(e._key),i=new Es(t);return new Pu(t,i,e._key,r,new Mo(n.hasPendingWrites,n.fromCache),e.converter)}!function(t,e=!0){ou=Js,yn(new Xt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Be(new dce(n.getProvider("auth-internal")),new pce(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new C(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new po(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Je(tB,"3.13.0",t),Je(tB,"3.13.0","esm2017")}();var Dm=function(){return Dm=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var s in n=arguments[r])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},Dm.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var qhe={includeMetadataChanges:!1};function PS(t,e){return void 0===e&&(e=qhe),new je(function(n){var r=function Ohe(t,...e){var n,r,i;t=vt(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||CS(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(CS(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof ut)c=ue(t.firestore,Be),l=hu(t._key.path),u={next:d=>{e[o]&&e[o](kS(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ue(t,zt);c=ue(d.firestore,Be),l=d._query;const h=new Es(c);u={next:f=>{e[o]&&e[o](new Fu(c,h,d,f))},error:e[o+1],complete:e[o+2]},function aH(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new C(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const m=new cm(p),y=new HT(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return VT(yield Nu(d),y)})),()=>{m.Dc(),d.asyncQueue.enqueueAndForget(g(function*(){return BT(yield Nu(d),y)}))}}(ft(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Zhe(t,e){return void 0===e&&(e={}),function Xhe(t){return PS(t,{includeMetadataChanges:!0}).pipe(pe(function(e){return e.docs}))}(t).pipe(pe(function(n){return n.map(function(r){return function gH(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?Dm(Dm({},r),((n={})[e.idField]=t.id,n)):r}(r,e)})}))}class Cm{constructor(e){return e}}const vH="firestore",VS=new V("angularfire2.firestore-instances");function rfe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Cm(r)}}const ife={provide:class tfe{constructor(){return tD(vH)}},deps:[[new fn,VS]]},sfe={provide:Cm,useFactory:function nfe(t,e){const n=eD(vH,t,e);return n&&new Cm(n)},deps:[[new fn,VS],Wa]};let ofe=(()=>{class t{constructor(){Je("angularfire",Sp.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=an({type:t}),t.\u0275inj=qt({providers:[sfe,ife]}),t})();function afe(t,...e){return{ngModule:ofe,providers:[{provide:VS,useFactory:rfe(t),multi:!0,deps:[we,Qt,nD,rD,[new fn,VV],[new fn,bD],...e]}]}}const ufe=vn(Zhe,!0),cfe=vn(khe,!0),wH=vn(fhe,!0),lfe=vn(Rhe,!0),US=vn(W$,!0),dfe=vn(xhe,!0),hfe=vn(mhe,!0),ffe=vn(Nhe,!0);let BS=(()=>{class t{constructor(n){this.firestore=n}addProductos(n){const r=wH(this.firestore,"productos");return cfe(r,n)}getProductos(){const n=wH(this.firestore,"productos");return ufe(n,{idField:"id"})}getOneProducto(n){const r=US(this.firestore,`productos/${n}`);return dfe(r)}deleteProductos(n){const r=US(this.firestore,`productos/${n.id}`);return lfe(r)}updateProductos(n,r){const i=US(this.firestore,`productos/${n.id}`);return ffe(i,r)}static#e=this.\u0275fac=function(r){return new(r||t)($(Cm))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),jS=(()=>{class t{constructor(n){this.auth=n}register({email:n,password:r}){return Jae(this.auth,n,r)}login({email:n,password:r}){var i=this;return g(function*(){return Zae(i.auth,n,r).then(s=>{i.userData=s.user.email,localStorage.setItem("usuario",i.userData)})})()}loginGoogle(){var n=this;return g(function*(){return eue(n.auth,new Kse).then(r=>{n.userData=r.user.displayName,localStorage.setItem("usuario",n.userData)})})()}logout(){return tue(this.auth)}static#e=this.\u0275fac=function(r){return new(r||t)($(Rl))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$S=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-loading"]],decls:3,vars:0,consts:[["role","status",1,"spinner-grow","text-info",2,"width","12rem","height","12rem"],[1,"visually-hidden"]],template:function(r,i){1&r&&(F(0,"div",0)(1,"span",1),G(2,"Loading..."),R()())}})}return t})();function pfe(t,e){1&t&&(F(0,"div",3),ke(1,"app-loading"),R())}const gfe=function(t){return["edit-item",t]};function mfe(t,e){if(1&t){const n=Nc();F(0,"tr")(1,"td"),G(2),R(),F(3,"td"),G(4),R(),F(5,"td"),G(6),R(),F(7,"td"),G(8),function mk(t,e){const n=le();let r;const i=t+oe;n.firstCreatePass?(r=function p7(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=xs(r.type)),a=Cn(D);try{const u=vh(!1),c=s();return vh(u),function Q6(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,E(),i,c),c}finally{Cn(a)}}(9,"currency"),R(),F(10,"td")(11,"button",11),G(12,"Editar"),R(),F(13,"button",12),yt("click",function(){const s=nc(n).$implicit;return rc(zi(2).onClickDelete(s))}),G(14,"Eliminar"),R()()()}if(2&t){const n=e.$implicit,r=e.index;me(2),Ta(r+1),me(2),Ta(n.nombre),me(2),Ta(n.tipo),me(2),Ta(yk(9,5,n.precio,"S/. ")),me(3),Se("routerLink",lk(8,gfe,n.id))}}const yfe=function(){return["create-item"]};function _fe(t,e){if(1&t){const n=Nc();F(0,"div",4)(1,"h1",5),G(2,"Lista de productos"),R(),F(3,"a",6),yt("click",function(){return nc(n),rc(zi().onLogout())}),G(4," Logout "),R()(),F(5,"p"),G(6),R(),F(7,"a",7),G(8," Nuevo "),R(),F(9,"table",8)(10,"thead")(11,"tr")(12,"th",9),G(13,"N\xb0"),R(),F(14,"th",9),G(15,"Nombre"),R(),F(16,"th",9),G(17,"Tipo"),R(),F(18,"th",9),G(19,"Precio"),R(),F(20,"th",9),G(21,"Operaciones"),R()()(),F(22,"tbody"),Jt(23,mfe,15,10,"tr",10),R()()}if(2&t){const n=zi();me(6),yf("Bienvenido, ",n.usuario,""),me(1),Se("routerLink",Fr(3,yfe)),me(16),Se("ngForOf",n.productos)}}let vfe=(()=>{class t{constructor(n,r,i){this.productsService=n,this.userService=r,this.router=i,this.productos=[],this.isLoading=!0}ngOnInit(){this.productsService.getProductos().subscribe(n=>{this.productos=n,this.isLoading=!1}),this.usuario=localStorage.getItem("usuario"),console.log(this.usuario),console.log(typeof this.usuario)}onClickDelete(n){var r=this;return g(function*(){const i=yield r.productsService.deleteProductos(n);console.log(i)})()}onLogout(){this.userService.logout().then(()=>{this.router.navigate(["/"]),localStorage.clear()}).catch(n=>console.log(n))}static#e=this.\u0275fac=function(r){return new(r||t)(D(BS),D(jS),D(Dt))};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-lista"]],decls:4,vars:2,consts:[[1,"p-4","text-white"],["class","d-flex justify-content-center align-items-center min-vh-100",4,"ngIf","ngIfElse"],["lista",""],[1,"d-flex","justify-content-center","align-items-center","min-vh-100"],[1,"d-flex","justify-content-between"],[1,"text-3xl","my-8"],[1,"btn","btn-danger","my-4",3,"click"],[1,"btn","btn-success","my-4",3,"routerLink"],[1,"table","table-primary","table-striped"],["className",""],[4,"ngFor","ngForOf"],[1,"btn","btn-dark","mx-2",3,"routerLink"],[1,"btn","btn-danger",3,"click"]],template:function(r,i){if(1&r&&(F(0,"div",0),Jt(1,pfe,2,0,"div",1),Jt(2,_fe,24,4,"ng-template",null,2,Cf),R()),2&r){const s=ff(3);me(1),Se("ngIf",i.isLoading)("ngIfElse",s)}},dependencies:[KO,Gf,Zi,$S,ZO]})}return t})(),IH=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(D(oi),D(Bn))};static#t=this.\u0275dir=K({type:t})}return t})(),xo=(()=>{class t extends IH{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Lt(t)))(i||t)}}();static#t=this.\u0275dir=K({type:t,features:[Ee]})}return t})();const Jr=new V("NgValueAccessor"),Efe={provide:Jr,useExisting:xe(()=>No),multi:!0},Cfe=new V("CompositionEventMode");let No=(()=>{class t extends IH{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Dfe(){const t=Ki()?Ki().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(D(oi),D(Bn),D(Cfe,8))};static#t=this.\u0275dir=K({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&yt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[He([Efe]),Ee]})}return t})();function Ds(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function DH(t){return null!=t&&"number"==typeof t.length}const sn=new V("NgValidators"),Cs=new V("NgAsyncValidators"),bfe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Lu{static min(e){return function CH(t){return e=>{if(Ds(e.value)||Ds(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function bH(t){return e=>{if(Ds(e.value)||Ds(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function TH(t){return Ds(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function SH(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function AH(t){return Ds(t.value)||bfe.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function MH(t){return e=>Ds(e.value)||!DH(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function xH(t){return e=>DH(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function NH(t){if(!t)return bm;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Ds(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return LH(e)}static composeAsync(e){return VH(e)}}function bm(t){return null}function RH(t){return null!=t}function kH(t){return Rc(t)?Et(t):t}function OH(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function PH(t,e){return e.map(n=>n(t))}function FH(t){return t.map(e=>function Tfe(t){return!t.validate}(e)?e:n=>e.validate(n))}function LH(t){if(!t)return null;const e=t.filter(RH);return 0==e.length?null:function(n){return OH(PH(n,e))}}function HS(t){return null!=t?LH(FH(t)):null}function VH(t){if(!t)return null;const e=t.filter(RH);return 0==e.length?null:function(n){return function wfe(...t){const e=RA(t),{args:n,keys:r}=DP(t),i=new je(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;Pn(n[l]).subscribe(ct(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?bP(r,a):a),s.complete())}))}});return e?i.pipe(CP(e)):i}(PH(n,e).map(kH)).pipe(pe(OH))}}function GS(t){return null!=t?VH(FH(t)):null}function UH(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function BH(t){return t._rawValidators}function jH(t){return t._rawAsyncValidators}function zS(t){return t?Array.isArray(t)?t:[t]:[]}function Tm(t,e){return Array.isArray(t)?t.includes(e):t===e}function $H(t,e){const n=zS(e);return zS(t).forEach(i=>{Tm(n,i)||n.push(i)}),n}function HH(t,e){return zS(e).filter(n=>!Tm(t,n))}class GH{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=HS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=GS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class En extends GH{get formDirective(){return null}get path(){return null}}class bs extends GH{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class zH{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Bd=(()=>{class t extends zH{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(D(bs,2))};static#t=this.\u0275dir=K({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&gf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ee]})}return t})(),jd=(()=>{class t extends zH{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(D(En,10))};static#t=this.\u0275dir=K({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&gf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ee]})}return t})();const $d="VALID",Am="INVALID",Vu="PENDING",Hd="DISABLED";function KS(t){return(Mm(t)?t.validators:t)||null}function QS(t,e){return(Mm(e)?e.asyncValidators:t)||null}function Mm(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class QH{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===$d}get invalid(){return this.status===Am}get pending(){return this.status==Vu}get disabled(){return this.status===Hd}get enabled(){return this.status!==Hd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators($H(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators($H(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(HH(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(HH(e,this._rawAsyncValidators))}hasValidator(e){return Tm(this._rawValidators,e)}hasAsyncValidator(e){return Tm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Vu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Hd,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=$d,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$d||this.status===Vu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hd:$d}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Vu,this._hasOwnPendingAsyncValidator=!0;const n=kH(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Qe,this.statusChanges=new Qe}_calculateStatus(){return this._allControlsDisabled()?Hd:this.errors?Am:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vu)?Vu:this._anyControlsHaveStatus(Am)?Am:$d}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Mm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function xfe(t){return Array.isArray(t)?HS(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Nfe(t){return Array.isArray(t)?GS(t):t||null}(this._rawAsyncValidators)}}class Ro extends QH{constructor(e,n,r){super(KS(n),QS(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function KH(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new T(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function WH(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new T(1e3,"");if(!r[n])throw new T(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Uu=new V("CallSetDisabledState",{providedIn:"root",factory:()=>xm}),xm="always";function Gd(t,e,n=xm){YS(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Ofe(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&YH(t,e)})}(t,e),function Ffe(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Pfe(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&YH(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function kfe(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Rm(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Om(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function km(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function YS(t,e){const n=BH(t);null!==e.validator?t.setValidators(UH(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=jH(t);null!==e.asyncValidator?t.setAsyncValidators(UH(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();km(e._rawValidators,i),km(e._rawAsyncValidators,i)}function Om(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=BH(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=jH(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return km(e._rawValidators,r),km(e._rawAsyncValidators,r),n}function YH(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ZH(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function eG(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const or=class extends QH{constructor(e=null,n,r){super(KS(n),QS(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mm(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=eG(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ZH(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ZH(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){eG(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let qd=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=K({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})(),oG=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({})}return t})();const tA=new V("NgModelWithFormControlWarning"),Yfe={provide:En,useExisting:xe(()=>ko)};let ko=(()=>{class t extends En{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Qe,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Om(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Gd(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Rm(n.control||null,n,!1),function Bfe(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function XH(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Rm(r||null,n),(t=>t instanceof or)(i)&&(Gd(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function JH(t,e){YS(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function Lfe(t,e){return Om(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){YS(this.form,this),this._oldForm&&Om(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(D(sn,10),D(Cs,10),D(Uu,8))};static#t=this.\u0275dir=K({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&yt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[He([Yfe]),Ee,Yn]})}return t})();const Zfe={provide:bs,useExisting:xe(()=>Bu)};let Bu=(()=>{class t extends bs{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Qe,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function ZS(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===No?n=s:function Ufe(t){return Object.getPrototypeOf(t.constructor)===xo}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function XS(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function Nm(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||t)(D(En,13),D(sn,10),D(Cs,10),D(Jr,10),D(tA,8))};static#n=this.\u0275dir=K({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[He([Zfe]),Ee,Yn]})}return t})(),ppe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({imports:[oG]})}return t})(),mpe=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:tA,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Uu,useValue:n.callSetDisabledState??xm}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({imports:[ppe]})}return t})();const ype=function(){return["/lista"]};let EG=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-back-button"]],decls:2,vars:2,consts:[[1,"btn","btn-success","my-3",3,"routerLink"]],template:function(r,i){1&r&&(F(0,"button",0),G(1," Regresar"),R()),2&r&&Se("routerLink",Fr(1,ype))},dependencies:[Zi]})}return t})();function _pe(t,e){1&t&&(F(0,"div",3),ke(1,"app-loading"),R())}function vpe(t,e){1&t&&(F(0,"span",14),G(1," (El nombre no puede quedar vac\xedo) "),R())}function wpe(t,e){1&t&&(F(0,"span",14),G(1," (El tipo no puede quedar vac\xedo) "),R())}function Ipe(t,e){1&t&&(F(0,"span",14),G(1," (El precio no puede quedar vac\xedo) "),R())}function Epe(t,e){1&t&&(F(0,"span",14),G(1," (Rellene los campos primero) "),R())}function Dpe(t,e){if(1&t){const n=Nc();ke(0,"app-back-button"),F(1,"h1",4),G(2," Create Employe"),R(),F(3,"form",5),yt("ngSubmit",function(){return nc(n),rc(zi().onSubmit())}),F(4,"div",6)(5,"label",7),G(6,"Nombre"),R(),ke(7,"input",8),Jt(8,vpe,2,0,"span",9),R(),F(9,"div",6)(10,"label",7),G(11,"Tipo"),R(),ke(12,"input",10),Jt(13,wpe,2,0,"span",9),R(),F(14,"div",11)(15,"label",7),G(16,"Precio"),R(),ke(17,"input",12),Jt(18,Ipe,2,0,"span",9),R(),ke(19,"input",13),Jt(20,Epe,2,0,"span",9),R()}if(2&t){const n=zi();let r,i,s;me(3),Se("formGroup",n.formulario),me(5),Se("ngIf",(null==(r=n.formulario.get("nombre"))||null==r.errors?null:r.errors.required)&&(null==n.formulario.controls.nombre?null:n.formulario.controls.nombre.touched)),me(5),Se("ngIf",(null==(i=n.formulario.get("tipo"))||null==i.errors?null:i.errors.required)&&(null==n.formulario.controls.tipo?null:n.formulario.controls.tipo.touched)),me(5),Se("ngIf",(null==(s=n.formulario.get("precio"))||null==s.errors?null:s.errors.required)&&(null==n.formulario.controls.precio?null:n.formulario.controls.precio.touched)),me(2),Se("ngIf",n.creacionInvalida)}}let Cpe=(()=>{class t{constructor(n,r){this.productsService=n,this.router=r,this.isLoading=!1,this.creacionInvalida=!1,this.formulario=new Ro({nombre:new or("",[Lu.required]),tipo:new or("",[Lu.required]),precio:new or("",[Lu.required])})}onSubmit(){var n=this;return g(function*(){if(n.formulario.get("nombre")?.errors?.required||n.formulario.get("tipo")?.errors?.required||n.formulario.get("precio")?.errors?.required)n.creacionInvalida=!0;else{console.log(n.formulario.value),n.isLoading=!0;const r=yield n.productsService.addProductos(n.formulario.value);n.isLoading=!1,console.log(r),n.router.navigate(["/lista"])}})()}static#e=this.\u0275fac=function(r){return new(r||t)(D(BS),D(Dt))};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-create-item"]],decls:4,vars:2,consts:[[1,"p-4","text-white"],["class","d-flex justify-content-center align-items-center min-vh-100",4,"ngIf","ngIfElse"],["createItem",""],[1,"d-flex","justify-content-center","align-items-center","min-vh-100"],["className","text-3xl my-4"],[3,"formGroup","ngSubmit"],[1,"mb-3","w-50"],[1,"form-label"],["type","text","formControlName","nombre",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","formControlName","tipo",1,"form-control"],[1,"mb-3","w-25"],["type","text","formControlName","precio",1,"form-control"],["type","submit","value","Enviar",1,"btn","btn-info"],[1,"text-danger"]],template:function(r,i){if(1&r&&(F(0,"div",0),Jt(1,_pe,2,0,"div",1),Jt(2,Dpe,21,5,"ng-template",null,2,Cf),R()),2&r){const s=ff(3);me(1),Se("ngIf",i.isLoading)("ngIfElse",s)}},dependencies:[Gf,EG,$S,qd,No,Bd,jd,ko,Bu]})}return t})();function bpe(t,e){1&t&&(F(0,"div",3),ke(1,"app-loading"),R())}function Tpe(t,e){1&t&&(F(0,"span",14),G(1," (El nombre no puede quedar vac\xedo) "),R())}function Spe(t,e){1&t&&(F(0,"span",14),G(1," (El tipo no puede quedar vac\xedo) "),R())}function Ape(t,e){1&t&&(F(0,"span",14),G(1," (El precio no puede quedar vac\xedo) "),R())}function Mpe(t,e){1&t&&(F(0,"span",14),G(1," (Rellene los campos primero) "),R())}function xpe(t,e){if(1&t){const n=Nc();ke(0,"app-back-button"),F(1,"h1",4),G(2," Edit Employe"),R(),F(3,"form",5),yt("ngSubmit",function(){return nc(n),rc(zi().onSubmit())}),F(4,"div",6)(5,"label",7),G(6,"Nombre"),R(),ke(7,"input",8),Jt(8,Tpe,2,0,"span",9),R(),F(9,"div",6)(10,"label",7),G(11,"Tipo"),R(),ke(12,"input",10),Jt(13,Spe,2,0,"span",9),R(),F(14,"div",11)(15,"label",7),G(16,"Precio"),R(),ke(17,"input",12),Jt(18,Ape,2,0,"span",9),R(),ke(19,"input",13),Jt(20,Mpe,2,0,"span",9),R()}if(2&t){const n=zi();let r,i,s;me(3),Se("formGroup",n.formulario),me(5),Se("ngIf",(null==(r=n.formulario.get("nombre"))||null==r.errors?null:r.errors.required)&&(null==n.formulario.controls.nombre?null:n.formulario.controls.nombre.touched)),me(5),Se("ngIf",(null==(i=n.formulario.get("tipo"))||null==i.errors?null:i.errors.required)&&(null==n.formulario.controls.tipo?null:n.formulario.controls.tipo.touched)),me(5),Se("ngIf",(null==(s=n.formulario.get("precio"))||null==s.errors?null:s.errors.required)&&(null==n.formulario.controls.precio?null:n.formulario.controls.precio.touched)),me(2),Se("ngIf",n.editInvalid)}}let Npe=(()=>{class t{constructor(n,r,i){this.productsService=n,this.ruta=r,this.router=i,this.isLoading=!1,this.editInvalid=!1,this.formulario=new Ro({nombre:new or("",[Lu.required]),tipo:new or("",[Lu.required]),precio:new or("",[Lu.required])}),this.ruta.params.subscribe(s=>{console.log(s.id),this.prodId=s.id})}onSubmit(){var n=this;return g(function*(){if(n.formulario.get("nombre")?.errors?.required||n.formulario.get("tipo")?.errors?.required||n.formulario.get("precio")?.errors?.required)n.editInvalid=!0;else{console.log(n.formulario.value),n.isLoading=!0;const r=yield n.productsService.updateProductos(n.docSnap,n.formulario.value);n.isLoading=!1,console.log(r),n.router.navigate(["/lista"])}})()}ngOnInit(){var n=this;return g(function*(){n.docSnap=yield n.productsService.getOneProducto(n.prodId),console.log(n.docSnap),n.product=n.docSnap.data(),console.log(n.product),n.formulario?.setValue(n.product)})()}static#e=this.\u0275fac=function(r){return new(r||t)(D(BS),D(qs),D(Dt))};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-edit-item"]],decls:4,vars:2,consts:[[1,"p-4","text-white"],["class","d-flex justify-content-center align-items-center min-vh-100",4,"ngIf","ngIfElse"],["editItem",""],[1,"d-flex","justify-content-center","align-items-center","min-vh-100"],["className","text-3xl my-4"],[3,"formGroup","ngSubmit"],[1,"mb-3","w-50"],[1,"form-label"],["type","text","formControlName","nombre",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","formControlName","tipo",1,"form-control"],[1,"mb-3","w-25"],["type","text","formControlName","precio",1,"form-control"],["type","submit","value","Enviar",1,"btn","btn-info"],[1,"text-danger"]],template:function(r,i){if(1&r&&(F(0,"div",0),Jt(1,bpe,2,0,"div",1),Jt(2,xpe,21,5,"ng-template",null,2,Cf),R()),2&r){const s=ff(3);me(1),Se("ngIf",i.isLoading)("ngIfElse",s)}},dependencies:[Gf,EG,$S,qd,No,Bd,jd,ko,Bu]})}return t})();const Rpe=function(){return["/"]},kpe=function(){return["/login"]};let Ope=(()=>{class t{constructor(n,r){this.userService=n,this.router=r,this.formReg=new Ro({email:new or,password:new or})}onSubmit(){this.userService.register(this.formReg.value).then(n=>{console.log(n),this.router.navigate(["/login"])}).catch(n=>console.log(n))}static#e=this.\u0275fac=function(r){return new(r||t)(D(jS),D(Dt))};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-register"]],decls:20,vars:5,consts:[[1,"p-4","text-white"],[1,"btn","btn-success","my-3",3,"routerLink"],["className","text-3xl my-4"],[3,"formGroup","ngSubmit"],[1,"mb-3","w-50"],[1,"form-label"],["type","email","formControlName","email",1,"form-control"],["type","password","formControlName","password",1,"form-control"],["type","submit","value","Enviar",1,"btn","btn-secondary"],[1,"text-success",3,"routerLink"]],template:function(r,i){1&r&&(F(0,"div",0)(1,"button",1),G(2," Regresar"),R(),F(3,"h1",2),G(4," Register"),R(),F(5,"form",3),yt("ngSubmit",function(){return i.onSubmit()}),F(6,"div",4)(7,"label",5),G(8,"Email"),R(),ke(9,"input",6),R(),F(10,"div",4)(11,"label",5),G(12,"Password"),R(),ke(13,"input",7),R(),ke(14,"input",8),R(),ke(15,"hr"),F(16,"p"),G(17,"Ya tiene cuenta? "),F(18,"a",9),G(19,"Login "),R()()()),2&r&&(me(1),Se("routerLink",Fr(3,Rpe)),me(4),Se("formGroup",i.formReg),me(13),Se("routerLink",Fr(4,kpe)))},dependencies:[Zi,qd,No,Bd,jd,ko,Bu]})}return t})();const Ppe=function(){return["/"]},Fpe=function(){return["/register"]};let Lpe=(()=>{class t{constructor(n,r){this.userService=n,this.router=r,this.formReg=new Ro({email:new or,password:new or})}onSubmit(){this.userService.login(this.formReg.value).then(n=>{this.router.navigate(["/lista"])}).catch(n=>console.log(n))}loginWithGoogle(){var n=this;return g(function*(){yield n.userService.loginGoogle(),n.router.navigate(["/lista"])})()}static#e=this.\u0275fac=function(r){return new(r||t)(D(jS),D(Dt))};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-login"]],decls:24,vars:5,consts:[[1,"p-4","text-white"],[1,"btn","btn-success","my-3",3,"routerLink"],["className","text-3xl my-4"],[3,"formGroup","ngSubmit"],[1,"mb-3","w-50"],[1,"form-label"],["type","email","formControlName","email",1,"form-control"],["type","password","formControlName","password",1,"form-control"],["type","submit","value","Enviar",1,"btn","btn-secondary"],[1,"text-success",3,"routerLink"],[1,"btn","btn-primary","my-3","d-flex","flex-row",3,"click"],[1,"icon-container"],["src","src/assets/google-icon.png","alt","icon-google",1,"",2,"width","1rem","height","1rem"]],template:function(r,i){1&r&&(F(0,"div",0)(1,"button",1),G(2," Regresar"),R(),F(3,"h1",2),G(4," Login"),R(),F(5,"form",3),yt("ngSubmit",function(){return i.onSubmit()}),F(6,"div",4)(7,"label",5),G(8,"Email"),R(),ke(9,"input",6),R(),F(10,"div",4)(11,"label",5),G(12,"Password"),R(),ke(13,"input",7),R(),ke(14,"input",8),R(),ke(15,"hr"),F(16,"p"),G(17,"No tiene cuenta? "),F(18,"a",9),G(19,"Registrarse "),R()(),F(20,"button",10),yt("click",function(){return i.loginWithGoogle()}),F(21,"div",11),ke(22,"img",12),R(),G(23," Login con Google "),R()()),2&r&&(me(1),Se("routerLink",Fr(3,Ppe)),me(4),Se("formGroup",i.formReg),me(13),Se("routerLink",Fr(4,Fpe)))},dependencies:[Zi,qd,No,Bd,jd,ko,Bu],styles:[".icon-container[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;background-color:#fff;border-radius:50%;display:flex;justify-content:center;align-items:center;margin-right:10px}"]})}return t})();const Vpe=function(){return["register"]},Upe=function(){return["login"]},Bpe=function(){return["lista"]};let jpe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-main"]],decls:14,vars:6,consts:[[1,"p-4","text-white","d-flex","flex-column"],[1,"text-3xl","my-8","text-center"],[1,"btn-container-main"],[1,"btn","btn-secondary",3,"routerLink"],[1,"btn","btn-primary",3,"routerLink"],[1,"d-flex","flex-column","justify-content-center","text-center","mt-5"],[1,"btn","btn-success",3,"routerLink"]],template:function(r,i){1&r&&(F(0,"div",0)(1,"h1",1),G(2,"CRUD Application"),R(),F(3,"div",2)(4,"button",3),G(5," Register "),R(),F(6,"button",4),G(7," Login "),R()(),F(8,"div",5)(9,"p"),G(10,"Para ver la lista necesita registrarse primero"),R(),F(11,"div")(12,"button",6),G(13," Ver lista de Productos "),R()()()()),2&r&&(me(4),Se("routerLink",Fr(3,Vpe)),me(2),Se("routerLink",Fr(4,Upe)),me(6),Se("routerLink",Fr(5,Bpe)))},dependencies:[Zi],styles:[".btn-container-main[_ngcontent-%COMP%]{display:flex;column-gap:10px;align-self:flex-end}"]})}return t})();const aA=pe(t=>!!t);let $pe=(()=>{class t{constructor(n,r){this.router=n,this.auth=r,this.canActivate=(i,s)=>{const o=i.data.authGuardPipe||(()=>aA);return Yae(this.auth).pipe(js(1),o(i,s),pe(a=>"boolean"==typeof a?a:Array.isArray(a)?this.router.createUrlTree(a):this.router.parseUrl(a)))}}}return t.\u0275fac=function(n){return new(n||t)($(Dt),$(Rl))},t.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();const qpe=[{path:"",component:jpe},{path:"lista",component:vfe,canActivate:[$pe],data:{authGuardPipe:()=>(t=>fA(aA,pe(e=>e||t)))(["/login"])}},{path:"lista/create-item",component:Cpe},{path:"lista/edit-item/:id",component:Npe},{path:"register",component:Ope},{path:"login",component:Lpe}];let Pm=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({imports:[xF.forRoot(qpe),xF]})}return t})(),Wpe=(()=>{class t{constructor(){this.title="crud-angular-firebase"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&ke(0,"router-outlet")},dependencies:[Mw]})}return t})(),DG=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({imports:[tw,Pm]})}return t})(),Kpe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=an({type:t});static#n=this.\u0275inj=qt({imports:[tw,Pm,DG,mpe,Pm]})}return t})();const Qpe_firebase={projectId:"angular-crud-example-105c6",appId:"1:746191838803:web:1d46174e833f860efbf0a6",storageBucket:"angular-crud-example-105c6.appspot.com",apiKey:"AIzaSyCirZhB2B5pMWr_Y9B2rwqGT-CK8-lDQwQ",authDomain:"angular-crud-example-105c6.firebaseapp.com",messagingSenderId:"746191838803"};let Ype=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=an({type:t,bootstrap:[Wpe]});static#n=this.\u0275inj=qt({imports:[NY,Pm,Kpe,DG,hie(()=>fie(Qpe_firebase)),Qae(()=>Xae()),afe(()=>hfe())]})}return t})();MY().bootstrapModule(Ype).catch(t=>console.error(t))}},Te=>{Te(Te.s=910)}]);