"use strict";(self.webpackChunkcrud_angular_firebase=self.webpackChunkcrud_angular_firebase||[]).push([[179],{185:()=>{function be(t){return"function"==typeof t}function Ou(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const kd=Ou(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Mo(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class In{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(be(r))try{r()}catch(s){e=s instanceof kd?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{oA(s)}catch(o){e=e??[],o instanceof kd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new kd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)oA(e);else{if(e instanceof In){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Mo(n,e)}remove(e){const{_finalizers:n}=this;n&&Mo(n,e),e instanceof In&&e._removeParent(this)}}In.EMPTY=(()=>{const t=new In;return t.closed=!0,t})();const iA=In.EMPTY;function sA(t){return t instanceof In||t&&"closed"in t&&be(t.remove)&&be(t.add)&&be(t.unsubscribe)}function oA(t){be(t)?t():t.unsubscribe()}const Ds={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Od={setTimeout(t,e,...n){const{delegate:r}=Od;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Od;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function aA(t){Od.setTimeout(()=>{const{onUnhandledError:e}=Ds;if(!e)throw t;e(t)})}function bm(){}const pG=Tm("C",void 0,void 0);function Tm(t,e,n){return{kind:t,value:e,error:n}}let Cs=null;function Pd(t){if(Ds.useDeprecatedSynchronousErrorHandling){const e=!Cs;if(e&&(Cs={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Cs;if(Cs=null,n)throw r}}else t()}class Sm extends In{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,sA(e)&&e.add(this)):this.destination=IG}static create(e,n,r){return new Pu(e,n,r)}next(e){this.isStopped?Mm(function mG(t){return Tm("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Mm(function gG(t){return Tm("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Mm(pG,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const _G=Function.prototype.bind;function Am(t,e){return _G.call(t,e)}class vG{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Fd(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Fd(r)}else Fd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Fd(n)}}}class Pu extends Sm{constructor(e,n,r){let i;if(super(),be(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ds.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Am(e.next,s),error:e.error&&Am(e.error,s),complete:e.complete&&Am(e.complete,s)}):i=e}this.destination=new vG(i)}}function Fd(t){Ds.useDeprecatedSynchronousErrorHandling?function yG(t){Ds.useDeprecatedSynchronousErrorHandling&&Cs&&(Cs.errorThrown=!0,Cs.error=t)}(t):aA(t)}function Mm(t,e){const{onStoppedNotification:n}=Ds;n&&Od.setTimeout(()=>n(t,e))}const IG={closed:!0,next:bm,error:function wG(t){throw t},complete:bm},xm="function"==typeof Symbol&&Symbol.observable||"@@observable";function xi(t){return t}function uA(t){return 0===t.length?xi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let je=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function CG(t){return t&&t instanceof Sm||function DG(t){return t&&be(t.next)&&be(t.error)&&be(t.complete)}(t)&&sA(t)}(n)?n:new Pu(n,r,i);return Pd(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=cA(r))((i,s)=>{const o=new Pu({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[xm](){return this}pipe(...n){return uA(n)(this)}toPromise(n){return new(n=cA(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function cA(t){var e;return null!==(e=t??Ds.Promise)&&void 0!==e?e:Promise}const bG=Ou(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ir=(()=>{class t extends je{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new lA(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new bG}next(n){Pd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Pd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Pd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?iA:(this.currentObservers=null,s.push(n),new In(()=>{this.currentObservers=null,Mo(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new je;return n.source=this,n}}return t.create=(e,n)=>new lA(e,n),t})();class lA extends ir{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:iA}}function dA(t){return be(t?.lift)}function ht(t){return e=>{if(dA(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function at(t,e,n,r,i){return new TG(t,e,n,r,i)}class TG extends Sm{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ve(t,e){return ht((n,r)=>{let i=0;n.subscribe(at(r,s=>{r.next(t.call(e,s,i++))}))})}function km(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Ni(t){return this instanceof Ni?(this.v=t,this):new Ni(t)}function gA(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Pm(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const mA=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function yA(t){return be(t?.then)}function _A(t){return be(t[xm])}function vA(t){return Symbol.asyncIterator&&be(t?.[Symbol.asyncIterator])}function wA(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const IA=function WG(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function EA(t){return be(t?.[IA])}function DA(t){return function pA(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Ni?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Ni(n.read());if(i)return yield Ni(void 0);yield yield Ni(r)}}finally{n.releaseLock()}})}function CA(t){return be(t?.getReader)}function On(t){if(t instanceof je)return t;if(null!=t){if(_A(t))return function KG(t){return new je(e=>{const n=t[xm]();if(be(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(mA(t))return function QG(t){return new je(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(yA(t))return function YG(t){return new je(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,aA)})}(t);if(vA(t))return bA(t);if(EA(t))return function JG(t){return new je(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(CA(t))return function XG(t){return bA(DA(t))}(t)}throw wA(t)}function bA(t){return new je(e=>{(function ZG(t,e){var n,r,i,s;return function hA(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=gA(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Yr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function At(t,e,n=1/0){return be(e)?At((r,i)=>ve((s,o)=>e(r,s,i,o))(On(t(r,i))),n):("number"==typeof e&&(n=e),ht((r,i)=>function e4(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let y=!1;On(n(m,l++)).subscribe(at(e,w=>{i?.(w),s?f(w):e.next(w)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const w=u.shift();o?Yr(e,o,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(at(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function xo(t=1/0){return At(xi,t)}const vr=new je(t=>t.complete());function Fm(t){return t[t.length-1]}function TA(t){return be(Fm(t))?t.pop():void 0}function Fu(t){return function n4(t){return t&&be(t.schedule)}(Fm(t))?t.pop():void 0}function Ld(t,e=0){return ht((n,r)=>{n.subscribe(at(r,i=>Yr(r,t,()=>r.next(i),e),()=>Yr(r,t,()=>r.complete(),e),i=>Yr(r,t,()=>r.error(i),e)))})}function Vd(t,e=0){return ht((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function SA(t,e){if(!t)throw new Error("Iterable cannot be null");return new je(n=>{Yr(n,e,()=>{const r=t[Symbol.asyncIterator]();Yr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function vt(t,e){return e?function c4(t,e){if(null!=t){if(_A(t))return function i4(t,e){return On(t).pipe(Vd(e),Ld(e))}(t,e);if(mA(t))return function o4(t,e){return new je(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(yA(t))return function s4(t,e){return On(t).pipe(Vd(e),Ld(e))}(t,e);if(vA(t))return SA(t,e);if(EA(t))return function a4(t,e){return new je(n=>{let r;return Yr(n,e,()=>{r=t[IA](),Yr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>be(r?.return)&&r.return()})}(t,e);if(CA(t))return function u4(t,e){return SA(DA(t),e)}(t,e)}throw wA(t)}(t,e):On(t)}class zn extends ir{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function W(...t){return vt(t,Fu(t))}function AA(t={}){const{connector:e=(()=>new ir),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return ht((m,y)=>{c++,!d&&!l&&h();const w=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=Lm(p,i))}),w.subscribe(y),!o&&c>0&&(o=new Pu({next:_=>w.next(_),error:_=>{d=!0,h(),a=Lm(f,n,_),w.error(_)},complete:()=>{l=!0,h(),a=Lm(f,r),w.complete()}}),On(m).subscribe(o))})(s)}}function Lm(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Pu({next:()=>{r.unsubscribe(),t()}});return On(e(...n)).subscribe(r)}function wr(t,e){return ht((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(at(r,u=>{i?.unsubscribe();let c=0;const l=s++;On(t(u,l)).subscribe(i=at(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function h4(t,e){return t===e}function we(t){for(let e in t)if(t[e]===we)return e;throw Error("Could not find renamed property on target object.")}function Ud(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ft(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ft).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Vm(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const f4=we({__forward_ref__:we});function Ae(t){return t.__forward_ref__=Ae,t.toString=function(){return ft(this())},t}function z(t){return Um(t)?t():t}function Um(t){return"function"==typeof t&&t.hasOwnProperty(f4)&&t.__forward_ref__===Ae}function Bm(t){return t&&!!t.\u0275providers}const MA="https://g.co/ng/security#xss";class T extends Error{constructor(e,n){super(function Bd(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Q(t){return"string"==typeof t?t:null==t?"":String(t)}function jm(t,e){throw new T(-201,!1)}function qn(t,e){null==t&&function H(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Gt(t){return{providers:t.providers||[],imports:t.imports||[]}}function jd(t){return xA(t,Hd)||xA(t,NA)}function xA(t,e){return t.hasOwnProperty(e)?t[e]:null}function $d(t){return t&&(t.hasOwnProperty($m)||t.hasOwnProperty(I4))?t[$m]:null}const Hd=we({\u0275prov:we}),$m=we({\u0275inj:we}),NA=we({ngInjectableDef:we}),I4=we({ngInjectorDef:we});var ie=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ie||{});let Hm;function En(t){const e=Hm;return Hm=t,e}function kA(t,e,n){const r=jd(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ie.Optional?null:void 0!==e?e:void jm(ft(t))}const Me=globalThis,Lu={},Km="__NG_DI_FLAG__",Gd="ngTempTokenPath",C4=/\n/gm,PA="__source";let No;function Ri(t){const e=No;return No=t,e}function S4(t,e=ie.Default){if(void 0===No)throw new T(-203,!1);return null===No?kA(t,void 0,e):No.get(t,e&ie.Optional?null:void 0,e)}function B(t,e=ie.Default){return(function RA(){return Hm}()||S4)(z(t),e)}function P(t,e=ie.Default){return B(t,zd(e))}function zd(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Qm(t){const e=[];for(let n=0;n<t.length;n++){const r=z(t[n]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let i,s=ie.Default;for(let o=0;o<r.length;o++){const a=r[o],u=A4(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(B(i,s))}else e.push(B(r))}return e}function Vu(t,e){return t[Km]=e,t.prototype[Km]=e,t}function A4(t){return t[Km]}function Jr(t){return{toString:t}.toString()}var qd=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(qd||{}),sr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(sr||{});const Ir={},fe=[],Wd=we({\u0275cmp:we}),Ym=we({\u0275dir:we}),Jm=we({\u0275pipe:we}),LA=we({\u0275mod:we}),Xr=we({\u0275fac:we}),Uu=we({__NG_ELEMENT_ID__:we}),VA=we({__NG_ENV_ID__:we});function UA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Xm(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];jA(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function BA(t){return 3===t||4===t||6===t}function jA(t){return 64===t.charCodeAt(0)}function Bu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||$A(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function $A(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const HA="ng-template";function N4(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==UA(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function GA(t){return 4===t.type&&t.value!==HA}function R4(t,e,n){return e===(4!==t.type||n?t.value:HA)}function k4(t,e,n){let r=4;const i=t.attrs||[],s=function F4(t){for(let e=0;e<t.length;e++)if(BA(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!R4(t,u,n)||""===u&&1===e.length){if(or(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!N4(t.attrs,c,n)){if(or(r))return!1;o=!0}continue}const d=O4(8&r?"class":u,i,GA(t),n);if(-1===d){if(or(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==UA(f,c,0)||2&r&&c!==h){if(or(r))return!1;o=!0}}}}else{if(!o&&!or(r)&&!or(u))return!1;if(o&&or(u))continue;o=!1,r=u|1&r}}return or(r)||o}function or(t){return 0==(1&t)}function O4(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function L4(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function zA(t,e,n=!1){for(let r=0;r<e.length;r++)if(k4(t,e[r],n))return!0;return!1}function qA(t,e){return t?":not("+e.trim()+")":e}function U4(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!or(o)&&(e+=qA(s,i),i=""),r=o,s=s||!or(r);n++}return""!==i&&(e+=qA(s,i)),e}function ki(t){return Jr(()=>{const e=KA(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===qd.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||sr.Emulated,styles:t.styles||fe,_:null,schemas:t.schemas||null,tView:null,id:""};QA(n);const r=t.dependencies;return n.directiveDefs=Kd(r,!1),n.pipeDefs=Kd(r,!0),n.id=function W4(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function H4(t){return ue(t)||Mt(t)}function G4(t){return null!==t}function sn(t){return Jr(()=>({type:t.type,bootstrap:t.bootstrap||fe,declarations:t.declarations||fe,imports:t.imports||fe,exports:t.exports||fe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function WA(t,e){if(null==t)return Ir;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function q(t){return Jr(()=>{const e=KA(t);return QA(e),e})}function Dn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ue(t){return t[Wd]||null}function Mt(t){return t[Ym]||null}function on(t){return t[Jm]||null}function Fn(t,e){const n=t[LA]||null;if(!n&&!0===e)throw new Error(`Type ${ft(t)} does not have '\u0275mod' property.`);return n}function KA(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ir,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||fe,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:WA(t.inputs,e),outputs:WA(t.outputs)}}function QA(t){t.features?.forEach(e=>e(t))}function Kd(t,e){if(!t)return null;const n=e?on:H4;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(G4)}const ze=0,R=1,ee=2,Ve=3,ar=4,ju=5,zt=6,ko=7,Ze=8,Oi=9,Oo=10,Y=11,$u=12,YA=13,Po=14,et=15,Hu=16,Fo=17,Er=18,Gu=19,JA=20,Pi=21,Zr=22,zu=23,qu=24,se=25,Zm=1,XA=2,Dr=7,Lo=9,xt=11;function Cn(t){return Array.isArray(t)&&"object"==typeof t[Zm]}function an(t){return Array.isArray(t)&&!0===t[Zm]}function ey(t){return 0!=(4&t.flags)}function Ts(t){return t.componentOffset>-1}function Yd(t){return 1==(1&t.flags)}function ur(t){return!!t.template}function ty(t){return 0!=(512&t[ee])}function Ss(t,e){return t.hasOwnProperty(Xr)?t[Xr]:null}let Nt=null,Jd=!1;function Wn(t){const e=Nt;return Nt=t,e}const tM={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function rM(t){if(!Ku(t)||t.dirty){if(!t.producerMustRecompute(t)&&!oM(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function sM(t){t.dirty=!0,function iM(t){if(void 0===t.liveConsumerNode)return;const e=Jd;Jd=!0;try{for(const n of t.liveConsumerNode)n.dirty||sM(n)}finally{Jd=e}}(t),t.consumerMarkedDirty?.(t)}function ry(t){return t&&(t.nextProducerIndex=0),Wn(t)}function iy(t,e){if(Wn(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Ku(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Xd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function oM(t){Vo(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(rM(n),r!==n.version))return!0}return!1}function aM(t){if(Vo(t),Ku(t))for(let e=0;e<t.producerNode.length;e++)Xd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Xd(t,e){if(function cM(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Vo(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Xd(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Vo(i),i.producerIndexOfThis[r]=e}}function Ku(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Vo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let lM=null;const pM=()=>{},oz=(()=>({...tM,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:pM}))();class az{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Kn(){return gM}function gM(t){return t.type.prototype.ngOnChanges&&(t.setInput=cz),uz}function uz(){const t=yM(this),e=t?.current;if(e){const n=t.previous;if(n===Ir)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function cz(t,e,n,r){const i=this.declaredInputs[n],s=yM(t)||function lz(t,e){return t[mM]=e}(t,{previous:Ir,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new az(u&&u.currentValue,e,a===Ir),t[r]=e}Kn.ngInherit=!0;const mM="__ngSimpleChanges__";function yM(t){return t[mM]||null}const Cr=function(t,e,n){};function xe(t){for(;Array.isArray(t);)t=t[ze];return t}function Zd(t,e){return xe(e[t])}function bn(t,e){return xe(e[t.index])}function wM(t,e){return t.data[e]}function Uo(t,e){return t[e]}function Ln(t,e){const n=e[t];return Cn(n)?n:n[ze]}function Li(t,e){return null==e?null:t[e]}function IM(t){t[Fo]=0}function mz(t){1024&t[ee]||(t[ee]|=1024,DM(t,1))}function EM(t){1024&t[ee]&&(t[ee]&=-1025,DM(t,-1))}function DM(t,e){let n=t[Ve];if(null===n)return;n[ju]+=e;let r=n;for(n=n[Ve];null!==n&&(1===e&&1===r[ju]||-1===e&&0===r[ju]);)n[ju]+=e,r=n,n=n[Ve]}const G={lFrame:OM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function TM(){return G.bindingsEnabled}function E(){return G.lFrame.lView}function ce(){return G.lFrame.tView}function eh(t){return G.lFrame.contextLView=t,t[Ze]}function th(t){return G.lFrame.contextLView=null,t}function Rt(){let t=SM();for(;null!==t&&64===t.type;)t=t.parent;return t}function SM(){return G.lFrame.currentTNode}function br(t,e){const n=G.lFrame;n.currentTNode=t,n.isParent=e}function cy(){return G.lFrame.isParent}function un(){const t=G.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function jo(){return G.lFrame.bindingIndex++}function Az(t,e){const n=G.lFrame;n.bindingIndex=n.bindingRootIndex=t,dy(e)}function dy(t){G.lFrame.currentDirectiveIndex=t}function fy(t){G.lFrame.currentQueryIndex=t}function xz(t){const e=t[R];return 2===e.type?e.declTNode:1===e.type?t[zt]:null}function RM(t,e,n){if(n&ie.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&ie.Host||(i=xz(s),null===i||(s=s[Po],10&i.type))););if(null===i)return!1;e=i,t=s}const r=G.lFrame=kM();return r.currentTNode=e,r.lView=t,!0}function py(t){const e=kM(),n=t[R];G.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function kM(){const t=G.lFrame,e=null===t?null:t.child;return null===e?OM(t):e}function OM(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function PM(){const t=G.lFrame;return G.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const FM=PM;function gy(){const t=PM();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function cn(){return G.lFrame.selectedIndex}function As(t){G.lFrame.selectedIndex=t}function $e(){const t=G.lFrame;return wM(t.tView,t.selectedIndex)}let VM=!0;function nh(){return VM}function Vi(t){VM=t}function rh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function ih(t,e,n){UM(t,e,3,n)}function sh(t,e,n,r){(3&t[ee])===n&&UM(t,e,n,r)}function my(t,e){let n=t[ee];(3&n)===e&&(n&=8191,n+=1,t[ee]=n)}function UM(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Fo]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Fo]+=65536),(a<s||-1==s)&&(Vz(t,n,e,u),t[Fo]=(4294901760&t[Fo])+u+2),u++}function BM(t,e){Cr(4,t,e);const n=Wn(null);try{e.call(t)}finally{Wn(n),Cr(5,t,e)}}function Vz(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[ee]>>13<t[Fo]>>16&&(3&t[ee])===e&&(t[ee]+=8192,BM(a,s)):BM(a,s)}const $o=-1;class Yu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function _y(t){return t!==$o}function Ju(t){return 32767&t}function Xu(t,e){let n=function $z(t){return t>>16}(t),r=e;for(;n>0;)r=r[Po],n--;return r}let vy=!0;function oh(t){const e=vy;return vy=t,e}const jM=255,$M=5;let Hz=0;const Tr={};function ah(t,e){const n=HM(t,e);if(-1!==n)return n;const r=e[R];r.firstCreatePass&&(t.injectorIndex=e.length,wy(r.data,t),wy(e,null),wy(r.blueprint,null));const i=uh(t,e),s=t.injectorIndex;if(_y(i)){const o=Ju(i),a=Xu(i,e),u=a[R].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function wy(t,e){t.push(0,0,0,0,0,0,0,0,e)}function HM(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function uh(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=YM(i),null===r)return $o;if(n++,i=i[Po],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return $o}function Iy(t,e,n){!function Gz(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Uu)&&(r=n[Uu]),null==r&&(r=n[Uu]=Hz++);const i=r&jM;e.data[t+(i>>$M)]|=1<<i}(t,e,n)}function GM(t,e,n){if(n&ie.Optional||void 0!==t)return t;jm()}function zM(t,e,n,r){if(n&ie.Optional&&void 0===r&&(r=null),!(n&(ie.Self|ie.Host))){const i=t[Oi],s=En(void 0);try{return i?i.get(e,r,n&ie.Optional):kA(e,r,n&ie.Optional)}finally{En(s)}}return GM(r,0,n)}function qM(t,e,n,r=ie.Default,i){if(null!==t){if(2048&e[ee]&&!(r&ie.Self)){const o=function Yz(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[ee]&&!(512&o[ee]);){const a=WM(s,o,n,r|ie.Self,Tr);if(a!==Tr)return a;let u=s.parent;if(!u){const c=o[JA];if(c){const l=c.get(n,Tr,r);if(l!==Tr)return l}u=YM(o),o=o[Po]}s=u}return i}(t,e,n,r,Tr);if(o!==Tr)return o}const s=WM(t,e,n,r,Tr);if(s!==Tr)return s}return zM(e,n,r,i)}function WM(t,e,n,r,i){const s=function Wz(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Uu)?t[Uu]:void 0;return"number"==typeof e?e>=0?e&jM:Qz:e}(n);if("function"==typeof s){if(!RM(e,t,r))return r&ie.Host?GM(i,0,r):zM(e,n,r,i);try{let o;if(o=s(r),null!=o||r&ie.Optional)return o;jm()}finally{FM()}}else if("number"==typeof s){let o=null,a=HM(t,e),u=$o,c=r&ie.Host?e[et][zt]:null;for((-1===a||r&ie.SkipSelf)&&(u=-1===a?uh(t,e):e[a+8],u!==$o&&QM(r,!1)?(o=e[R],a=Ju(u),e=Xu(u,e)):a=-1);-1!==a;){const l=e[R];if(KM(s,a,l.data)){const d=qz(a,e,n,o,r,c);if(d!==Tr)return d}u=e[a+8],u!==$o&&QM(r,e[R].data[a+8]===c)&&KM(s,a,e)?(o=l,a=Ju(u),e=Xu(u,e)):a=-1}}return i}function qz(t,e,n,r,i,s){const o=e[R],a=o.data[t+8],l=function ch(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&ur(f)&&f.type===n)return u}return null}(a,o,n,null==r?Ts(a)&&vy:r!=o&&0!=(3&a.type),i&ie.Host&&s===a);return null!==l?Ms(e,o,l,a):Tr}function Ms(t,e,n,r){let i=t[n];const s=e.data;if(function Uz(t){return t instanceof Yu}(i)){const o=i;o.resolving&&function p4(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new T(-200,`Circular dependency in DI detected for ${t}${n}`)}(function ye(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Q(t)}(s[n]));const a=oh(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?En(o.injectImpl):null;RM(t,r,ie.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Lz(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=gM(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==c&&En(c),oh(a),o.resolving=!1,FM()}}return i}function KM(t,e,n){return!!(n[e+(t>>$M)]&1<<t)}function QM(t,e){return!(t&ie.Self||t&ie.Host&&e)}class ln{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return qM(this._tNode,this._lView,e,zd(r),n)}}function Qz(){return new ln(Rt(),E())}function kt(t){return Jr(()=>{const e=t.prototype.constructor,n=e[Xr]||Ey(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Xr]||Ey(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Ey(t){return Um(t)?()=>{const e=Ey(z(t));return e&&e()}:Ss(t)}function YM(t){const e=t[R],n=e.type;return 2===n?e.declTNode:1===n?t[zt]:null}const Go="__parameters__";function qo(t,e,n){return Jr(()=>{const r=function Dy(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Go)?u[Go]:Object.defineProperty(u,Go,{value:[]})[Go];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Ko(t,e){t.forEach(n=>Array.isArray(n)?Ko(n,e):e(n))}function XM(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function dh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Vn(t,e,n){let r=Qo(t,e);return r>=0?t[1|r]=n:(r=~r,function rq(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Cy(t,e){const n=Qo(t,e);if(n>=0)return t[1|n]}function Qo(t,e){return function ZM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const dn=Vu(qo("Optional"),8),fh=Vu(qo("SkipSelf"),4);function _h(t){return 128==(128&t.flags)}var Ui=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ui||{});const My=new Map;let Sq=0;const Ny="__ngContext__";function qt(t,e){Cn(e)?(t[Ny]=e[Gu],function Mq(t){My.set(t[Gu],t)}(e)):t[Ny]=e}let Ry;function ky(t,e){return Ry(t,e)}function ic(t){const e=t[Ve];return an(e)?e[Ve]:e}function vx(t){return Ix(t[$u])}function wx(t){return Ix(t[ar])}function Ix(t){for(;null!==t&&!an(t);)t=t[ar];return t}function Xo(t,e,n,r,i){if(null!=r){let s,o=!1;an(r)?s=r:Cn(r)&&(o=!0,r=r[ze]);const a=xe(r);0===t&&null!==n?null==i?bx(e,n,a):xs(e,n,a,i||null,!0):1===t&&null!==n?xs(e,n,a,i||null,!0):2===t?function bh(t,e,n){const r=Dh(t,e);r&&function Kq(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function Jq(t,e,n,r,i){const s=n[Dr];s!==xe(n)&&Xo(e,t,r,s,i);for(let a=xt;a<n.length;a++){const u=n[a];oc(u[R],u,t,e,r,s)}}(e,t,s,n,i)}}function Ih(t,e,n){return t.createElement(e,n)}function Dx(t,e){const n=t[Lo],r=n.indexOf(e);EM(e),n.splice(r,1)}function Eh(t,e){if(t.length<=xt)return;const n=xt+e,r=t[n];if(r){const i=r[Hu];null!==i&&i!==t&&Dx(i,r),e>0&&(t[n-1][ar]=r[ar]);const s=dh(t,xt+e);!function Bq(t,e){oc(t,e,e[Y],2,null,null),e[ze]=null,e[zt]=null}(r[R],r);const o=s[Er];null!==o&&o.detachView(s[R]),r[Ve]=null,r[ar]=null,r[ee]&=-129}return r}function Py(t,e){if(!(256&e[ee])){const n=e[Y];e[zu]&&aM(e[zu]),e[qu]&&aM(e[qu]),n.destroyNode&&oc(t,e,n,3,null,null),function Hq(t){let e=t[$u];if(!e)return Fy(t[R],t);for(;e;){let n=null;if(Cn(e))n=e[$u];else{const r=e[xt];r&&(n=r)}if(!n){for(;e&&!e[ar]&&e!==t;)Cn(e)&&Fy(e[R],e),e=e[Ve];null===e&&(e=t),Cn(e)&&Fy(e[R],e),n=e&&e[ar]}e=n}}(e)}}function Fy(t,e){if(!(256&e[ee])){e[ee]&=-129,e[ee]|=256,function Wq(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Yu)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Cr(4,a,u);try{u.call(a)}finally{Cr(5,a,u)}}else{Cr(4,i,s);try{s.call(i)}finally{Cr(5,i,s)}}}}}(t,e),function qq(t,e){const n=t.cleanup,r=e[ko];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[ko]=null);const i=e[Pi];if(null!==i){e[Pi]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[R].type&&e[Y].destroy();const n=e[Hu];if(null!==n&&an(e[Ve])){n!==e[Ve]&&Dx(n,e);const r=e[Er];null!==r&&r.detachView(t)}!function xq(t){My.delete(t[Gu])}(e)}}function Ly(t,e,n){return function Cx(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[ze];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===sr.None||s===sr.Emulated)return null}return bn(r,n)}}(t,e.parent,n)}function xs(t,e,n,r,i){t.insertBefore(e,n,r,i)}function bx(t,e,n){t.appendChild(e,n)}function Tx(t,e,n,r,i){null!==r?xs(t,e,n,r,i):bx(t,e,n)}function Dh(t,e){return t.parentNode(e)}let Vy,$y,Sh,Mx=function Ax(t,e,n){return 40&t.type?bn(t,n):null};function Ch(t,e,n,r){const i=Ly(t,r,e),s=e[Y],a=function Sx(t,e,n){return Mx(t,e,n)}(r.parent||e[zt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)Tx(s,i,n[u],a,!1);else Tx(s,i,n,a,!1);void 0!==Vy&&Vy(s,r,e,n,i)}function sc(t,e){if(null!==e){const n=e.type;if(3&n)return bn(e,t);if(4&n)return Uy(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return sc(t,r);{const i=t[e.index];return an(i)?Uy(-1,i):xe(i)}}if(32&n)return ky(e,t)()||xe(t[e.index]);{const r=Nx(t,e);return null!==r?Array.isArray(r)?r[0]:sc(ic(t[et]),r):sc(t,e.next)}}return null}function Nx(t,e){return null!==e?t[et][zt].projection[e.projection]:null}function Uy(t,e){const n=xt+t+1;if(n<e.length){const r=e[n],i=r[R].firstChild;if(null!==i)return sc(r,i)}return e[Dr]}function By(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&qt(xe(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)By(t,e,n.child,r,i,s,!1),Xo(e,t,i,a,s);else if(32&u){const c=ky(n,r);let l;for(;l=c();)Xo(e,t,i,l,s);Xo(e,t,i,a,s)}else 16&u?kx(t,e,r,n,i,s):Xo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function oc(t,e,n,r,i,s){By(n,r,t.firstChild,e,i,s,!1)}function kx(t,e,n,r,i,s){const o=n[et],u=o[zt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Xo(e,t,i,u[c],s);else{let c=u;const l=o[Ve];_h(r)&&(c.flags|=128),By(t,e,c,l,i,s,!0)}}function Ox(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Px(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Xm(t,e,r),null!==i&&Ox(t,e,i),null!==s&&function Zq(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function Vx(t){return function Hy(){if(void 0===Sh&&(Sh=null,Me.trustedTypes))try{Sh=Me.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Sh}()?.createScriptURL(t)||t}class Ux{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${MA})`}}function Bi(t){return t instanceof Ux?t.changingThisBreaksApplicationSecurity:t}function ac(t,e){const n=function c3(t){return t instanceof Ux&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${MA})`)}return n===e}const f3=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var ta=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ta||{});function qx(t){const e=cc();return e?e.sanitize(ta.URL,t)||"":ac(t,"URL")?Bi(t):function Gy(t){return(t=String(t)).match(f3)?t:"unsafe:"+t}(Q(t))}function Wx(t){const e=cc();if(e)return Vx(e.sanitize(ta.RESOURCE_URL,t)||"");if(ac(t,"ResourceURL"))return Vx(Bi(t));throw new T(904,!1)}function cc(){const t=E();return t&&t[Oo].sanitizer}class F{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const lc=new F("ENVIRONMENT_INITIALIZER"),Qx=new F("INJECTOR",-1),Yx=new F("INJECTOR_DEF_TYPES");class Ky{get(e,n=Lu){if(n===Lu){const r=new Error(`NullInjectorError: No provider for ${ft(e)}!`);throw r.name="NullInjectorError",r}return n}}function T3(...t){return{\u0275providers:Xx(0,t),\u0275fromNgModule:!0}}function Xx(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Ko(e,o=>{const a=o;Mh(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&Zx(i,s),n}function Zx(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Qy(i,s=>{e(s,r)})}}function Mh(t,e,n,r){if(!(t=z(t)))return!1;let i=null,s=$d(t);const o=!s&&ue(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=$d(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Mh(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Ko(s.imports,l=>{Mh(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&Zx(c,e)}if(!a){const c=Ss(i)||(()=>new i);e({provide:i,useFactory:c,deps:fe},i),e({provide:Yx,useValue:i,multi:!0},i),e({provide:lc,useValue:()=>B(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const c=t;Qy(u,l=>{e(l,c)})}}}return i!==t&&void 0!==t.providers}function Qy(t,e){for(let n of t)Bm(n)&&(n=n.\u0275providers),Array.isArray(n)?Qy(n,e):e(n)}const S3=we({provide:String,useValue:we});function Yy(t){return null!==t&&"object"==typeof t&&S3 in t}function Ns(t){return"function"==typeof t}const Jy=new F("Set Injector scope."),xh={},M3={};let Xy;function Nh(){return void 0===Xy&&(Xy=new Ky),Xy}class Yn{}class Rh extends Yn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,e_(e,o=>this.processProvider(o)),this.records.set(Qx,na(void 0,this)),i.has("environment")&&this.records.set(Yn,na(void 0,this));const s=this.records.get(Jy);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Yx.multi,fe,ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Ri(this),r=En(void 0);try{return e()}finally{Ri(n),En(r)}}get(e,n=Lu,r=ie.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(VA))return e[VA](this);r=zd(r);const s=Ri(this),o=En(void 0);try{if(!(r&ie.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function O3(t){return"function"==typeof t||"object"==typeof t&&t instanceof F}(e)&&jd(e);u=c&&this.injectableDefInScope(c)?na(Zy(e),xh):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&ie.Self?Nh():this.parent).get(e,n=r&ie.Optional&&n===Lu?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Gd]=a[Gd]||[]).unshift(ft(e)),s)throw a;return function M4(t,e,n,r){const i=t[Gd];throw e[PA]&&i.unshift(e[PA]),t.message=function x4(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=ft(e);if(Array.isArray(e))i=e.map(ft).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ft(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(C4,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Gd]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{En(o),Ri(s)}}resolveInjectorInitializers(){const e=Ri(this),n=En(void 0);try{const i=this.get(lc.multi,fe,ie.Self);for(const s of i)s()}finally{Ri(e),En(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(ft(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(e){let n=Ns(e=z(e))?e:z(e&&e.provide);const r=function N3(t){return Yy(t)?na(void 0,t.useValue):na(nN(t),xh)}(e);if(Ns(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=na(void 0,xh,!0),i.factory=()=>Qm(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===xh&&(n.value=M3,n.value=n.factory()),"object"==typeof n.value&&n.value&&function k3(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=z(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Zy(t){const e=jd(t),n=null!==e?e.factory:Ss(t);if(null!==n)return n;if(t instanceof F)throw new T(204,!1);if(t instanceof Function)return function x3(t){const e=t.length;if(e>0)throw function tc(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new T(204,!1);const n=function w4(t){return t&&(t[Hd]||t[NA])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new T(204,!1)}function nN(t,e,n){let r;if(Ns(t)){const i=z(t);return Ss(i)||Zy(i)}if(Yy(t))r=()=>z(t.useValue);else if(function tN(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Qm(t.deps||[]));else if(function eN(t){return!(!t||!t.useExisting)}(t))r=()=>B(z(t.useExisting));else{const i=z(t&&(t.useClass||t.provide));if(!function R3(t){return!!t.deps}(t))return Ss(i)||Zy(i);r=()=>new i(...Qm(t.deps))}return r}function na(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function e_(t,e){for(const n of t)Array.isArray(n)?e_(n,e):n&&Bm(n)?e_(n.\u0275providers,e):e(n)}const kh=new F("AppId",{providedIn:"root",factory:()=>P3}),P3="ng",rN=new F("Platform Initializer"),ji=new F("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),iN=new F("CSP nonce",{providedIn:"root",factory:()=>function ea(){if(void 0!==$y)return $y;if(typeof document<"u")return document;throw new T(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let sN=(t,e,n)=>null;function u_(t,e,n=!1){return sN(t,e,n)}class z3{}class uN{}class W3{resolveComponentFactory(e){throw function q3(t){const e=Error(`No component factory found for ${ft(t)}.`);return e.ngComponent=t,e}(e)}}let Uh=(()=>{class t{static#e=this.NULL=new W3}return t})();function K3(){return sa(Rt(),E())}function sa(t,e){return new Un(bn(t,e))}let Un=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=K3}return t})();class lN{}let ri=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Y3(){const t=E(),n=Ln(Rt().index,t);return(Cn(n)?n:t)[Y]}()}return t})(),J3=(()=>{class t{static#e=this.\u0275prov=j({token:t,providedIn:"root",factory:()=>null})}return t})();class oa{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const dN=new oa("16.2.10"),d_={};function gN(t,e=null,n=null,r){const i=mN(t,e,n,r);return i.resolveInjectorInitializers(),i}function mN(t,e=null,n=null,r,i=new Set){const s=[n||fe,T3(t)];return r=r||("object"==typeof t?void 0:ft(t)),new Rh(s,e||Nh(),r||null,i)}let Wt=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Lu;static#t=this.NULL=new Ky;static create(n,r){if(Array.isArray(n))return gN({name:""},r,n,"");{const i=n.name??"";return gN({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=j({token:t,providedIn:"any",factory:()=>B(Qx)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function f_(t){return t.ngOriginalError}class ii{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&f_(e);for(;n&&f_(n);)n=f_(n);return n||null}}function g_(t){return e=>{setTimeout(t,void 0,e)}}const qe=class i6 extends ir{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=g_(s),i&&(i=g_(i)),o&&(o=g_(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof In&&e.add(a),a}};function _N(...t){}class _e{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qe(!1),this.onMicrotaskEmpty=new qe(!1),this.onStable=new qe(!1),this.onError=new qe(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function s6(){const t="function"==typeof Me.requestAnimationFrame;let e=Me[t?"requestAnimationFrame":"setTimeout"],n=Me[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function u6(t){const e=()=>{!function a6(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Me,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,y_(t),t.isCheckStableRunning=!0,m_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),y_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function l6(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return vN(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),wN(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return vN(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),wN(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,y_(t),m_(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_e.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(_e.isInAngularZone())throw new T(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,o6,_N,_N);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const o6={};function m_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function y_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function vN(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function wN(t){t._nesting--,m_(t)}class c6{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qe,this.onMicrotaskEmpty=new qe,this.onStable=new qe,this.onError=new qe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const IN=new F("",{providedIn:"root",factory:EN});function EN(){const t=P(_e);let e=!0;return function l4(...t){const e=Fu(t),n=function r4(t,e){return"number"==typeof Fm(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?On(r[0]):xo(n)(vt(r,e)):vr}(new je(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new je(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{_e.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(AA()))}function si(t){return t instanceof Function?t():t}let __=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}return t})();function fc(t){for(;t;){t[ee]|=64;const e=ic(t);if(ty(t)&&!e)return t;t=e}return null}const SN=new F("",{providedIn:"root",factory:()=>!1});let jh=null;function NN(t,e){return t[e]??ON()}function RN(t,e){const n=ON();n.producerNode?.length&&(t[e]=jh,n.lView=t,jh=kN())}const w6={...tM,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{fc(t.lView)},lView:null};function kN(){return Object.create(w6)}function ON(){return jh??=kN(),jh}const X={};function tt(t){PN(ce(),E(),cn()+t,!1)}function PN(t,e,n,r){if(!r)if(3==(3&e[ee])){const s=t.preOrderCheckHooks;null!==s&&ih(e,s,n)}else{const s=t.preOrderHooks;null!==s&&sh(e,s,0,n)}As(n)}function C(t,e=ie.Default){const n=E();return null===n?B(t,e):qM(Rt(),n,z(t),e)}function $h(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[ze]=i,d[ee]=140|r,(null!==c||t&&2048&t[ee])&&(d[ee]|=2048),IM(d),d[Ve]=d[Po]=t,d[Ze]=n,d[Oo]=o||t&&t[Oo],d[Y]=a||t&&t[Y],d[Oi]=u||t&&t[Oi]||null,d[zt]=s,d[Gu]=function Aq(){return Sq++}(),d[Zr]=l,d[JA]=c,d[et]=2==e.type?t[et]:d,d}function ca(t,e,n,r,i){let s=t.data[e];if(null===s)s=function v_(t,e,n,r,i){const s=SM(),o=cy(),u=t.data[e]=function A6(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function Bo(){return null!==G.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function Sz(){return G.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Qu(){const t=G.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return br(s,!0),s}function pc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function LN(t,e,n,r,i){const s=NN(e,zu),o=cn(),a=2&r;try{As(-1),a&&e.length>se&&PN(t,e,se,!1),Cr(a?2:0,i);const c=a?s:null,l=ry(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{iy(c,l)}}finally{a&&null===e[zu]&&RN(e,zu),As(o),Cr(a?3:1,i)}}function w_(t,e,n){if(ey(e)){const r=Wn(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Wn(r)}}}function I_(t,e,n){TM()&&(function P6(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Ts(n)&&function $6(t,e,n){const r=bn(e,t),i=VN(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Hh(t,$h(t,i,null,o,r,e,null,t[Oo].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||ah(n,e),qt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Ms(e,t,a,n);qt(c,e),null!==o&&H6(0,a-i,c,u,0,o),ur(u)&&(Ln(n.index,e)[Ze]=Ms(e,t,a,n))}}(t,e,n,bn(n,e)),64==(64&n.flags)&&HN(t,e,n))}function E_(t,e,n=bn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function VN(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=D_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function D_(t,e,n,r,i,s,o,a,u,c,l){const d=se+r,h=d+i,f=function E6(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:X);return n}(d,h),p="function"==typeof c?c():c;return f[R]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let UN=t=>null;function BN(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?jN(n,e,i,s):r.hasOwnProperty(i)&&jN(n,e,r[i],s)}return n}function jN(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function C_(t,e,n,r){if(TM()){const i=null===r?null:{"":-1},s=function L6(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(zA(e,o.selectors,!1))if(r||(r=[]),ur(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),b_(t,e,a.length)}else r.unshift(o),b_(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&$N(t,e,n,o,i,a),i&&function V6(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new T(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Bu(n.mergedAttrs,n.attrs)}function $N(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Iy(ah(n,e),t,r[c].type);!function B6(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=pc(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Bu(n.mergedAttrs,l.hostAttrs),j6(t,n,e,u,l),U6(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function M6(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=BN(d.inputs,l,u,h?h.inputs:null),c=BN(d.outputs,l,c,p);const m=null===u||null===o||GA(e)?null:G6(u,l,o);a.push(m)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function HN(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function Mz(){return G.lFrame.currentDirectiveIndex}();try{As(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];dy(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&F6(u,c)}}finally{As(-1),dy(o)}}function F6(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function b_(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function U6(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ur(e)&&(n[""]=t)}}function j6(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Ss(i.type)),o=new Yu(s,ur(i),C);t.blueprint[r]=o,n[r]=o,function k6(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function O6(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,pc(t,n,i.hostVars,X),i)}function Sr(t,e,n,r,i,s){const o=bn(t,e);!function T_(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?Q(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[Y],o,s,t.value,n,r,i)}function H6(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)GN(r,n,o[a++],o[a++],o[a++])}function GN(t,e,n,r,i){const s=Wn(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Wn(s)}}function G6(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function zN(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function qN(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];fy(n[r]),o.contentQueries(2,e[s],s)}}}function Hh(t,e){return t[$u]?t[YA][ar]=e:t[$u]=e,t[YA]=e,e}function S_(t,e,n){fy(0);const r=Wn(null);try{e(t,n)}finally{Wn(r)}}function YN(t,e){const n=t[Oi],r=n?n.get(ii,null):null;r&&r.handleError(e)}function A_(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];GN(t.data[o],e[o],r,a,i)}}function z6(t,e){const n=Ln(e,t),r=n[R];!function q6(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[ze];null!==i&&null===n[Zr]&&(n[Zr]=u_(i,n[Oi])),M_(r,n,n[Ze])}function M_(t,e,n){py(e);try{const r=t.viewQuery;null!==r&&S_(1,r,n);const i=t.template;null!==i&&LN(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&qN(t,e),t.staticViewQueries&&S_(2,t.viewQuery,n);const s=t.components;null!==s&&function W6(t,e){for(let n=0;n<e.length;n++)z6(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ee]&=-5,gy()}}let JN=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function sz(t,e,n){const r=Object.create(oz);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>sM(r),run:()=>{if(r.dirty=!1,r.hasRun&&!oM(r))return;r.hasRun=!0;const o=ry(r);try{r.cleanupFn(),r.cleanupFn=pM,r.fn(i)}finally{iy(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}return t})();function Gh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Vm(i,a):2==s&&(r=Vm(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function gc(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(xe(s)),an(s)&&XN(s,r);const o=n.type;if(8&o)gc(t,e,n.child,r);else if(32&o){const a=ky(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=Nx(e,n);if(Array.isArray(a))r.push(...a);else{const u=ic(e[et]);gc(u[R],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function XN(t,e){for(let n=xt;n<t.length;n++){const r=t[n],i=r[R].firstChild;null!==i&&gc(r[R],r,i,e)}t[Dr]!==t[ze]&&e.push(t[Dr])}function zh(t,e,n,r=!0){const i=e[Oo],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{ZN(t,e,t.template,n)}catch(u){throw r&&YN(e,u),u}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function ZN(t,e,n,r){const i=e[ee];if(256!=(256&i)){e[Oo].effectManager?.flush(),py(e);try{IM(e),function MM(t){return G.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&LN(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&ih(e,c,null)}else{const c=t.preOrderHooks;null!==c&&sh(e,c,0,null),my(e,0)}if(function Y6(t){for(let e=vx(t);null!==e;e=wx(e)){if(!e[XA])continue;const n=e[Lo];for(let r=0;r<n.length;r++){mz(n[r])}}}(e),e1(e,2),null!==t.contentQueries&&qN(t,e),o){const c=t.contentCheckHooks;null!==c&&ih(e,c)}else{const c=t.contentHooks;null!==c&&sh(e,c,1),my(e,1)}!function I6(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=NN(e,qu);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)As(~s);else{const o=s,a=n[++i],u=n[++i];Az(a,o),r.dirty=!1;const c=ry(r);try{u(2,e[o])}finally{iy(r,c)}}}}finally{null===e[qu]&&RN(e,qu),As(-1)}}(t,e);const a=t.components;null!==a&&n1(e,a,0);const u=t.viewQuery;if(null!==u&&S_(2,u,r),o){const c=t.viewCheckHooks;null!==c&&ih(e,c)}else{const c=t.viewHooks;null!==c&&sh(e,c,2),my(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ee]&=-73,EM(e)}finally{gy()}}}function e1(t,e){for(let n=vx(t);null!==n;n=wx(n))for(let r=xt;r<n.length;r++)t1(n[r],e)}function J6(t,e,n){t1(Ln(e,t),n)}function t1(t,e){if(!function pz(t){return 128==(128&t[ee])}(t))return;const n=t[R],r=t[ee];if(80&r&&0===e||1024&r||2===e)ZN(n,t,n.template,t[Ze]);else if(t[ju]>0){e1(t,1);const i=n.components;null!==i&&n1(t,i,1)}}function n1(t,e,n){for(let r=0;r<e.length;r++)J6(t,e[r],n)}class mc{get rootNodes(){const e=this._lView,n=e[R];return gc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ze]}set context(e){this._lView[Ze]=e}get destroyed(){return 256==(256&this._lView[ee])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ve];if(an(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Eh(e,r),dh(n,r))}this._attachedToViewContainer=!1}Py(this._lView[R],this._lView)}onDestroy(e){!function CM(t,e){if(256==(256&t[ee]))throw new T(911,!1);null===t[Pi]&&(t[Pi]=[]),t[Pi].push(e)}(this._lView,e)}markForCheck(){fc(this._cdRefInjectingView||this._lView)}detach(){this._lView[ee]&=-129}reattach(){this._lView[ee]|=128}detectChanges(){zh(this._lView[R],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function $q(t,e){oc(t,e,e[Y],2,null,null)}(this._lView[R],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e}}class X6 extends mc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;zh(e[R],e,e[Ze],!1)}checkNoChanges(){}get context(){return null}}class r1 extends Uh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ue(e);return new yc(n,this.ngModule)}}function i1(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class e9{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=zd(r);const i=this.injector.get(e,d_,r);return i!==d_||n===d_?i:this.parentInjector.get(e,n,r)}}class yc extends uN{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=i1(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return i1(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function B4(t){return t.map(U4).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Yn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new e9(e,s):e,a=o.get(lN,null);if(null===a)throw new T(407,!1);const d={rendererFactory:a,sanitizer:o.get(J3,null),effectManager:o.get(JN,null),afterRenderEventManager:o.get(__,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function D6(t,e,n,r){const s=r.get(SN,!1)||n===sr.ShadowDom,o=t.selectRootElement(e,s);return function C6(t){UN(t)}(o),o}(h,r,this.componentDef.encapsulation,o):Ih(h,f,function Z6(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),w=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=u_(p,o,!0));const b=D_(0,null,null,1,0,null,null,null,null,null,null),k=$h(null,b,null,w,null,null,d,h,o,null,_);let V,Z;py(k);try{const Se=this.componentDef;let rn,Qr=null;Se.findHostDirectiveDefs?(rn=[],Qr=new Map,Se.findHostDirectiveDefs(Se,rn,Qr),rn.push(Se)):rn=[Se];const rA=function n9(t,e){const n=t[R],r=se;return t[r]=e,ca(n,r,2,"#host",null)}(k,p),wpe=function r9(t,e,n,r,i,s,o){const a=i[R];!function i9(t,e,n,r){for(const i of t)e.mergedAttrs=Bu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Gh(e,e.mergedAttrs,!0),null!==n&&Px(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=u_(e,i[Oi]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=$h(i,VN(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&b_(a,t,r.length-1),Hh(i,d),i[t.index]=d}(rA,p,Se,rn,k,d,h);Z=wM(b,se),p&&function o9(t,e,n,r){if(r)Xm(t,n,["ng-version",dN.full]);else{const{attrs:i,classes:s}=function j4(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!or(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Xm(t,n,i),s&&s.length>0&&Ox(t,n,s.join(" "))}}(h,Se,p,r),void 0!==n&&function a9(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(Z,this.ngContentSelectors,n),V=function s9(t,e,n,r,i,s){const o=Rt(),a=i[R],u=bn(o,i);$N(a,i,o,n,null,r);for(let l=0;l<n.length;l++)qt(Ms(i,a,o.directiveStart+l,o),i);HN(a,i,o),u&&qt(u,i);const c=Ms(i,a,o.directiveStart+o.componentOffset,o);if(t[Ze]=i[Ze]=c,null!==s)for(const l of s)l(c,e);return w_(a,o,t),c}(wpe,Se,rn,Qr,k,[u9]),M_(b,k,null)}finally{gy()}return new t9(this.componentType,V,sa(Z,k),k,Z)}}class t9 extends z3{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new X6(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;A_(s[R],s,i,e,n),this.previousInputValues.set(e,n),fc(Ln(this._tNode.index,s))}}get injector(){return new ln(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function u9(){const t=Rt();rh(E()[R],t)}function Ie(t){let e=function s1(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(ur(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new T(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=qh(t.inputs),o.inputTransforms=qh(t.inputTransforms),o.declaredInputs=qh(t.declaredInputs),o.outputs=qh(t.outputs);const a=i.hostBindings;a&&h9(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&l9(t,u),c&&d9(t,c),Ud(t.inputs,i.inputs),Ud(t.declaredInputs,i.declaredInputs),Ud(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Ud(o.inputTransforms,i.inputTransforms)),ur(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Ie&&(n=!1)}}e=Object.getPrototypeOf(e)}!function c9(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Bu(i.hostAttrs,n=Bu(n,i.hostAttrs))}}(r)}function qh(t){return t===Ir?{}:t===fe?[]:t}function l9(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function d9(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function h9(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function c1(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function Wh(t){return!!function x_(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Ar(t,e,n){return t[e]=n}function Kt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Mr(t,e,n,r){const i=E();return Kt(i,jo(),e)&&(ce(),Sr($e(),i,t,e,n,r)),Mr}function Qt(t,e,n,r,i,s,o,a){const u=E(),c=ce(),l=t+se,d=c.firstCreatePass?function L9(t,e,n,r,i,s,o,a,u){const c=e.consts,l=ca(e,t,4,o||null,Li(c,a));C_(e,n,l,Li(c,u)),rh(e,l);const d=l.tView=D_(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];br(d,!1);const h=E1(c,u,d,t);nh()&&Ch(c,u,h,d),qt(h,u),Hh(u,u[l]=zN(h,u,h,d)),Yd(d)&&I_(c,u,d),null!=o&&E_(u,d,a)}let E1=function D1(t,e,n,r){return Vi(!0),e[Y].createComment("")};function Xh(t){return Uo(function Tz(){return G.lFrame.contextLView}(),se+t)}function gt(t,e,n){const r=E();return Kt(r,jo(),e)&&function Bn(t,e,n,r,i,s,o,a){const u=bn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(A_(t,n,l,r,i),Ts(e)&&function N6(t,e){const n=Ln(e,t);16&n[ee]||(n[ee]|=64)}(n,e.index)):3&e.type&&(r=function x6(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(ce(),$e(),r,t,e,r[Y],n,!1),gt}function F_(t,e,n,r,i){const o=i?"class":"style";A_(t,n,e.inputs[o],o,r)}function te(t,e,n,r){const i=E(),s=ce(),o=se+t,a=i[Y],u=s.firstCreatePass?function j9(t,e,n,r,i,s){const o=e.consts,u=ca(e,t,2,r,Li(o,i));return C_(e,n,u,Li(o,s)),null!==u.attrs&&Gh(u,u.attrs,!1),null!==u.mergedAttrs&&Gh(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=C1(s,i,u,a,e,t);i[o]=c;const l=Yd(u);return br(u,!0),Px(a,c,u),32!=(32&u.flags)&&nh()&&Ch(s,i,c,u),0===function _z(){return G.lFrame.elementDepthCount}()&&qt(c,i),function vz(){G.lFrame.elementDepthCount++}(),l&&(I_(s,i,u),w_(s,u,i)),null!==r&&E_(i,u),te}function $(){let t=Rt();cy()?function ly(){G.lFrame.isParent=!1}():(t=t.parent,br(t,!1));const e=t;(function Iz(t){return G.skipHydrationRootTNode===t})(e)&&function bz(){G.skipHydrationRootTNode=null}(),function wz(){G.lFrame.elementDepthCount--}();const n=ce();return n.firstCreatePass&&(rh(n,t),ey(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Bz(t){return 0!=(8&t.flags)}(e)&&F_(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function jz(t){return 0!=(16&t.flags)}(e)&&F_(n,e,E(),e.stylesWithoutHost,!1),$}function Ot(t,e,n,r){return te(t,e,n,r),$(),Ot}let C1=(t,e,n,r,i,s)=>(Vi(!0),Ih(r,i,function LM(){return G.lFrame.currentNamespace}()));function Zh(){return E()}function Ec(t){return!!t&&"function"==typeof t.then}function S1(t){return!!t&&"function"==typeof t.subscribe}function hn(t,e,n,r){const i=E(),s=ce(),o=Rt();return function M1(t,e,n,r,i,s,o){const a=Yd(r),c=t.firstCreatePass&&function KN(t){return t.cleanup||(t.cleanup=[])}(t),l=e[Ze],d=function WN(t){return t[ko]||(t[ko]=[])}(e);let h=!0;if(3&r.type||o){const m=bn(r,e),y=o?o(m):m,w=d.length,_=o?k=>o(xe(k[r.index])):r.index;let b=null;if(!o&&a&&(b=function W9(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[ko],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=s,b.__ngLastListenerFn__=s,h=!1;else{s=N1(r,e,l,s,!1);const k=n.listen(y,i,s);d.push(s,k),c&&c.push(i,_,w,w+1)}}else s=N1(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let y=0;y<m;y+=2){const V=e[p[y]][p[y+1]].subscribe(s),Z=d.length;d.push(s,V),c&&c.push(i,r.index,Z,-(Z+1))}}}(s,i,i[Y],o,t,e,r),hn}function x1(t,e,n,r){try{return Cr(6,e,n),!1!==n(r)}catch(i){return YN(t,i),!1}finally{Cr(7,e,n)}}function N1(t,e,n,r,i){return function s(o){if(o===Function)return r;fc(t.componentOffset>-1?Ln(t.index,e):e);let u=x1(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=x1(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function ks(t=1){return function Nz(t){return(G.lFrame.contextLView=function Rz(t,e){for(;t>0;)e=e[Po],t--;return e}(t,G.lFrame.contextLView))[Ze]}(t)}function ef(t,e){return t<<17|e<<2}function $i(t){return t>>17&32767}function B_(t){return 2|t}function Os(t){return(131068&t)>>2}function j_(t,e){return-131069&t|e<<2}function $_(t){return 1|t}function j1(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?$i(s):Os(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];n5(t[a],e)&&(u=!0,t[a+1]=r?$_(l):B_(l)),a=r?$i(l):Os(l)}u&&(t[n+1]=r?B_(s):$_(s))}function n5(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Qo(t,e)>=0}function tf(t,e){return function cr(t,e,n,r){const i=E(),s=ce(),o=function ti(t){const e=G.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function Y1(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[cn()],o=function Q1(t,e){return e>=t.expandoStartIndex}(t,n);(function eR(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function d5(t,e,n,r){const i=function hy(t){const e=G.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Dc(n=H_(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=H_(i,t,e,n,r),null===s){let u=function h5(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Os(r))return t[$i(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=H_(null,t,e,u[1],r),u=Dc(u,e.attrs,r),function f5(t,e,n,r){t[$i(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function p5(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Dc(r,t[s].hostAttrs,n);return Dc(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function e5(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=$i(o),u=Os(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||Qo(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=$i(t[a+1]);t[r+1]=ef(h,a),0!==h&&(t[h+1]=j_(t[h+1],r)),t[a+1]=function X9(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=ef(a,0),0!==a&&(t[a+1]=j_(t[a+1],r)),a=r;else t[r+1]=ef(u,0),0===a?a=r:t[u+1]=j_(t[u+1],r),u=r;c&&(t[r+1]=B_(t[r+1])),j1(t,l,r,!0),j1(t,l,r,!1),function t5(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Qo(s,e)>=0&&(n[r+1]=$_(n[r+1]))}(e,l,t,r,s),o=ef(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==X&&Kt(i,o,e)&&function X1(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function Z9(t){return 1==(1&t)}(c)?Z1(u,e,n,i,Os(c),o):void 0;nf(l)||(nf(s)||function J9(t){return 2==(2&t)}(c)&&(s=Z1(u,null,n,i,a,o)),function Xq(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Ui.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Ui.Important),t.setStyle(n,r,i,s))}}(r,o,Zd(cn(),n),i,s))}(s,s.data[cn()],i,i[Y],t,i[o+1]=function _5(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=ft(Bi(t)))),t}(e,n),r,o)}(t,e,null,!0),tf}function H_(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Dc(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Dc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Vn(t,o,!!n||e[++s]))}return void 0===t?null:t}function Z1(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===X&&(h=d?fe:void 0);let f=d?Cy(h,r):l===r?h:void 0;if(c&&!nf(f)&&(f=Cy(u,r)),nf(f)&&(a=f,o))return a;const p=t[i+1];i=o?$i(p):Os(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Cy(u,r))}return a}function nf(t){return void 0!==t}function pe(t,e=""){const n=E(),r=ce(),i=t+se,s=r.firstCreatePass?ca(r,i,1,e,null):r.data[i],o=tR(r,n,s,e,t);n[i]=o,nh()&&Ch(r,n,o,s),br(s,!1)}let tR=(t,e,n,r,i)=>(Vi(!0),function wh(t,e){return t.createText(e)}(e[Y],r));function wa(t){return G_("",t,""),wa}function G_(t,e,n){const r=E(),i=function da(t,e,n,r){return Kt(t,jo(),n)?e+Q(n)+r:X}(r,t,e,n);return i!==X&&function oi(t,e,n){const r=Zd(e,t);!function Ex(t,e,n){t.setValue(e,n)}(t[Y],r,n)}(r,cn(),i),G_}const Ps=void 0;var B5=["en",[["a","p"],["AM","PM"],Ps],[["AM","PM"],Ps,Ps],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ps,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ps,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ps,"{1} 'at' {0}",Ps],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function U5(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Ia={};function fn(t){const e=function j5(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ER(e);if(n)return n;const r=e.split("-")[0];if(n=ER(r),n)return n;if("en"===r)return B5;throw new T(701,!1)}function ER(t){return t in Ia||(Ia[t]=Me.ng&&Me.ng.common&&Me.ng.common.locales&&Me.ng.common.locales[t]),Ia[t]}var Ne=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ne||{});const Ea="en-US";let DR=Ea;function W_(t,e,n,r,i){if(t=z(t),Array.isArray(t))for(let s=0;s<t.length;s++)W_(t[s],e,n,r,i);else{const s=ce(),o=E(),a=Rt();let u=Ns(t)?t:z(t.provide);const c=nN(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Ns(t)||!t.multi){const f=new Yu(c,i,C),p=Q_(u,e,i?l:l+h,d);-1===p?(Iy(ah(a,o),s,u),K_(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=Q_(u,e,l+h,d),p=Q_(u,e,l,l+h),y=p>=0&&n[p];if(i&&!y||!i&&!(f>=0&&n[f])){Iy(ah(a,o),s,u);const w=function UW(t,e,n,r,i){const s=new Yu(t,n,C);return s.multi=[],s.index=e,s.componentProviders=0,KR(s,i,r&&!n),s}(i?VW:LW,n.length,i,r,c);!i&&y&&(n[p].providerFactory=w),K_(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(w),o.push(w)}else K_(s,t,f>-1?f:p,KR(n[i?p:f],c,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function K_(t,e,n,r){const i=Ns(e),s=function A3(t){return!!t.useClass}(e);if(i||s){const u=(s?z(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function KR(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Q_(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function LW(t,e,n,r){return Y_(this.multi,[])}function VW(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ms(n,n[R],this.providerFactory.index,r);s=a.slice(0,o),Y_(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Y_(i,s);return s}function Y_(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ue(t,e=[]){return n=>{n.providersResolver=(r,i)=>function FW(t,e,n){const r=ce();if(r.firstCreatePass){const i=ur(t);W_(n,r.data,r.blueprint,i,!0),W_(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Fs{}class QR{}class J_ extends Fs{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new r1(this);const i=Fn(e);this._bootstrapComponents=si(i.bootstrap),this._r3Injector=mN(e,n,[{provide:Fs,useValue:this},{provide:Uh,useValue:this.componentFactoryResolver},...r],ft(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class X_ extends QR{constructor(e){super(),this.moduleType=e}create(e){return new J_(this.moduleType,e,[])}}class YR extends Fs{constructor(e){super(),this.componentFactoryResolver=new r1(this),this.instance=null;const n=new Rh([...e.providers,{provide:Fs,useValue:this},{provide:Uh,useValue:this.componentFactoryResolver}],e.parent||Nh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Z_(t,e,n=null){return new YR({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let $W=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Xx(0,n.type),i=r.length>0?Z_([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=j({token:t,providedIn:"environment",factory:()=>new t(B(Yn))})}return t})();function JR(t){t.getStandaloneInjector=e=>e.get($W).getOrCreateStandaloneInjector(t)}function tv(t,e,n){const r=un()+t,i=E();return i[r]===X?Ar(i,r,n?e.call(n):e()):function _c(t,e){return t[e]}(i,r)}function ik(t,e,n,r){return function sk(t,e,n,r,i,s){const o=e+n;return Kt(t,o,i)?Ar(t,o+1,s?r.call(s,i):r(i)):Mc(t,o+1)}(E(),un(),t,e,n,r)}function Mc(t,e){const n=t[e];return n===X?void 0:n}function ok(t,e,n,r,i,s,o){const a=e+n;return function Rs(t,e,n,r){const i=Kt(t,e,n);return Kt(t,e+1,r)||i}(t,a,i,s)?Ar(t,a+2,o?r.call(o,i,s):r(i,s)):Mc(t,a+2)}function dk(t,e,n,r){const i=t+se,s=E(),o=Uo(s,i);return function xc(t,e){return t[R].data[e].pure}(s,i)?ok(s,un(),e,o.transform,n,r,o):o.transform(n,r)}function h7(t,e,n,r=!0){const i=e[R];if(function Gq(t,e,n,r){const i=xt+r,s=n.length;r>0&&(n[i-1][ar]=e),r<s-xt?(e[ar]=n[i],XM(n,xt+r,e)):(n.push(e),e[ar]=null),e[Ve]=n;const o=e[Hu];null!==o&&n!==o&&function zq(t,e){const n=t[Lo];e[et]!==e[Ve][Ve][et]&&(t[XA]=!0),null===n?t[Lo]=[e]:n.push(e)}(o,e);const a=e[Er];null!==a&&a.insertView(t),e[ee]|=128}(i,e,t,n),r){const s=Uy(n,t),o=e[Y],a=Dh(o,t[Dr]);null!==a&&function jq(t,e,n,r,i,s){r[ze]=i,r[zt]=e,oc(t,r,n,1,i,s)}(i,t[zt],o,e,a,s)}}Symbol;let ai=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=g7}return t})();const f7=ai,p7=class extends f7{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function d7(t,e,n,r){const i=e.tView,a=$h(t,i,n,4096&t[ee]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Hu]=t[e.index];const c=t[Er];return null!==c&&(a[Er]=c.createEmbeddedView(i)),M_(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new mc(i)}};function g7(){return cf(Rt(),E())}function cf(t,e){return 4&t.type?new p7(e,t,sa(t,e)):null}let dr=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=I7}return t})();function I7(){return function _k(t,e){let n;const r=e[t.index];return an(r)?n=r:(n=zN(r,e,null,t),e[t.index]=n,Hh(e,n)),vk(n,e,t,r),new mk(n,t,e)}(Rt(),E())}const E7=dr,mk=class extends E7{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return sa(this._hostTNode,this._hostLView)}get injector(){return new ln(this._hostTNode,this._hostLView)}get parentInjector(){const e=uh(this._hostTNode,this._hostLView);if(_y(e)){const n=Xu(e,this._hostLView),r=Ju(e);return new ln(n[R].data[r+8],n)}return new ln(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=yk(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-xt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function ec(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const u=o?e:new yc(ue(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const y=(o?c:this.parentInjector).get(Yn,null);y&&(s=y)}ue(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function gz(t){return an(t[Ve])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Ve],l=new mk(c,c[zt],c[Ve]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return h7(a,i,o,!r),e.attachToViewContainerRef(),XM(rv(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=yk(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Eh(this._lContainer,n);r&&(dh(rv(this._lContainer),n),Py(r[R],r))}detach(e){const n=this._adjustIndex(e,-1),r=Eh(this._lContainer,n);return r&&null!=dh(rv(this._lContainer),n)?new mc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function yk(t){return t[8]}function rv(t){return t[8]||(t[8]=[])}let vk=function wk(t,e,n,r){if(t[Dr])return;let i;i=8&n.type?xe(r):function D7(t,e){const n=t[Y],r=n.createComment(""),i=bn(e,t);return xs(n,Dh(n,i),r,function Qq(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Dr]=i};function df(t,e){return cf(t,e)}const pv=new F("Application Initializer");let gv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=P(pv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Ec(s))n.push(s);else if(S1(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),zk=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const ui=new F("LocaleId",{providedIn:"root",factory:()=>P(ui,ie.Optional|ie.SkipSelf)||function Z7(){return typeof $localize<"u"&&$localize.locale||Ea}()}),e8=new F("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let qk=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new zn(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class n8{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Wk=(()=>{class t{compileModuleSync(n){return new X_(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=si(Fn(n).declarations).reduce((o,a)=>{const u=ue(a);return u&&o.push(new yc(u)),o},[]);return new n8(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Jk=new F(""),pf=new F("");let wv,_v=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,wv||(function E8(t){wv=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(B(_e),B(vv),B(pf))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),vv=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return wv?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Hi=null;const Xk=new F("AllowMultipleToken"),Iv=new F("PlatformDestroyListeners"),Ev=new F("appBootstrapListener");class eO{constructor(e,n){this.name=e,this.token=n}}function nO(t,e,n=[]){const r=`Platform: ${e}`,i=new F(r);return(s=[])=>{let o=Dv();if(!o||o.injector.get(Xk,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function b8(t){if(Hi&&!Hi.get(Xk,!1))throw new T(400,!1);(function Zk(){!function ez(t){lM=t}(()=>{throw new T(600,!1)})})(),Hi=t;const e=t.get(iO);(function tO(t){t.get(rN,null)?.forEach(n=>n())})(t)}(function rO(t=[],e){return Wt.create({name:e,providers:[{provide:Jy,useValue:"platform"},{provide:Iv,useValue:new Set([()=>Hi=null])},...t]})}(a,r))}return function S8(t){const e=Dv();if(!e)throw new T(401,!1);return e}()}}function Dv(){return Hi?.get(iO)??null}let iO=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function A8(t="zone.js",e){return"noop"===t?new c6:"zone.js"===t?new _e(e):t}(r?.ngZone,function sO(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function jW(t,e,n){return new J_(t,e,n)}(n.moduleType,this.injector,function lO(t){return[{provide:_e,useFactory:t},{provide:lc,multi:!0,useFactory:()=>{const e=P(x8,{optional:!0});return()=>e.initialize()}},{provide:cO,useFactory:M8},{provide:IN,useFactory:EN}]}(()=>i)),o=s.injector.get(ii,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{gf(this._modules,s),a.unsubscribe()})}),function oO(t,e,n){try{const r=n();return Ec(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(gv);return a.runInitializers(),a.donePromise.then(()=>(function CR(t){qn(t,"Expected localeId to be defined"),"string"==typeof t&&(DR=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(ui,Ea)||Ea),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=aO({},r);return function D8(t,e,n){const r=new X_(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(ba);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new T(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Iv,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(B(Wt))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function aO(t,e){return Array.isArray(e)?e.reduce(aO,t):{...t,...e}}let ba=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P(cO),this.zoneIsStable=P(IN),this.componentTypes=[],this.components=[],this.isStable=P(qk).hasPendingTasks.pipe(wr(n=>n?W(!1):this.zoneIsStable),function d4(t,e=xi){return t=t??h4,ht((n,r)=>{let i,s=!0;n.subscribe(at(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),AA()),this._injector=P(Yn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof uN;if(!this._injector.get(gv).done)throw!i&&function Ro(t){const e=ue(t)||Mt(t)||on(t);return null!==e&&e.standalone}(n),new T(405,!1);let o;o=i?n:this._injector.get(Uh).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function C8(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Fs),c=o.create(Wt.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(Jk,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),gf(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;gf(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Ev,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>gf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const cO=new F("",{providedIn:"root",factory:()=>P(ii).handleError.bind(void 0)});function M8(){const t=P(_e),e=P(ii);return n=>t.runOutsideAngular(()=>e.handleError(n))}let x8=(()=>{class t{constructor(){this.zone=P(_e),this.applicationRef=P(ba)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let mf=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=R8}return t})();function R8(t){return function k8(t,e,n){if(Ts(t)&&!n){const r=Ln(t.index,e);return new mc(r,r)}return 47&t.type?new mc(e[et],e):null}(Rt(),E(),16==(16&t))}class pO{constructor(){}supports(e){return Wh(e)}create(e){return new U8(e)}}const V8=(t,e)=>e;class U8{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||V8}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<mO(r,i,s)?n:r,a=mO(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Wh(e))throw new T(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function v9(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new B8(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new gO),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gO),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class B8{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class j8{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class gO{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new j8,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mO(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function _O(){return new vf([new pO])}let vf=(()=>{class t{static#e=this.\u0275prov=j({token:t,providedIn:"root",factory:_O});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||_O()),deps:[[t,new fh,new dn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new T(901,!1)}}return t})();const q8=nO(null,"core",[]);let W8=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(B(ba))};static#t=this.\u0275mod=sn({type:t});static#n=this.\u0275inj=Gt({})}return t})();function Ta(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let Mv=null;function Gi(){return Mv}class aK{}const Xn=new F("DocumentToken");let xv=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return P(cK)},providedIn:"platform"})}return t})();const uK=new F("Location Initialized");let cK=(()=>{class t extends xv{constructor(){super(),this._doc=P(Xn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Gi().getBaseHref(this._doc)}onPopState(n){const r=Gi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Gi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function Nv(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function AO(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function ci(t){return t&&"?"!==t[0]?"?"+t:t}let Vs=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return P(xO)},providedIn:"root"})}return t})();const MO=new F("appBaseHref");let xO=(()=>{class t extends Vs{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(Xn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Nv(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+ci(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+ci(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+ci(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(B(xv),B(MO,8))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),lK=(()=>{class t extends Vs{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Nv(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+ci(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+ci(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(B(xv),B(MO,8))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),Rv=(()=>{class t{constructor(n){this._subject=new qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function fK(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(AO(NO(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ci(r))}normalize(n){return t.stripTrailingSlash(function hK(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,NO(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ci(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ci(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=ci;static#t=this.joinWithSlash=Nv;static#n=this.stripTrailingSlash=AO;static#r=this.\u0275fac=function(r){return new(r||t)(B(Vs))};static#i=this.\u0275prov=j({token:t,factory:function(){return function dK(){return new Rv(B(Vs))}()},providedIn:"root"})}return t})();function NO(t){return t.replace(/\/index.html$/,"")}const RO={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var If=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(If||{}),nt=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(nt||{});function Zn(t,e){const n=fn(t),r=n[Ne.NumberSymbols][e];if(typeof r>"u"){if(e===nt.CurrencyDecimal)return n[Ne.NumberSymbols][nt.Decimal];if(e===nt.CurrencyGroup)return n[Ne.NumberSymbols][nt.Group]}return r}const BK=/^(\d+)?\.((\d+)(-(\d+))?)?$/,LO=22,xf=".",Pc="0",jK=";",$K=",",Lv="#";function GK(t,e,n,r,i){const o=function Uv(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(jK),i=r[0],s=r[1],o=-1!==i.indexOf(xf)?i.split(xf):[i.substring(0,i.lastIndexOf(Pc)+1),i.substring(i.lastIndexOf(Pc)+1)],a=o[0],u=o[1]||"";n.posPre=a.substring(0,a.indexOf(Lv));for(let l=0;l<u.length;l++){const d=u.charAt(l);d===Pc?n.minFrac=n.maxFrac=l+1:d===Lv?n.maxFrac=l+1:n.posSuf+=d}const c=a.split($K);if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const l=i.length-n.posPre.length-n.posSuf.length,d=s.indexOf(Lv);n.negPre=s.substring(0,d).replace(/'/g,""),n.negSuf=s.slice(d+l).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function kv(t,e){return fn(t)[Ne.NumberFormats][e]}(e,If.Currency),Zn(e,nt.MinusSign));return o.minFrac=function TK(t){let e;const n=RO[t];return n&&(e=n[2]),"number"==typeof e?e:2}(r),o.maxFrac=o.minFrac,function Vv(t,e,n,r,i,s,o=!1){let a="",u=!1;if(isFinite(t)){let c=function KK(t){let r,i,s,o,a,e=Math.abs(t)+"",n=0;for((i=e.indexOf(xf))>-1&&(e=e.replace(xf,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===Pc;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Pc;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>LO&&(r=r.splice(0,LO-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);o&&(c=function WK(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,d=e.minFrac,h=e.maxFrac;if(s){const _=s.match(BK);if(null===_)throw new Error(`${s} is not a valid digit info`);const b=_[1],k=_[3],V=_[5];null!=b&&(l=Bv(b)),null!=k&&(d=Bv(k)),null!=V?h=Bv(V):null!=k&&d>h&&(h=d)}!function QK(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=0!==s;const c=e+t.integerLen,l=r.reduceRight(function(d,h,f,p){return p[f]=(h+=d)<10?h:h-10,u&&(0===p[f]&&f>=c?p.pop():u=!1),h>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}(c,d,h);let f=c.digits,p=c.integerLen;const m=c.exponent;let y=[];for(u=f.every(_=>!_);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?y=f.splice(p,f.length):(y=f,f=[0]);const w=[];for(f.length>=e.lgSize&&w.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)w.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&w.unshift(f.join("")),a=w.join(Zn(n,r)),y.length&&(a+=Zn(n,i)+y.join("")),m&&(a+=Zn(n,nt.Exponential)+"+"+m)}else a=Zn(n,nt.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,o,e,nt.CurrencyGroup,nt.CurrencyDecimal,i).replace("\xa4",n).replace("\xa4","").trim()}function Bv(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class eQ{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $O=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new eQ(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),HO(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{HO(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(C(dr),C(ai),C(vf))};static#t=this.\u0275dir=q({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function HO(t,e){t.context.$implicit=e.item}let Nf=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new tQ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){GO("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){GO("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(C(dr),C(ai))};static#t=this.\u0275dir=q({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class tQ{constructor(){this.$implicit=null,this.ngIf=null}}function GO(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${ft(e)}'.`)}let WO=(()=>{class t{constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",s,o){if(!function zv(t){return!(null==t||""===t||t!=t)}(n))return null;o=o||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function CK(t,e,n="en"){const r=function wK(t){return fn(t)[Ne.Currencies]}(n)[t]||RO[t]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||t}(a,"symbol"===i?"wide":"narrow",o):i);try{return GK(function qv(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(n),o,a,r,s)}catch(u){throw function fr(t,e){return new T(2100,!1)}()}}static#e=this.\u0275fac=function(r){return new(r||t)(C(ui,16),C(e8,16))};static#t=this.\u0275pipe=Dn({name:"currency",type:t,pure:!0,standalone:!0})}return t})();let Wv=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=sn({type:t});static#n=this.\u0275inj=Gt({})}return t})();function QO(t){return"server"===t}let AQ=(()=>{class t{static#e=this.\u0275prov=j({token:t,providedIn:"root",factory:()=>new MQ(B(Xn),window)})}return t})();class MQ{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function xQ(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class eY extends aK{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Yv extends eY{static makeCurrent(){!function oK(t){Mv||(Mv=t)}(new Yv)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function tY(){return Lc=Lc||document.querySelector("base"),Lc?Lc.getAttribute("href"):null}();return null==n?null:function nY(t){Of=Of||document.createElement("a"),Of.setAttribute("href",t);const e=Of.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Lc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function JK(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Of,Lc=null,iY=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();const Jv=new F("EventManagerPlugins");let eP=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new T(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(B(Jv),B(_e))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();class tP{constructor(e){this._doc=e}}const Xv="ng-app-id";let nP=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=QO(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Xv}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(Xv),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Xv,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(B(Xn),B(kh),B(iN,8),B(ji))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();const Zv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ew=/%COMP%/g,uY=new F("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function iP(t,e){return e.map(n=>n.replace(ew,t))}let sP=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=QO(a),this.defaultRenderer=new tw(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===sr.ShadowDom&&(r={...r,encapsulation:sr.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof aP?i.applyToHost(n):i instanceof nw&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case sr.Emulated:s=new aP(u,c,r,this.appId,l,o,a,d);break;case sr.ShadowDom:return new hY(u,c,n,r,o,a,this.nonce,d);default:s=new nw(u,c,r,l,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(B(eP),B(nP),B(kh),B(uY),B(Xn),B(ji),B(_e),B(iN))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();class tw{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Zv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(oP(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(oP(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new T(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Zv[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Zv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Ui.DashCase|Ui.Important)?e.style.setProperty(n,r,i&Ui.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Ui.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Gi().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function oP(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class hY extends tw{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=iP(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class nw extends tw{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?iP(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class aP extends nw{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function cY(t){return"_ngcontent-%COMP%".replace(ew,t)}(c),this.hostAttr=function lY(t){return"_nghost-%COMP%".replace(ew,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let fY=(()=>{class t extends tP{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(B(Xn))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();const uP=["alt","control","meta","shift"],pY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gY={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let mY=(()=>{class t extends tP{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gi().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),uP.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=pY[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),uP.forEach(o=>{o!==i&&(0,gY[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(B(Xn))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();const lP=[{provide:ji,useValue:"browser"},{provide:rN,useValue:function yY(){Yv.makeCurrent()},multi:!0},{provide:Xn,useFactory:function vY(){return function r3(t){$y=t}(document),document},deps:[]}],wY=nO(q8,"browser",lP),IY=new F(""),dP=[{provide:pf,useClass:class rY{addToWindow(e){Me.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new T(5103,!1);return s},Me.getAllAngularTestabilities=()=>e.getAllTestabilities(),Me.getAllAngularRootElements=()=>e.getAllRootElements(),Me.frameworkStabilizers||(Me.frameworkStabilizers=[]),Me.frameworkStabilizers.push(r=>{const i=Me.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Gi().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:Jk,useClass:_v,deps:[_e,vv,pf]},{provide:_v,useClass:_v,deps:[_e,vv,pf]}],hP=[{provide:Jy,useValue:"root"},{provide:ii,useFactory:function _Y(){return new ii},deps:[]},{provide:Jv,useClass:fY,multi:!0,deps:[Xn,_e,ji]},{provide:Jv,useClass:mY,multi:!0,deps:[Xn]},sP,nP,eP,{provide:lN,useExisting:sP},{provide:class NQ{},useClass:iY,deps:[]},[]];let EY=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:kh,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(B(IY,12))};static#t=this.\u0275mod=sn({type:t});static#n=this.\u0275inj=Gt({providers:[...hP,...dP],imports:[Wv,W8]})}return t})(),fP=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(B(Xn))};static#t=this.\u0275prov=j({token:t,factory:function(r){let i=null;return i=r?new r:function CY(){return new fP(B(Xn))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;const{isArray:xY}=Array,{getPrototypeOf:NY,prototype:RY,keys:kY}=Object;function yP(t){if(1===t.length){const e=t[0];if(xY(e))return{args:e,keys:null};if(function OY(t){return t&&"object"==typeof t&&NY(t)===RY}(e)){const n=kY(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:PY}=Array;function _P(t){return ve(e=>function FY(t,e){return PY(e)?t(...e):t(e)}(t,e))}function vP(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function iw(...t){const e=Fu(t),n=TA(t),{args:r,keys:i}=yP(t);if(0===r.length)return vt([],e);const s=new je(function LY(t,e,n=xi){return r=>{wP(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)wP(e,()=>{const c=vt(t[u],e);let l=!1;c.subscribe(at(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>vP(i,o):xi));return n?s.pipe(_P(n)):s}function wP(t,e,n){t?Yr(n,t,e):e()}const Pf=Ou(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function sw(...t){return function VY(){return xo(1)}()(vt(t,Fu(t)))}function IP(t){return new je(e=>{On(t()).subscribe(e)})}function Vc(t,e){const n=be(t)?t:()=>t,r=i=>i.error(n());return new je(e?i=>e.schedule(r,0,i):r)}function ow(){return ht((t,e)=>{let n=null;t._refCount++;const r=at(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class EP extends je{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,dA(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new In;const n=this.getSubject();e.add(this.source.subscribe(at(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=In.EMPTY)}return e}refCount(){return ow()(this)}}function Aa(t){return t<=0?()=>vr:ht((e,n)=>{let r=0;e.subscribe(at(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function qi(t,e){return ht((n,r)=>{let i=0;n.subscribe(at(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Ff(t){return ht((e,n)=>{let r=!1;e.subscribe(at(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function DP(t=BY){return ht((e,n)=>{let r=!1;e.subscribe(at(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function BY(){return new Pf}function Us(t,e){const n=arguments.length>=2;return r=>r.pipe(t?qi((i,s)=>t(i,s,r)):xi,Aa(1),n?Ff(e):DP(()=>new Pf))}function Uc(t,e){return be(e)?At(t,e,1):At(t,1)}function Pt(t,e,n){const r=be(t)||e||n?{next:t,error:e,complete:n}:t;return r?ht((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(at(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):xi}function Bs(t){return ht((e,n)=>{let s,r=null,i=!1;r=e.subscribe(at(n,void 0,void 0,o=>{s=On(t(o,Bs(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function aw(t){return t<=0?()=>vr:ht((e,n)=>{let r=[];e.subscribe(at(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function uw(t){return ht((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ne="primary",Bc=Symbol("RouteTitle");class qY{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ma(t){return new qY(t)}function WY(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Rr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!CP(t[i],e[i]))return!1;return!0}function CP(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function bP(t){return t.length>0?t[t.length-1]:null}function Wi(t){return function MY(t){return!!t&&(t instanceof je||be(t.lift)&&be(t.subscribe))}(t)?t:Ec(t)?vt(Promise.resolve(t)):W(t)}const QY={exact:function AP(t,e,n){if(!js(t.segments,e.segments)||!Lf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!AP(t.children[r],e.children[r],n))return!1;return!0},subset:MP},TP={exact:function YY(t,e){return Rr(t,e)},subset:function JY(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>CP(t[n],e[n]))},ignored:()=>!0};function SP(t,e,n){return QY[n.paths](t.root,e.root,n.matrixParams)&&TP[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function MP(t,e,n){return xP(t,e,e.segments,n)}function xP(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!js(i,n)||e.hasChildren()||!Lf(i,n,r))}if(t.segments.length===n.length){if(!js(t.segments,n)||!Lf(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!MP(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(js(t.segments,i)&&Lf(t.segments,i,r)&&t.children[ne])&&xP(t.children[ne],e,s,r)}}function Lf(t,e,n){return e.every((r,i)=>TP[n](t[i].parameters,r.parameters))}class xa{constructor(e=new Ee([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ma(this.queryParams)),this._queryParamMap}toString(){return eJ.serialize(this)}}class Ee{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vf(this)}}class jc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ma(this.parameters)),this._parameterMap}toString(){return kP(this)}}function js(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let $c=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return new cw},providedIn:"root"})}return t})();class cw{parse(e){const n=new dJ(e);return new xa(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Hc(e.root,!0)}`,r=function rJ(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Uf(n)}=${Uf(i)}`).join("&"):`${Uf(n)}=${Uf(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function tJ(t){return encodeURI(t)}(e.fragment)}`:""}`}}const eJ=new cw;function Vf(t){return t.segments.map(e=>kP(e)).join("/")}function Hc(t,e){if(!t.hasChildren())return Vf(t);if(e){const n=t.children[ne]?Hc(t.children[ne],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ne&&r.push(`${i}:${Hc(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function ZY(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ne&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ne&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ne?[Hc(t.children[ne],!1)]:[`${i}:${Hc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ne]?`${Vf(t)}/${n[0]}`:`${Vf(t)}/(${n.join("//")})`}}function NP(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Uf(t){return NP(t).replace(/%3B/gi,";")}function lw(t){return NP(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bf(t){return decodeURIComponent(t)}function RP(t){return Bf(t.replace(/\+/g,"%20"))}function kP(t){return`${lw(t.path)}${function nJ(t){return Object.keys(t).map(e=>`;${lw(e)}=${lw(t[e])}`).join("")}(t.parameters)}`}const iJ=/^[^\/()?;#]+/;function dw(t){const e=t.match(iJ);return e?e[0]:""}const sJ=/^[^\/()?;=#]+/,aJ=/^[^=?&#]+/,cJ=/^[^&#]+/;class dJ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ee([],{}):new Ee([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ne]=new Ee(e,n)),r}parseSegment(){const e=dw(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(e),new jc(Bf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function oJ(t){const e=t.match(sJ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=dw(this.remaining);i&&(r=i,this.capture(r))}e[Bf(n)]=Bf(r)}parseQueryParam(e){const n=function uJ(t){const e=t.match(aJ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function lJ(t){const e=t.match(cJ);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=RP(n),s=RP(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=dw(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new T(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ne);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ne]:new Ee([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new T(4011,!1)}}function OP(t){return t.segments.length>0?new Ee([],{[ne]:t}):t}function PP(t){const e={};for(const r of Object.keys(t.children)){const s=PP(t.children[r]);if(r===ne&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function hJ(t){if(1===t.numberOfChildren&&t.children[ne]){const e=t.children[ne];return new Ee(t.segments.concat(e.segments),e.children)}return t}(new Ee(t.segments,e))}function $s(t){return t instanceof xa}function FP(t){let e;const i=OP(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new Ee(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function LP(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return hw(i,i,i,n,r);const s=function pJ(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new UP(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new UP(n,e,r)}(e);if(s.toRoot())return hw(i,i,new Ee([],{}),n,r);const o=function gJ(t,e,n){if(t.isAbsolute)return new $f(e,!0,0);if(!n)return new $f(e,!1,NaN);if(null===n.parent)return new $f(n,!0,0);const r=jf(t.commands[0])?0:1;return function mJ(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new T(4005,!1);i=r.segments.length}return new $f(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?zc(o.segmentGroup,o.index,s.commands):BP(o.segmentGroup,o.index,s.commands);return hw(i,o.segmentGroup,a,n,r)}function jf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Gc(t){return"object"==typeof t&&null!=t&&t.outlets}function hw(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:VP(t,e,n);const a=OP(PP(o));return new xa(a,s,i)}function VP(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:VP(s,e,n)}),new Ee(t.segments,r)}class UP{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&jf(r[0]))throw new T(4003,!1);const i=r.find(Gc);if(i&&i!==bP(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $f{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function BP(t,e,n){if(t||(t=new Ee([],{})),0===t.segments.length&&t.hasChildren())return zc(t,e,n);const r=function _J(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Gc(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!$P(u,c,o))return s;r+=2}else{if(!$P(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Ee(t.segments.slice(0,r.pathIndex),{});return s.children[ne]=new Ee(t.segments.slice(r.pathIndex),t.children),zc(s,0,i)}return r.match&&0===i.length?new Ee(t.segments,{}):r.match&&!t.hasChildren()?fw(t,e,n):r.match?zc(t,0,i):fw(t,e,n)}function zc(t,e,n){if(0===n.length)return new Ee(t.segments,{});{const r=function yJ(t){return Gc(t[0])?t[0].outlets:{[ne]:t}}(n),i={};if(Object.keys(r).some(s=>s!==ne)&&t.children[ne]&&1===t.numberOfChildren&&0===t.children[ne].segments.length){const s=zc(t.children[ne],e,n);return new Ee(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=BP(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Ee(t.segments,i)}}function fw(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Gc(s)){const u=vJ(s.outlets);return new Ee(r,u)}if(0===i&&jf(n[0])){r.push(new jc(t.segments[e].path,jP(n[0]))),i++;continue}const o=Gc(s)?s.outlets[ne]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&jf(a)?(r.push(new jc(o,jP(a))),i+=2):(r.push(new jc(o,{})),i++)}return new Ee(r,{})}function vJ(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=fw(new Ee([],{}),0,r))}),e}function jP(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function $P(t,e,n){return t==n.path&&Rr(e,n.parameters)}const qc="imperative";class kr{constructor(e,n){this.id=e,this.url=n}}class Hf extends kr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ki extends kr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Wc extends kr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Na extends kr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Gf extends kr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class HP extends kr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wJ extends kr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class IJ extends kr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class EJ extends kr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DJ extends kr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CJ{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bJ{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class TJ{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SJ{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AJ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MJ{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GP{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class pw{}class gw{constructor(e){this.url=e}}class xJ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Kc,this.attachRef=null}}let Kc=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new xJ,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class zP{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=mw(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=mw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=yw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return yw(e,this._root).map(n=>n.value)}}function mw(t,e){if(t===e.value)return e;for(const n of e.children){const r=mw(t,n);if(r)return r}return null}function yw(t,e){if(t===e.value)return[e];for(const n of e.children){const r=yw(t,n);if(r.length)return r.unshift(e),r}return[]}class hi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ra(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class qP extends zP{constructor(e,n){super(e),this.snapshot=n,_w(this,e)}toString(){return this.snapshot.toString()}}function WP(t,e){const n=function NJ(t,e){const o=new zf([],{},{},"",{},ne,e,null,{});return new QP("",new hi(o,[]))}(0,e),r=new zn([new jc("",{})]),i=new zn({}),s=new zn({}),o=new zn({}),a=new zn(""),u=new Hs(r,i,o,a,s,ne,e,n.root);return u.snapshot=n.root,new qP(new hi(u,[]),n)}class Hs{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ve(c=>c[Bc]))??W(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ve(e=>Ma(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ve(e=>Ma(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function KP(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function RJ(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class zf{get title(){return this.data?.[Bc]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ma(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ma(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class QP extends zP{constructor(e,n){super(n),this.url=e,_w(this,n)}toString(){return YP(this._root)}}function _w(t,e){e.value._routerState=t,e.children.forEach(n=>_w(t,n))}function YP(t){const e=t.children.length>0?` { ${t.children.map(YP).join(", ")} } `:"";return`${t.value}${e}`}function vw(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Rr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Rr(e.params,n.params)||t.paramsSubject.next(n.params),function KY(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Rr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Rr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ww(t,e){const n=Rr(t.params,e.params)&&function XY(t,e){return js(t,e)&&t.every((n,r)=>Rr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||ww(t.parent,e.parent))}let Iw=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ne,this.activateEvents=new qe,this.deactivateEvents=new qe,this.attachEvents=new qe,this.detachEvents=new qe,this.parentContexts=P(Kc),this.location=P(dr),this.changeDetector=P(mf),this.environmentInjector=P(Yn),this.inputBinder=P(qf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new kJ(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=q({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Kn]})}return t})();class kJ{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Hs?this.route:e===Kc?this.childContexts:this.parent.get(e,n)}}const qf=new F("");let JP=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=iw([r.queryParams,r.params,r.data]).pipe(wr(([s,o,a],u)=>(a={...s,...o,...a},0===u?W(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function sK(t){const e=ue(t);if(!e)return null;const n=new yc(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();function Qc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function PJ(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Qc(t,r,i);return Qc(t,r)})}(t,e,n);return new hi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Qc(t,a)),o}}const r=function FJ(t){return new Hs(new zn(t.url),new zn(t.params),new zn(t.queryParams),new zn(t.fragment),new zn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Qc(t,s));return new hi(r,i)}}const Ew="ngNavigationCancelingError";function XP(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=$s(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ZP(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function ZP(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Ew]=!0,r.cancellationCode=e,n&&(r.url=n),r}function eF(t){return t&&t[Ew]}let tF=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ki({type:t,selectors:[["ng-component"]],standalone:!0,features:[JR],decls:1,vars:0,template:function(r,i){1&r&&Ot(0,"router-outlet")},dependencies:[Iw],encapsulation:2})}return t})();function Dw(t){const e=t.children&&t.children.map(Dw),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ne&&(n.component=tF),n}function pr(t){return t.outlet||ne}function Yc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class GJ{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),vw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Ra(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ra(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ra(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Ra(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new MJ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new SJ(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(vw(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),vw(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Yc(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class nF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Wf{constructor(e,n){this.component=e,this.route=n}}function zJ(t,e,n){const r=t._root;return Jc(r,e?e._root:null,n,[r.value])}function ka(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function v4(t){return null!==jd(t)}(t)?e.get(t):t:r}function Jc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ra(e);return t.children.forEach(o=>{(function WJ(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function KJ(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!js(t.url,e.url);case"pathParamsOrQueryParamsChange":return!js(t.url,e.url)||!Rr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ww(t,e)||!Rr(t.queryParams,e.queryParams);default:return!ww(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new nF(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Jc(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Wf(a.outlet.component,o))}else o&&Xc(e,a,i),i.canActivateChecks.push(new nF(r)),Jc(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Xc(a,n.getContext(o),i)),i}function Xc(t,e,n){const r=Ra(t),i=t.value;Object.entries(r).forEach(([s,o])=>{Xc(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new Wf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Zc(t){return"function"==typeof t}function rF(t){return t instanceof Pf||"EmptyError"===t?.name}const Kf=Symbol("INITIAL_VALUE");function Oa(){return wr(t=>iw(t.map(e=>e.pipe(Aa(1),function UY(...t){const e=Fu(t);return ht((n,r)=>{(e?sw(t,n,e):sw(t,n)).subscribe(r)})}(Kf)))).pipe(ve(e=>{for(const n of e)if(!0!==n){if(n===Kf)return Kf;if(!1===n||n instanceof xa)return n}return!0}),qi(e=>e!==Kf),Aa(1)))}function iF(t){return function EG(...t){return uA(t)}(Pt(e=>{if($s(e))throw XP(0,e)}),ve(e=>!0===e))}class Qf{constructor(e){this.segmentGroup=e||null}}class sF{constructor(e){this.urlTree=e}}function Pa(t){return Vc(new Qf(t))}function oF(t){return Vc(new sF(t))}class pX{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new T(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return W(r);if(i.numberOfChildren>1||!i.children[ne])return Vc(new T(4e3,!1));i=i.children[ne]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new xa(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Ee(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new T(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const Cw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gX(t,e,n,r,i){const s=bw(t,e,n);return s.matched?(r=function VJ(t,e){return t.providers&&!t._injector&&(t._injector=Z_(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function dX(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?W(i.map(o=>{const a=ka(o,t);return Wi(function eX(t){return t&&Zc(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Oa(),iF()):W(!0)}(r,e,n).pipe(ve(o=>!0===o?s:{...Cw}))):W(s)}function bw(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Cw}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||WY)(n,t,e);if(!i)return{...Cw};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function aF(t,e,n,r){return n.length>0&&function _X(t,e,n){return n.some(r=>Yf(t,e,r)&&pr(r)!==ne)}(t,n,r)?{segmentGroup:new Ee(e,yX(r,new Ee(n,t.children))),slicedSegments:[]}:0===n.length&&function vX(t,e,n){return n.some(r=>Yf(t,e,r))}(t,n,r)?{segmentGroup:new Ee(t.segments,mX(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ee(t.segments,t.children),slicedSegments:n}}function mX(t,e,n,r,i){const s={};for(const o of r)if(Yf(t,n,o)&&!i[pr(o)]){const a=new Ee([],{});s[pr(o)]=a}return{...i,...s}}function yX(t,e){const n={};n[ne]=e;for(const r of t)if(""===r.path&&pr(r)!==ne){const i=new Ee([],{});n[pr(r)]=i}return n}function Yf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class DX{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new pX(this.urlSerializer,this.urlTree)}noMatchError(e){return new T(4002,!1)}recognize(){const e=aF(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ne).pipe(Bs(n=>{if(n instanceof sF)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Qf?this.noMatchError(n):n}),ve(n=>{const r=new zf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ne,this.rootComponentType,null,{}),i=new hi(r,n),s=new QP("",i),o=function fJ(t,e,n=null,r=null){return LP(FP(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ne).pipe(Bs(r=>{throw r instanceof Qf?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=KP(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return vt(i).pipe(Uc(s=>{const o=r.children[s],a=function $J(t,e){const n=t.filter(r=>pr(r)===e);return n.push(...t.filter(r=>pr(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function $Y(t,e){return ht(function jY(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(at(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Ff(null),function HY(t,e){const n=arguments.length>=2;return r=>r.pipe(t?qi((i,s)=>t(i,s,r)):xi,aw(1),n?Ff(e):DP(()=>new Pf))}(),At(s=>{if(null===s)return Pa(r);const o=uF(s);return function CX(t){t.sort((e,n)=>e.value.outlet===ne?-1:n.value.outlet===ne?1:e.value.outlet.localeCompare(n.value.outlet))}(o),W(o)}))}processSegment(e,n,r,i,s,o){return vt(n).pipe(Uc(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Bs(u=>{if(u instanceof Qf)return W(null);throw u}))),Us(a=>!!a),Bs(a=>{if(rF(a))return function IX(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?W([]):Pa(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function wX(t,e,n,r){return!!(pr(t)===r||r!==ne&&Yf(e,n,t))&&("**"===t.path||bw(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Pa(i):Pa(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?oF(s):this.applyRedirects.lineralizeSegments(r,s).pipe(At(o=>{const a=new Ee(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=bw(n,i,s);if(!a)return Pa(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?oF(d):this.applyRedirects.lineralizeSegments(i,d).pipe(At(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?bP(i).parameters:{};a=W({snapshot:new zf(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cF(r),pr(r),r.component??r._loadedComponent??null,r,lF(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=gX(n,r,i,e).pipe(ve(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new zf(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cF(r),pr(r),r.component??r._loadedComponent??null,r,lF(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(wr(u=>null===u?Pa(n):this.getChildConfig(e=r._injector??e,r,i).pipe(wr(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:m}=aF(n,h,f,c);if(0===m.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(ve(w=>null===w?null:[new hi(d,w)]));if(0===c.length&&0===m.length)return W([new hi(d,[])]);const y=pr(r)===s;return this.processSegment(l,c,p,m,y?ne:s,!0).pipe(ve(w=>[new hi(d,w)]))}))))}getChildConfig(e,n,r){return n.children?W({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?W({routes:n._loadedRoutes,injector:n._loadedInjector}):function lX(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?W(!0):W(i.map(o=>{const a=ka(o,t);return Wi(function YJ(t){return t&&Zc(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Oa(),iF())}(e,n,r).pipe(At(i=>i?this.configLoader.loadChildren(e,n).pipe(Pt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function fX(t){return Vc(ZP(!1,3))}())):W({routes:[],injector:e})}}function bX(t){const e=t.value.routeConfig;return e&&""===e.path}function uF(t){const e=[],n=new Set;for(const r of t){if(!bX(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=uF(r.children);e.push(new hi(r.value,i))}return e.filter(r=>!n.has(r))}function cF(t){return t.data||{}}function lF(t){return t.resolve||{}}function dF(t){return"string"==typeof t.title||null===t.title}function Tw(t){return wr(e=>{const n=t(e);return n?vt(n).pipe(ve(()=>e)):W(e)})}const Fa=new F("ROUTES");let Sw=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(Wk)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return W(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Wi(n.loadComponent()).pipe(ve(hF),Pt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),uw(()=>{this.componentLoaders.delete(n)})),i=new EP(r,()=>new ir).pipe(ow());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function RX(t,e,n,r){return Wi(t.loadChildren()).pipe(ve(hF),At(i=>i instanceof QR||Array.isArray(i)?W(i):vt(e.compileModuleAsync(i))),ve(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(Fa,[],{optional:!0,self:!0}).flat()),{routes:o.map(Dw),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(uw(()=>{this.childrenLoaders.delete(r)})),o=new EP(s,()=>new ir).pipe(ow());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function hF(t){return function kX(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Jf=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ir,this.transitionAbortSubject=new ir,this.configLoader=P(Sw),this.environmentInjector=P(Yn),this.urlSerializer=P($c),this.rootContexts=P(Kc),this.inputBindingEnabled=null!==P(qf,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new bJ(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new CJ(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new zn({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:qc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(qi(s=>0!==s.id),ve(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),wr(s=>{this.currentTransition=s;let o=!1,a=!1;return W(s).pipe(Pt(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),wr(u=>{const c=u.currentBrowserUrl.toString(),l=!n.navigated||u.extractedUrl.toString()!==c||c!==u.currentUrlTree.toString();if(!l&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new Na(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),vr}if(n.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return W(u).pipe(wr(h=>{const f=this.transitions?.getValue();return this.events.next(new Hf(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?vr:Promise.resolve(h)}),function TX(t,e,n,r,i,s){return At(o=>function EX(t,e,n,r,i,s,o="emptyOnly"){return new DX(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(ve(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Pt(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new HP(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:y}=u,w=new Hf(h,this.urlSerializer.serialize(f),p,m);this.events.next(w);const _=WP(0,this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:_,urlAfterRedirects:f,extras:{...y,skipLocationChange:!1,replaceUrl:!1}},W(s)}{const h="";return this.events.next(new Na(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),vr}}),Pt(u=>{const c=new wJ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),ve(u=>(this.currentTransition=s={...u,guards:zJ(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function nX(t,e){return At(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?W({...n,guardsResult:!0}):function rX(t,e,n,r){return vt(t).pipe(At(i=>function cX(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?W(s.map(a=>{const u=Yc(e)??i,c=ka(a,u);return Wi(function ZJ(t){return t&&Zc(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Us())})).pipe(Oa()):W(!0)}(i.component,i.route,n,e,r)),Us(i=>!0!==i,!0))}(o,r,i,t).pipe(At(a=>a&&function QJ(t){return"boolean"==typeof t}(a)?function iX(t,e,n,r){return vt(e).pipe(Uc(i=>sw(function oX(t,e){return null!==t&&e&&e(new TJ(t)),W(!0)}(i.route.parent,r),function sX(t,e){return null!==t&&e&&e(new AJ(t)),W(!0)}(i.route,r),function uX(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function qJ(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>IP(()=>W(o.guards.map(u=>{const c=Yc(o.node)??n,l=ka(u,c);return Wi(function XJ(t){return t&&Zc(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Us())})).pipe(Oa())));return W(s).pipe(Oa())}(t,i.path,n),function aX(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return W(!0);const i=r.map(s=>IP(()=>{const o=Yc(e)??n,a=ka(s,o);return Wi(function JJ(t){return t&&Zc(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Us())}));return W(i).pipe(Oa())}(t,i.route,n))),Us(i=>!0!==i,!0))}(r,s,t,e):W(a)),ve(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),Pt(u=>{if(s.guardsResult=u.guardsResult,$s(u.guardsResult))throw XP(0,u.guardsResult);const c=new IJ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),qi(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),Tw(u=>{if(u.guards.canActivateChecks.length)return W(u).pipe(Pt(c=>{const l=new EJ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),wr(c=>{let l=!1;return W(c).pipe(function SX(t,e){return At(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return W(n);let s=0;return vt(i).pipe(Uc(o=>function AX(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!dF(i)&&(s[Bc]=i.title),function MX(t,e,n,r){const i=function xX(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return W({});const s={};return vt(i).pipe(At(o=>function NX(t,e,n,r){const i=Yc(e)??r,s=ka(t,i);return Wi(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Us(),Pt(a=>{s[o]=a}))),aw(1),function GY(t){return ve(()=>t)}(s),Bs(o=>rF(o)?vr:Vc(o)))}(s,t,e,r).pipe(ve(o=>(t._resolvedData=o,t.data=KP(t,n).resolve,i&&dF(i)&&(t.data[Bc]=i.title),null)))}(o.route,r,t,e)),Pt(()=>s++),aw(1),At(o=>s===i.length?W(n):vr))})}(n.paramsInheritanceStrategy,this.environmentInjector),Pt({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(c,"",2)}}))}),Pt(c=>{const l=new DJ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}))}),Tw(u=>{const c=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(Pt(h=>{l.component=h}),ve(()=>{})));for(const h of l.children)d.push(...c(h));return d};return iw(c(u.targetSnapshot.root)).pipe(Ff(),Aa(1))}),Tw(()=>this.afterPreactivation()),ve(u=>{const c=function OJ(t,e,n){const r=Qc(t,e._root,n?n._root:void 0);return new qP(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:c},s}),Pt(()=>{this.events.next(new pw)}),((t,e,n,r)=>ve(i=>(new GJ(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Aa(1),Pt({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ki(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),n.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),function zY(t){return ht((e,n)=>{On(t).subscribe(at(n,()=>n.complete(),bm)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Pt(u=>{throw u}))),uw(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Bs(u=>{if(a=!0,eF(u))this.events.next(new Wc(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function LJ(t){return eF(t)&&$s(t.url)}(u)?this.events.next(new gw(u.url)):s.resolve(!1);else{this.events.next(new Gf(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(u))}catch(c){s.reject(c)}}return vr}))}))}cancelNavigationTransition(n,r,i){const s=new Wc(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fF(t){return t!==qc}let pF=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ne);return r}getResolvedTitleForRoute(n){return n.data[Bc]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return P(OX)},providedIn:"root"})}return t})(),OX=(()=>{class t extends pF{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(B(fP))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),PX=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return P(LX)},providedIn:"root"})}return t})();class FX{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let LX=(()=>{class t extends FX{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=kt(t)))(i||t)}}();static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Xf=new F("",{providedIn:"root",factory:()=>({})});let VX=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return P(UX)},providedIn:"root"})}return t})(),UX=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var el=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(el||{});function gF(t,e){t.events.pipe(qi(n=>n instanceof Ki||n instanceof Wc||n instanceof Gf||n instanceof Na),ve(n=>n instanceof Ki||n instanceof Na?el.COMPLETE:n instanceof Wc&&(0===n.code||1===n.code)?el.REDIRECTING:el.FAILED),qi(n=>n!==el.REDIRECTING),Aa(1)).subscribe(()=>{e()})}function BX(t){throw t}function jX(t,e,n){return e.parse("/")}const $X={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},HX={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Mn=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=P(zk),this.isNgZoneEnabled=!1,this._events=new ir,this.options=P(Xf,{optional:!0})||{},this.pendingTasks=P(qk),this.errorHandler=this.options.errorHandler||BX,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||jX,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=P(VX),this.routeReuseStrategy=P(PX),this.titleStrategy=P(pF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=P(Fa,{optional:!0})?.flat()??[],this.navigationTransitions=P(Jf),this.urlSerializer=P($c),this.location=P(Rv),this.componentInputBindingEnabled=!!P(qf,{optional:!0}),this.eventsSubscription=new In,this.isNgZoneEnabled=P(_e)instanceof _e&&_e.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new xa,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=WP(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(mF(r)&&this._events.next(r));if(r instanceof Hf)fF(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Na)this.rawUrlTree=i.rawUrl;else if(r instanceof HP){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof pw)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Wc)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof gw){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||fF(i.source)};this.scheduleNavigation(s,qc,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Gf&&this.restoreHistory(i,!0),r instanceof Ki&&(this.navigated=!0),mF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),qc,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Dw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=FP(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return LP(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=$s(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,qc,null,r)}navigate(n,r={skipLocationChange:!1}){return function GX(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new T(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...$X}:!1===r?{...HX}:r,$s(n))return SP(this.currentUrlTree,n,i);const s=this.parseUrl(n);return SP(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return gF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function mF(t){return!(t instanceof pw||t instanceof gw)}let tl=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new ir,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof Ki&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function Kx(t,e,n){return function b3(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?Wx:qx}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(C(Mn),C(Hs),function lh(t){return function zz(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(BA(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Rt(),t)}("tabindex"),C(ri),C(Un),C(Vs))};static#t=this.\u0275dir=q({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&hn("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&Mr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Ta],skipLocationChange:["skipLocationChange","skipLocationChange",Ta],replaceUrl:["replaceUrl","replaceUrl",Ta],routerLink:"routerLink"},standalone:!0,features:[c1,Kn]})}return t})();class yF{}let WX=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(qi(n=>n instanceof Ki),Uc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Z_(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return vt(i).pipe(xo())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):W(null);const s=i.pipe(At(o=>null===o?W(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?vt([s,this.loader.loadComponent(r)]).pipe(xo()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(B(Mn),B(Wk),B(Yn),B(yF),B(Sw))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Aw=new F("");let _F=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Hf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ki?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Na&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof GP&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new GP(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function FN(){throw new Error("invalid")}()};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();function fi(t,e){return{\u0275kind:t,\u0275providers:e}}function wF(){const t=P(Wt);return e=>{const n=t.get(ba);if(e!==n.components[0])return;const r=t.get(Mn),i=t.get(IF);1===t.get(Mw)&&r.initialNavigation(),t.get(EF,null,ie.Optional)?.setUpPreloading(),t.get(Aw,null,ie.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const IF=new F("",{factory:()=>new ir}),Mw=new F("",{providedIn:"root",factory:()=>1}),EF=new F("");function JX(t){return fi(0,[{provide:EF,useExisting:WX},{provide:yF,useExisting:t}])}const DF=new F("ROUTER_FORROOT_GUARD"),ZX=[Rv,{provide:$c,useClass:cw},Mn,Kc,{provide:Hs,useFactory:function vF(t){return t.routerState.root},deps:[Mn]},Sw,[]];function eZ(){return new eO("Router",Mn)}let CF=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[ZX,[],{provide:Fa,multi:!0,useValue:n},{provide:DF,useFactory:iZ,deps:[[Mn,new dn,new fh]]},{provide:Xf,useValue:r||{}},r?.useHash?{provide:Vs,useClass:lK}:{provide:Vs,useClass:xO},{provide:Aw,useFactory:()=>{const t=P(AQ),e=P(_e),n=P(Xf),r=P(Jf),i=P($c);return n.scrollOffset&&t.setOffset(n.scrollOffset),new _F(i,r,t,e,n)}},r?.preloadingStrategy?JX(r.preloadingStrategy).\u0275providers:[],{provide:eO,multi:!0,useFactory:eZ},r?.initialNavigation?sZ(r):[],r?.bindToComponentInputs?fi(8,[JP,{provide:qf,useExisting:JP}]).\u0275providers:[],[{provide:bF,useFactory:wF},{provide:Ev,multi:!0,useExisting:bF}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Fa,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(B(DF,8))};static#t=this.\u0275mod=sn({type:t});static#n=this.\u0275inj=Gt({})}return t})();function iZ(t){return"guarded"}function sZ(t){return["disabled"===t.initialNavigation?fi(3,[{provide:pv,multi:!0,useFactory:()=>{const e=P(Mn);return()=>{e.setUpLocationChangeListener()}}},{provide:Mw,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?fi(2,[{provide:Mw,useValue:0},{provide:pv,multi:!0,deps:[Wt],useFactory:e=>{const n=e.get(uK,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Mn),s=e.get(IF);gF(i,()=>{r(!0)}),e.get(Jf).afterPreactivation=()=>(r(!0),s.closed?W(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const bF=new F("");function TF(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){TF(s,r,i,o,a,"next",u)}function a(u){TF(s,r,i,o,a,"throw",u)}o(void 0)})}}const SF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Nw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(SF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new lZ;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class lZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Zf=function(t){return function(t){const e=SF(t);return Nw.encodeByteArray(e,!0)}(t).replace(/\./g,"")},ep=function(t){try{return Nw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},tp=()=>{try{return function fZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ep(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},MF=t=>{var e,n;return null===(n=null===(e=tp())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},xF=()=>{var t;return null===(t=tp())||void 0===t?void 0:t.config},NF=t=>{var e;return null===(e=tp())||void 0===e?void 0:e[`_${t}`]};class np{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function wt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Rw(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Gs(){try{return"object"==typeof indexedDB}catch{return!1}}function nl(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function kw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class tr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Or.prototype.create)}}class Or{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function CZ(t,e){return t.replace(bZ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new tr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const bZ=/\{\$([^}]+)}/g;function ip(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(kF(s)&&kF(o)){if(!ip(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function kF(t){return null!==t&&"object"==typeof t}function sp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class AZ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function MZ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Ow),void 0===i.error&&(i.error=Ow),void 0===i.complete&&(i.complete=Ow);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ow(){}const xZ=1e3,NZ=2,RZ=144e5,kZ=.5;function Fw(t,e=xZ,n=NZ){const r=e*Math.pow(n,t),i=Math.round(kZ*r*(Math.random()-.5)*2);return Math.min(RZ,r+i)}function Ft(t){return t&&t._delegate?t._delegate:t}class Yt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const zs="[DEFAULT]";class PZ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new np;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function LZ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=zs){return this.instances.has(e)}getOptions(e=zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===zs?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=zs){return this.component?this.component.multipleInstances?e:zs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class VZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PZ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Lw=[];var he=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(he||{});const OF={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},UZ=he.INFO,BZ={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},jZ=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=BZ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class La{constructor(e){this.name=e,this._logLevel=UZ,this._logHandler=jZ,this._userLogHandler=null,Lw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?OF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}const $Z=(t,e)=>e.some(n=>t instanceof n);let PF,FF;const LF=new WeakMap,Vw=new WeakMap,VF=new WeakMap,Uw=new WeakMap,Bw=new WeakMap;let jw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Vw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||VF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function QZ(t){return"function"==typeof t?function KZ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function GZ(){return FF||(FF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply($w(this),e),Qi(LF.get(this))}:function(...e){return Qi(t.apply($w(this),e))}:function(e,...n){const r=t.call($w(this),e,...n);return VF.set(r,e.sort?e.sort():[e]),Qi(r)}}(t):(t instanceof IDBTransaction&&function qZ(t){if(Vw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Vw.set(t,e)}(t),$Z(t,function HZ(){return PF||(PF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,jw):t)}function Qi(t){if(t instanceof IDBRequest)return function zZ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Qi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&LF.set(n,t)}).catch(()=>{}),Bw.set(e,t),e}(t);if(Uw.has(t))return Uw.get(t);const e=QZ(t);return e!==t&&(Uw.set(t,e),Bw.set(e,t)),e}const $w=t=>Bw.get(t),JZ=["get","getKey","getAll","getAllKeys","count"],XZ=["put","add","delete","clear"],Hw=new Map;function UF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Hw.get(e))return Hw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=XZ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!JZ.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Hw.set(e,s),s}!function WZ(t){jw=t(jw)}(t=>({...t,get:(e,n,r)=>UF(e,n)||t.get(e,n,r),has:(e,n)=>!!UF(e,n)||t.has(e,n)}));class ZZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function eee(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Gw="@firebase/app",qs=new La("@firebase/app"),op="[DEFAULT]",Tee={[Gw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ws=new Map,ap=new Map;function See(t,e){try{t.container.addComponent(e)}catch(n){qs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mn(t){const e=t.name;if(ap.has(e))return qs.debug(`There were multiple attempts to register component ${e}.`),!1;ap.set(e,t);for(const n of Ws.values())See(n,t);return!0}function Va(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const pi=new Or("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Mee{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pi.create("app-deleted",{appName:this._name})}}const Ks="9.23.0";function jF(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:op,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw pi.create("bad-app-name",{appName:String(i)});if(n||(n=xF()),!n)throw pi.create("no-options");const s=Ws.get(i);if(s){if(ip(n,s.options)&&ip(r,s.config))return s;throw pi.create("duplicate-app",{appName:i})}const o=new VZ(i);for(const u of ap.values())o.addComponent(u);const a=new Mee(n,r,o);return Ws.set(i,a),a}function zw(t=op){const e=Ws.get(t);if(!e&&t===op&&xF())return jF();if(!e)throw pi.create("no-app",{appName:t});return e}function $F(){return Array.from(Ws.values())}function Ke(t,e,n){var r;let i=null!==(r=Tee[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void qs.warn(a.join(" "))}mn(new Yt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const xee="firebase-heartbeat-database",Nee=1,rl="firebase-heartbeat-store";let Ww=null;function HF(){return Ww||(Ww=function YZ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Qi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Qi(o.result),u.oldVersion,u.newVersion,Qi(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(xee,Nee,{upgrade:(t,e)=>{0===e&&t.createObjectStore(rl)}}).catch(t=>{throw pi.create("idb-open",{originalErrorMessage:t.message})})),Ww}function Kw(){return(Kw=g(function*(t){try{return yield(yield HF()).transaction(rl).objectStore(rl).get(zF(t))}catch(e){if(e instanceof tr)qs.warn(e.message);else{const n=pi.create("idb-get",{originalErrorMessage:e?.message});qs.warn(n.message)}}})).apply(this,arguments)}function GF(t,e){return Qw.apply(this,arguments)}function Qw(){return(Qw=g(function*(t,e){try{const r=(yield HF()).transaction(rl,"readwrite");yield r.objectStore(rl).put(e,zF(t)),yield r.done}catch(n){if(n instanceof tr)qs.warn(n.message);else{const r=pi.create("idb-set",{originalErrorMessage:n?.message});qs.warn(r.message)}}})).apply(this,arguments)}function zF(t){return`${t.name}!${t.options.appId}`}class Pee{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Lee(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=qF();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=qF(),{heartbeatsToSend:r,unsentEntries:i}=function Fee(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),WF(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),WF(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Zf(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function qF(){return(new Date).toISOString().substring(0,10)}class Lee{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!Gs()&&nl().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Ree(t){return Kw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return GF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return GF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function WF(t){return Zf(JSON.stringify({version:2,heartbeats:t})).length}!function Vee(t){mn(new Yt("platform-logger",e=>new ZZ(e),"PRIVATE")),mn(new Yt("heartbeat",e=>new Pee(e),"PRIVATE")),Ke(Gw,"0.9.13",t),Ke(Gw,"0.9.13","esm2017"),Ke("fire-js","")}(""),Ke("firebase","9.23.0","app");const jee=(t,e)=>e.some(n=>t instanceof n);let KF,QF;const YF=new WeakMap,Yw=new WeakMap,JF=new WeakMap,Jw=new WeakMap,Xw=new WeakMap;let Zw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Yw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||JF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Kee(t){return"function"==typeof t?function Wee(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Hee(){return QF||(QF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(eI(this),e),Yi(YF.get(this))}:function(...e){return Yi(t.apply(eI(this),e))}:function(e,...n){const r=t.call(eI(this),e,...n);return JF.set(r,e.sort?e.sort():[e]),Yi(r)}}(t):(t instanceof IDBTransaction&&function zee(t){if(Yw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Yw.set(t,e)}(t),jee(t,function $ee(){return KF||(KF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Zw):t)}function Yi(t){if(t instanceof IDBRequest)return function Gee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Yi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&YF.set(n,t)}).catch(()=>{}),Xw.set(e,t),e}(t);if(Jw.has(t))return Jw.get(t);const e=Kee(t);return e!==t&&(Jw.set(t,e),Xw.set(e,t)),e}const eI=t=>Xw.get(t),Yee=["get","getKey","getAll","getAllKeys","count"],Jee=["put","add","delete","clear"],tI=new Map;function XF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(tI.get(e))return tI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Jee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Yee.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return tI.set(e,s),s}!function qee(t){Zw=t(Zw)}(t=>({...t,get:(e,n,r)=>XF(e,n)||t.get(e,n,r),has:(e,n)=>!!XF(e,n)||t.has(e,n)}));const ZF="@firebase/installations",nI="0.6.4",eL=1e4,tL=`w:${nI}`,nL="FIS_v2",Xee="https://firebaseinstallations.googleapis.com/v1",Zee=36e5,gi=new Or("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function rL(t){return t instanceof tr&&t.code.includes("request-failed")}function rI({projectId:t}){return`${Xee}/projects/${t}/installations`}function iL(t){return{token:t.token,requestStatus:2,expiresIn:rte(t.expiresIn),creationTime:Date.now()}}function iI(t,e){return sI.apply(this,arguments)}function sI(){return(sI=g(function*(t,e){const r=(yield e.json()).error;return gi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function sL({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function oI(t){return aI.apply(this,arguments)}function aI(){return(aI=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function rte(t){return Number(t.replace("s","000"))}function uI(){return(uI=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=rI(t),i=sL(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:nL,appId:t.appId,sdkVersion:tL})},u=yield oI(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:iL(c.authToken)}}throw yield iI("Create Installation",u)})).apply(this,arguments)}function aL(t){return new Promise(e=>{setTimeout(e,t)})}const ate=/^[cdef][\w-]{21}$/,cI="";function ute(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function cte(t){return function ote(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return ate.test(n)?n:cI}catch{return cI}}function Ua(t){return`${t.appName}!${t.appId}`}const Ba=new Map;function uL(t,e){const n=Ua(t);cL(n,e),function hte(t,e){const n=function lL(){return!Qs&&"BroadcastChannel"in self&&(Qs=new BroadcastChannel("[Firebase] FID Change"),Qs.onmessage=t=>{cL(t.data.key,t.data.fid)}),Qs}();n&&n.postMessage({key:t,fid:e}),function dL(){0===Ba.size&&Qs&&(Qs.close(),Qs=null)}()}(n,e)}function cL(t,e){const n=Ba.get(t);if(n)for(const r of n)r(e)}let Qs=null;const fte="firebase-installations-database",pte=1,Ys="firebase-installations-store";let lI=null;function dI(){return lI||(lI=function Qee(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Yi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Yi(o.result),u.oldVersion,u.newVersion,Yi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(fte,pte,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ys)}})),lI}function up(t,e){return hI.apply(this,arguments)}function hI(){return(hI=g(function*(t,e){const n=Ua(t),i=(yield dI()).transaction(Ys,"readwrite"),s=i.objectStore(Ys),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&uL(t,e.fid),e})).apply(this,arguments)}function fI(t){return pI.apply(this,arguments)}function pI(){return(pI=g(function*(t){const e=Ua(t),r=(yield dI()).transaction(Ys,"readwrite");yield r.objectStore(Ys).delete(e),yield r.done})).apply(this,arguments)}function il(t,e){return gI.apply(this,arguments)}function gI(){return(gI=g(function*(t,e){const n=Ua(t),i=(yield dI()).transaction(Ys,"readwrite"),s=i.objectStore(Ys),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&uL(t,a.fid),a})).apply(this,arguments)}function mI(t){return yI.apply(this,arguments)}function yI(){return yI=g(function*(t){let e;const n=yield il(t.appConfig,r=>{const i=function gte(t){return fL(t||{fid:ute(),registrationStatus:0})}(r),s=function mte(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(gi.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function yte(t,e){return _I.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:_te(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===cI?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),yI.apply(this,arguments)}function _I(){return _I=g(function*(t,e){try{const n=yield function ste(t,e){return uI.apply(this,arguments)}(t,e);return up(t.appConfig,n)}catch(n){throw rL(n)&&409===n.customData.serverCode?yield fI(t.appConfig):yield up(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),_I.apply(this,arguments)}function _te(t){return vI.apply(this,arguments)}function vI(){return(vI=g(function*(t){let e=yield hL(t.appConfig);for(;1===e.registrationStatus;)yield aL(100),e=yield hL(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield mI(t);return r||n}return e})).apply(this,arguments)}function hL(t){return il(t,e=>{if(!e)throw gi.create("installation-not-found");return fL(e)})}function fL(t){return function vte(t){return 1===t.registrationStatus&&t.registrationTime+eL<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function wI(){return(wI=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Ite(t,{fid:e}){return`${rI(t)}/${e}/authTokens:generate`}(t,n),i=function oL(t,{refreshToken:e}){const n=sL(t);return n.append("Authorization",function ite(t){return`${nL} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:tL,appId:t.appId}})},u=yield oI(()=>fetch(r,a));if(u.ok)return iL(yield u.json());throw yield iI("Generate Auth Token",u)})).apply(this,arguments)}function II(t){return EI.apply(this,arguments)}function EI(){return EI=g(function*(t,e=!1){let n;const r=yield il(t.appConfig,s=>{if(!gL(s))throw gi.create("not-registered");const o=s.authToken;if(!e&&function Cte(t){return 2===t.requestStatus&&!function bte(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Zee}(t)}(o))return s;if(1===o.requestStatus)return n=function Ete(t,e){return DI.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw gi.create("app-offline");const a=function Tte(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Dte(t,e){return CI.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),EI.apply(this,arguments)}function DI(){return(DI=g(function*(t,e){let n=yield pL(t.appConfig);for(;1===n.authToken.requestStatus;)yield aL(100),n=yield pL(t.appConfig);const r=n.authToken;return 0===r.requestStatus?II(t,e):r})).apply(this,arguments)}function pL(t){return il(t,e=>{if(!gL(e))throw gi.create("not-registered");return function Ste(t){return 1===t.requestStatus&&t.requestTime+eL<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function CI(){return CI=g(function*(t,e){try{const n=yield function wte(t,e){return wI.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield up(t.appConfig,r),n}catch(n){if(!rL(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield up(t.appConfig,r)}else yield fI(t.appConfig);throw n}}),CI.apply(this,arguments)}function gL(t){return void 0!==t&&2===t.registrationStatus}function bI(){return(bI=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield mI(e);return r?r.catch(console.error):II(e).catch(console.error),n.fid})).apply(this,arguments)}function TI(){return TI=g(function*(t,e=!1){const n=t;return yield function xte(t){return SI.apply(this,arguments)}(n),(yield II(n,e)).token}),TI.apply(this,arguments)}function SI(){return(SI=g(function*(t){const{registrationPromise:e}=yield mI(t);e&&(yield e)})).apply(this,arguments)}function xI(t){return gi.create("missing-app-config-values",{valueName:t})}const mL="installations",Pte=t=>{const e=t.getProvider("app").getImmediate(),n=function kte(t){if(!t||!t.options)throw xI("App Configuration");if(!t.name)throw xI("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw xI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Va(e,"heartbeat"),_delete:()=>Promise.resolve()}},Fte=t=>{const n=Va(t.getProvider("app").getImmediate(),mL).getImmediate();return{getId:()=>function Ate(t){return bI.apply(this,arguments)}(n),getToken:i=>function Mte(t){return TI.apply(this,arguments)}(n,i)}};(function Lte(){mn(new Yt(mL,Pte,"PUBLIC")),mn(new Yt("installations-internal",Fte,"PRIVATE"))})(),Ke(ZF,nI),Ke(ZF,nI,"esm2017");const NI="@firebase/remote-config",xn=new Or("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Kte{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Qte(t=navigator){return t.languages&&t.languages[0]||t.language}class Yte{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:Qte()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((w,_)=>{e.signal.addEventListener(()=>{const b=new Error("The operation was aborted.");b.name="AbortError",_(b)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(w){let _="fetch-client-network";throw"AbortError"===w?.name&&(_="fetch-timeout"),xn.create(_,{originalErrorMessage:w?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,y;if(200===h.status){let w;try{w=yield h.json()}catch(_){throw xn.create("fetch-client-parse",{originalErrorMessage:_?.message})}m=w.entries,y=w.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==f&&200!==f)throw xn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class Zte{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function Jte(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Xte(t){if(!(t instanceof tr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Fw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class nne{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function lp(t,e){const n=t.target.error||void 0;return xn.create(e,{originalErrorMessage:n&&n?.message})}const Js="app_namespace_store";class one{constructor(e,n,r,i=function sne(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(lp(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Js,{keyPath:"compositeKey"})}}catch(n){e(xn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Js],"readonly").objectStore(Js),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(lp(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(xn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Js],"readwrite").objectStore(Js),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(lp(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(xn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Js],"readwrite").objectStore(Js),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(lp(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(xn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class ane{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function cne(){return FI.apply(this,arguments)}function FI(){return(FI=g(function*(){if(!Gs())return!1;try{return yield nl()}catch{return!1}})).apply(this,arguments)}!function une(){mn(new Yt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw xn.create("registration-window");if(!Gs())throw xn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw xn.create("registration-project-id");if(!o)throw xn.create("registration-api-key");if(!a)throw xn.create("registration-app-id");const u=new one(a,r.name,n=n||"firebase"),c=new ane(u),l=new La(NI);l.logLevel=he.ERROR;const d=new Yte(i,Ks,n,s,o,a),h=new Zte(d,u),f=new Kte(h,u,c,l),p=new nne(r,f,c,u,l);return function zte(t){const e=Ft(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Ke(NI,"0.4.4"),Ke(NI,"0.4.4","esm2017")}();const lne=(t,e)=>e.some(n=>t instanceof n);let wL,IL;const EL=new WeakMap,LI=new WeakMap,DL=new WeakMap,VI=new WeakMap,UI=new WeakMap;let BI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return LI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||DL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function yne(t){return"function"==typeof t?function mne(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function hne(){return IL||(IL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(jI(this),e),mi(EL.get(this))}:function(...e){return mi(t.apply(jI(this),e))}:function(e,...n){const r=t.call(jI(this),e,...n);return DL.set(r,e.sort?e.sort():[e]),mi(r)}}(t):(t instanceof IDBTransaction&&function pne(t){if(LI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});LI.set(t,e)}(t),lne(t,function dne(){return wL||(wL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,BI):t)}function mi(t){if(t instanceof IDBRequest)return function fne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(mi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&EL.set(n,t)}).catch(()=>{}),UI.set(e,t),e}(t);if(VI.has(t))return VI.get(t);const e=yne(t);return e!==t&&(VI.set(t,e),UI.set(e,t)),e}const jI=t=>UI.get(t);function CL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=mi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(mi(o.result),u.oldVersion,u.newVersion,mi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function $I(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),mi(n).then(()=>{})}const _ne=["get","getKey","getAll","getAllKeys","count"],vne=["put","add","delete","clear"],HI=new Map;function bL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(HI.get(e))return HI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=vne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!_ne.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return HI.set(e,s),s}!function gne(t){BI=t(BI)}(t=>({...t,get:(e,n,r)=>bL(e,n)||t.get(e,n,r),has:(e,n)=>!!bL(e,n)||t.has(e,n)}));const wne="/firebase-messaging-sw.js",Ine="/firebase-cloud-messaging-push-scope",TL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ene="https://fcmregistrations.googleapis.com/v1",SL="google.c.a.c_id",Dne="google.c.a.c_l",Cne="google.c.a.ts";var dp=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(dp||{});function yi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Sne(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const GI="fcm_token_details_db",Ane=5,AL="fcm_token_object_Store";function zI(){return zI=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(GI))return null;let e=null;return(yield CL(GI,Ane,{upgrade:(r=g(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(AL))return;const c=a.objectStore(AL),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:yi(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:yi(d.auth),p256dh:yi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:yi(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:yi(d.auth),p256dh:yi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:yi(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield $I(GI),yield $I("fcm_vapid_details_db"),yield $I("undefined"),function xne(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),zI.apply(this,arguments)}const Nne="firebase-messaging-database",Rne=1,Xs="firebase-messaging-store";let qI=null;function WI(){return qI||(qI=CL(Nne,Rne,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Xs)}})),qI}function ML(t){return KI.apply(this,arguments)}function KI(){return KI=g(function*(t){const e=XI(t),r=yield(yield WI()).transaction(Xs).objectStore(Xs).get(e);if(r)return r;{const i=yield function Mne(t){return zI.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield QI(t,i),i}}),KI.apply(this,arguments)}function QI(t,e){return YI.apply(this,arguments)}function YI(){return(YI=g(function*(t,e){const n=XI(t),i=(yield WI()).transaction(Xs,"readwrite");return yield i.objectStore(Xs).put(e,n),yield i.done,e})).apply(this,arguments)}function JI(){return(JI=g(function*(t){const e=XI(t),r=(yield WI()).transaction(Xs,"readwrite");yield r.objectStore(Xs).delete(e),yield r.done})).apply(this,arguments)}function XI({appConfig:t}){return t.appId}const Lt=new Or("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Pne(t,e){return ZI.apply(this,arguments)}function ZI(){return(ZI=g(function*(t,e){const n=yield rE(t),r=NL(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(nE(t.appConfig),i)).json()}catch(o){throw Lt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Lt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Lt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function eE(){return(eE=g(function*(t,e){const n=yield rE(t),r=NL(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${nE(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Lt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Lt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Lt.create("token-update-no-token");return s.token})).apply(this,arguments)}function xL(t,e){return tE.apply(this,arguments)}function tE(){return(tE=g(function*(t,e){const r={method:"DELETE",headers:yield rE(t)};try{const s=yield(yield fetch(`${nE(t.appConfig)}/${e}`,r)).json();if(s.error)throw Lt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Lt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function nE({projectId:t}){return`${Ene}/projects/${t}/registrations`}function rE(t){return iE.apply(this,arguments)}function iE(){return(iE=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function NL({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==TL&&(i.web.applicationPubKey=r),i}const Lne=6048e5;function sE(){return sE=g(function*(t){const e=yield function Bne(t,e){return cE.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:yi(e.getKey("auth")),p256dh:yi(e.getKey("p256dh"))},r=yield ML(t.firebaseDependencies);if(r){if(function jne(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+Lne?function Une(t,e){return aE.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield xL(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return kL(t.firebaseDependencies,n)}return kL(t.firebaseDependencies,n)}),sE.apply(this,arguments)}function oE(){return oE=g(function*(t){const e=yield ML(t.firebaseDependencies);e&&(yield xL(t.firebaseDependencies,e.token),yield function kne(t){return JI.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),oE.apply(this,arguments)}function aE(){return aE=g(function*(t,e){try{const n=yield function Fne(t,e){return eE.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield QI(t.firebaseDependencies,r),n}catch(n){throw yield function RL(t){return oE.apply(this,arguments)}(t),n}}),aE.apply(this,arguments)}function kL(t,e){return uE.apply(this,arguments)}function uE(){return(uE=g(function*(t,e){const r={token:yield Pne(t,e),createTime:Date.now(),subscriptionOptions:e};return yield QI(t,r),r.token})).apply(this,arguments)}function cE(){return(cE=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Sne(e)})})).apply(this,arguments)}function OL(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function $ne(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function Hne(t,e){e.data&&(t.data=e.data)}(e,t),function Gne(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function PL(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function lE(t){return Lt.create("missing-app-config-values",{valueName:t})}PL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),PL("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Wne{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function qne(t){if(!t||!t.options)throw lE("App Configuration Object");if(!t.name)throw lE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw lE(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function dE(){return(dE=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(wne,{scope:Ine}),t.swRegistration.update().catch(()=>{})}catch(e){throw Lt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function hE(){return(hE=g(function*(t,e){if(!e&&!t.swRegistration&&(yield function FL(t){return dE.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Lt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function fE(){return(fE=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=TL)})).apply(this,arguments)}function pE(){return pE=g(function*(t,e){if(!navigator)throw Lt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Lt.create("permission-blocked");return yield function Qne(t,e){return fE.apply(this,arguments)}(t,e?.vapidKey),yield function Kne(t,e){return hE.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function Vne(t){return sE.apply(this,arguments)}(t)}),pE.apply(this,arguments)}function gE(){return(gE=g(function*(t,e,n){const r=function Jne(t){switch(t){case dp.NOTIFICATION_CLICKED:return"notification_open";case dp.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[SL],message_name:n[Dne],message_time:n[Cne],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function mE(){return mE=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===dp.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(OL(n)):t.onMessageHandler.next(OL(n)));const r=n.data;(function zne(t){return"object"==typeof t&&!!t&&SL in t})(r)&&"1"===r["google.c.a.e"]&&(yield function Yne(t,e,n){return gE.apply(this,arguments)}(t,n.messageType,r))}),mE.apply(this,arguments)}const VL="@firebase/messaging",Zne=t=>{const e=new Wne(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function Xne(t,e){return mE.apply(this,arguments)}(e,n)),e},ere=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function LL(t,e){return pE.apply(this,arguments)}(e,r)}};function BL(){return yE.apply(this,arguments)}function yE(){return(yE=g(function*(){try{yield nl()}catch{return!1}return typeof window<"u"&&Gs()&&kw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function tre(){mn(new Yt("messaging",Zne,"PUBLIC")),mn(new Yt("messaging-internal",ere,"PRIVATE")),Ke(VL,"0.12.4"),Ke(VL,"0.12.4","esm2017")}();const hp="analytics",ire="firebase_id",sre="origin",ore=6e4,are="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wE="https://www.googletagmanager.com/gtag/js",It=new La("@firebase/analytics"),yn=new Or("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function cre(t){if(!t.startsWith(wE)){const e=yn.create("invalid-gtag-resource",{gtagURL:t});return It.warn(e.message),""}return t}function jL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function IE(){return(IE=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield jL(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){It.error(a)}t("config",i,s)})).apply(this,arguments)}function EE(){return(EE=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield jL(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){It.error(s)}})).apply(this,arguments)}const _re=30,$L=new class wre{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Ire(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function DE(){return(DE=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Ire(r)},s=are.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw yn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function CE(){return(CE=g(function*(t,e=$L,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw yn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw yn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Tre;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:ore),HL({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function HL(t,e,n){return bE.apply(this,arguments)}function bE(){return bE=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=$L){var s;const{appId:o,measurementId:a}=t;try{yield function Cre(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(yn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return It.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function Ere(t){return DE.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function bre(t){if(!(t instanceof tr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return It.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?Fw(n,i.intervalMillis,_re):Fw(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),It.debug(`Calling attemptFetch again in ${l} millis`),HL(t,d,r,i)}}),bE.apply(this,arguments)}class Tre{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let TE,kE;function SE(){return(SE=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function OE(){return(OE=g(function*(){if(!Gs())return It.warn(yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield nl()}catch(t){return It.warn(yn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function PE(){return PE=g(function*(t,e,n,r,i,s,o){var a;const u=function Dre(t){return CE.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&It.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>It.error(f)),e.push(u);const c=function kre(){return OE.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function yre(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(wE)&&n.src.includes(t))return n;return null})(s)||function dre(t,e){const n=function lre(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:cre}),r=document.createElement("script"),i=`${wE}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),kE&&(i("consent","default",kE),function GL(t){kE=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[sre]="firebase",h.update=!0,null!=d&&(h[ire]=d),i("config",l.measurementId,h),TE&&(i("set",TE),function zL(t){TE=t}(void 0)),l.measurementId}),PE.apply(this,arguments)}class Pre{constructor(e){this.app=e}_delete(){return delete Pr[this.app.options.appId],Promise.resolve()}}let Pr={},qL=[];const WL={};let QL,Fr,fp="dataLayer",FE=!1;function Lre(t,e,n){!function Fre(){const t=[];if(Rw()&&t.push("This is a browser extension environment."),kw()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=yn.create("invalid-analytics-context",{errorInfo:e});It.warn(n.message)}}();const r=t.options.appId;if(!r)throw yn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw yn.create("no-api-key");It.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Pr[r])throw yn.create("already-exists",{id:r});if(!FE){!function hre(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(fp);const{wrappedGtag:s,gtagCore:o}=function mre(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function gre(t,e,n,r){function s(){return s=g(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function pre(t,e,n,r,i){return EE.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function fre(t,e,n,r,i,s){return IE.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){It.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Pr,qL,WL,fp,"gtag");Fr=s,QL=o,FE=!0}return Pr[r]=function Ore(t,e,n,r,i,s,o){return PE.apply(this,arguments)}(t,qL,WL,e,QL,fp,n),new Pre(t)}function Ure(){return LE.apply(this,arguments)}function LE(){return(LE=g(function*(){if(Rw()||!kw()||!Gs())return!1;try{return yield nl()}catch{return!1}})).apply(this,arguments)}const YL="@firebase/analytics";!function jre(){mn(new Yt(hp,(e,{options:n})=>Lre(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),mn(new Yt("analytics-internal",function t(e){try{const n=e.getProvider(hp).getImmediate();return{logEvent:(r,i,s)=>function Bre(t,e,n,r){t=Ft(t),function Sre(t,e,n,r,i){return SE.apply(this,arguments)}(Fr,Pr[t.app.options.appId],e,n,r).catch(i=>It.error(i))}(n,r,i,s)}}catch(n){throw yn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Ke(YL,"0.10.0"),Ke(YL,"0.10.0","esm2017")}();class $re extends In{constructor(e,n){super()}schedule(e,n=0){return this}}const pp={setInterval(t,e,...n){const{delegate:r}=pp;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=pp;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class XL extends $re{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return pp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&pp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Mo(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const ZL={now:()=>(ZL.delegate||Date).now(),delegate:void 0};class sl{constructor(e,n=sl.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}sl.now=ZL.now;class e2 extends sl{constructor(e,n=sl.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const zre=new class Gre extends e2{}(class Hre extends XL{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),qre=new e2(XL),gp=new oa("7.6.1"),UE="__angularfire_symbol__analyticsIsSupportedValue",BE="__angularfire_symbol__analyticsIsSupported",jE="__angularfire_symbol__remoteConfigIsSupportedValue",$E="__angularfire_symbol__remoteConfigIsSupported",HE="__angularfire_symbol__messagingIsSupportedValue",GE="__angularfire_symbol__messagingIsSupported";function qE(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[BE]||(globalThis[BE]=Ure().then(t=>globalThis[UE]=t).catch(()=>globalThis[UE]=!1)),globalThis[GE]||(globalThis[GE]=BL().then(t=>globalThis[HE]=t).catch(()=>globalThis[HE]=!1)),globalThis[$E]||(globalThis[$E]=cne().then(t=>globalThis[jE]=t).catch(()=>globalThis[jE]=!1));const WE=(t,e)=>{const n=e?[e]:$F(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function ja(){}class t2{constructor(e,n=zre){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class Wre{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ja,{},ja,ja)),n.pipe(Pt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let KE=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new t2(Zone.current)),this.insideAngular=n.run(()=>new t2(Zone.current,qre)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(B(_e))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Zs(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function eo(t){return Zs().ngZone.run(()=>t())}function Qre(t){return Zs(),function Yre(t){return function(n){return(n=n.lift(new Wre(t.ngZone))).pipe(Vd(t.outsideAngular),Ld(t.insideAngular))}}(Zs())(t)}const Jre=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),eo(()=>t.apply(void 0,r))},Lr=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=eo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ja,{},ja,ja)))),r[s]=Jre(r[s],n));const i=function Kre(t){return Zs().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof je){const s=Zs();return i.pipe(Vd(s.outsideAngular),Ld(s.insideAngular))}return eo(()=>i)}return i instanceof je?i.pipe(Qre):i instanceof Promise?eo(()=>new Promise((s,o)=>i.then(a=>eo(()=>s(a)),a=>eo(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:eo(()=>i)};class $a{constructor(e){return e}}class QE{constructor(){return $F()}}const YE=new F("angularfire2._apps"),Zre={provide:$a,useFactory:function Xre(t){return t&&1===t.length?t[0]:new $a(zw())},deps:[[new dn,YE]]},eie={provide:QE,deps:[[new dn,YE]]};function tie(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new $a(r)}}let nie=(()=>{class t{constructor(n){Ke("angularfire",gp.full,"core"),Ke("angularfire",gp.full,"app"),Ke("angular",dN.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(B(ji))},t.\u0275mod=sn({type:t}),t.\u0275inj=Gt({providers:[Zre,eie]}),t})();function rie(t,...e){return{ngModule:nie,providers:[{provide:YE,useFactory:tie(t),multi:!0,deps:[_e,Wt,KE,...e]}]}}const iie=Lr(jF,!0),JE=new Map,n2={activated:!1,tokenObservers:[]},sie={initialized:!1,enabled:!1};function Qe(t){return JE.get(t)||Object.assign({},n2)}function mp(){return sie}const XE="https://content-firebaseappcheck.googleapis.com/v1",cie="exchangeDebugToken",r2={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class die{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new np,yield function hie(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new np,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Vt=new Or("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ZE(t){if(!Qe(t).activated)throw Vt.create("use-before-activation",{appName:t.name})}function vp(t,e){return tD.apply(this,arguments)}function tD(){return(tD=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Vt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Vt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Vt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Vt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function i2(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${XE}/projects/${n}/apps/${r}:${cie}?key=${i}`,body:{debug_token:e}}}const mie="firebase-app-check-database",yie=1,ol="firebase-app-check-store";let wp=null;function nD(){return(nD=g(function*(t,e){const r=(yield function o2(){return wp||(wp=new Promise((t,e)=>{try{const n=indexedDB.open(mie,yie);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Vt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ol,{keyPath:"compositeKey"})}}catch(n){e(Vt.create("storage-open",{originalErrorMessage:n?.message}))}}),wp)}()).transaction(ol,"readwrite"),s=r.objectStore(ol).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Vt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const al=new La("@firebase/app-check");function sD(t,e){return Gs()?function vie(t,e){return function a2(t,e){return nD.apply(this,arguments)}(function c2(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{al.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function aD(){return mp().enabled}function uD(){return cD.apply(this,arguments)}function cD(){return(cD=g(function*(){const t=mp();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const bie={error:"UNKNOWN_ERROR"};function Tie(t){return Nw.encodeString(JSON.stringify(t),!1)}function Ip(t){return lD.apply(this,arguments)}function lD(){return(lD=g(function*(t,e=!1){const n=t.app;ZE(n);const r=Qe(n);let s,i=r.token;if(i&&!Ha(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(Ha(u)?i=u:yield sD(n,void 0))}if(!e&&i&&Ha(i))return{token:i.token};let a,o=!1;if(aD()){r.exchangeTokenPromise||(r.exchangeTokenPromise=vp(i2(n,yield uD()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield sD(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Qe(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?al.warn(u.message):al.error(u),s=u}return i?s?a=Ha(i)?{token:i.token,internalError:s}:f2(s):(a={token:i.token},r.token=i,yield sD(n,i)):a=f2(s),o&&function h2(t,e){const n=Qe(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function l2(t){return dD.apply(this,arguments)}function dD(){return(dD=g(function*(t){const e=t.app;ZE(e);const{provider:n}=Qe(e);if(aD()){const r=yield uD(),{token:i}=yield vp(i2(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function fD(t,e){const n=Qe(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function d2(t){const{app:e}=t,n=Qe(e);let r=n.tokenRefresher;r||(r=function Sie(t){const{app:e}=t;return new die(g(function*(){let r;if(r=Qe(e).token?yield Ip(t,!0):yield Ip(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Qe(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},r2.RETRIAL_MIN_WAIT,r2.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Ha(t){return t.expireTimeMillis-Date.now()>0}function f2(t){return{token:Tie(bie),error:t}}class Aie{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Qe(this.app);for(const n of e)fD(this.app,n.next);return Promise.resolve()}}const I2="app-check-internal";!function $ie(){mn(new Yt("app-check",t=>function Mie(t,e){return new Aie(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(I2).initialize()})),mn(new Yt(I2,t=>function xie(t){return{getToken:e=>Ip(t,e),getLimitedUseToken:()=>l2(t),addTokenListener:e=>function hD(t,e,n,r){const{app:i}=t,s=Qe(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Ha(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),d2(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>d2(t))}(t,"INTERNAL",e),removeTokenListener:e=>fD(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Ke("@firebase/app-check","0.8.0")}();class yD{constructor(){return WE("app-check")}}typeof window<"u"&&window;const Wie=function D2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},C2=new Or("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Dp=new La("@firebase/auth");function Cp(t,...e){Dp.logLevel<=he.ERROR&&Dp.error(`Auth (${Ks}): ${t}`,...e)}function Nn(t,...e){throw vD(t,...e)}function Vr(t,...e){return vD(t,...e)}function vD(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return C2.create(t,...e)}function A(t,e,...n){if(!t)throw vD(e,...n)}function Ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cp(e),new Error(e)}function Ji(t,e){t||Ur(e)}function ul(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function T2(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class cl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ji(n>e,"Short delay should be less than long delay!"),this.isMobile=function vZ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}()||function IZ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Qie(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function wD(){return"http:"===T2()||"https:"===T2()}()||Rw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ID(t,e){Ji(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class S2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Jie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Xie=new cl(3e4,6e4);function He(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ye(t,e,n,r){return ED.apply(this,arguments)}function ED(){return(ED=g(function*(t,e,n,r,i={}){return A2(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=sp(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),S2.fetch()(M2(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function A2(t,e,n){return DD.apply(this,arguments)}function DD(){return(DD=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Jie),e);try{const i=new Zie(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw ll(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw ll(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw ll(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw ll(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function b2(t,e,n){const r=Object.assign(Object.assign({},Wie()),{[e]:n});return new Or("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);Nn(t,l)}}catch(i){if(i instanceof tr)throw i;Nn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function CD(){return(CD=g(function*(t,e,n,r,i={}){const s=yield Ye(t,e,n,r,i);return"mfaPendingCredential"in s&&Nn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function M2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ID(t.config,i):`${t.config.apiScheme}://${i}`}class Zie{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Vr(this.auth,"network-request-failed")),Xie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ll(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Vr(t,e,r);return i.customData._tokenResponse=n,i}function bD(){return(bD=g(function*(t,e){return Ye(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function SD(){return(SD=g(function*(t,e){return Ye(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function dl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function AD(){return(AD=g(function*(t,e=!1){const n=Ft(t),r=yield n.getIdToken(e),i=bp(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:dl(MD(i.auth_time)),issuedAtTime:dl(MD(i.iat)),expirationTime:dl(MD(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function MD(t){return 1e3*Number(t)}function bp(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Cp("JWT malformed, contained fewer than 3 sections"),null;try{const i=ep(n);return i?JSON.parse(i):(Cp("Failed to decode base64 JWT payload"),null)}catch(i){return Cp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function vi(t,e){return xD.apply(this,arguments)}function xD(){return(xD=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof tr&&function sse({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class ose{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class x2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dl(this.lastLoginAt),this.creationTime=dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function hl(t){return ND.apply(this,arguments)}function ND(){return ND=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield vi(t,function nse(t,e){return SD.apply(this,arguments)}(n,{idToken:r}));A(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function cse(t){return t.map(e=>{var{providerId:n}=e,r=km(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function use(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new x2(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),ND.apply(this,arguments)}function RD(){return(RD=g(function*(t){const e=Ft(t);yield hl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function kD(){return(kD=g(function*(t,e){const n=yield A2(t,{},g(function*(){const r=sp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=M2(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",S2.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class fl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(typeof e.idToken<"u","internal-error"),A(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function ise(t){const e=bp(t);return A(e,"internal-error"),A(typeof e.exp<"u","internal-error"),A(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function lse(t,e){return kD.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new fl;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fl,this.toJSON())}_performRefresh(){return Ur("not implemented")}}function Xi(t,e){A("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class to{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=km(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ose(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new x2(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield vi(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function rse(t){return AD.apply(this,arguments)}(this,e)}reload(){return function ase(t){return RD.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new to(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield hl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield vi(e,function ese(t,e){return bD.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,w=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:b,emailVerified:k,isAnonymous:V,providerData:Z,stsTokenManager:Se}=n;A(b&&Se,e,"internal-error");const rn=fl.fromJSON(this.name,Se);A("string"==typeof b,e,"internal-error"),Xi(d,e.name),Xi(h,e.name),A("boolean"==typeof k,e,"internal-error"),A("boolean"==typeof V,e,"internal-error"),Xi(f,e.name),Xi(p,e.name),Xi(m,e.name),Xi(y,e.name),Xi(w,e.name),Xi(_,e.name);const Qr=new to({uid:b,auth:e,email:h,emailVerified:k,displayName:d,isAnonymous:V,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:rn,createdAt:w,lastLoginAt:_});return Z&&Array.isArray(Z)&&(Qr.providerData=Z.map(rA=>Object.assign({},rA))),y&&(Qr._redirectEventId=y),Qr}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new fl;i.updateFromServerResponse(n);const s=new to({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield hl(s),s})()}}const N2=new Map;function wi(t){Ji(t instanceof Function,"Expected a class definition");let e=N2.get(t);return e?(Ji(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,N2.set(t,e),e)}const R2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Tp(t,e,n){return`firebase:${t}:${e}:${n}`}class za{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Tp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Tp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?to._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new za(wi(R2),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||wi(R2);const o=Tp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=to._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new za(s,e,r)):new za(s,e,r)})()}}function k2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(F2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(O2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(V2(e))return"Blackberry";if(U2(e))return"Webos";if(OD(e))return"Safari";if((e.includes("chrome/")||P2(e))&&!e.includes("edge/"))return"Chrome";if(L2(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function O2(t=wt()){return/firefox\//i.test(t)}function OD(t=wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function P2(t=wt()){return/crios\//i.test(t)}function F2(t=wt()){return/iemobile/i.test(t)}function L2(t=wt()){return/android/i.test(t)}function V2(t=wt()){return/blackberry/i.test(t)}function U2(t=wt()){return/webos/i.test(t)}function Sp(t=wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function B2(t=wt()){return Sp(t)||L2(t)||U2(t)||V2(t)||/windows phone/i.test(t)||F2(t)}function j2(t,e=[]){let n;switch(t){case"Browser":n=k2(wt());break;case"Worker":n=`${k2(wt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ks}/${r}`}function $2(t,e){return FD.apply(this,arguments)}function FD(){return(FD=g(function*(t,e){return Ye(t,"GET","/v2/recaptchaConfig",He(t,e))})).apply(this,arguments)}function G2(t){return void 0!==t&&void 0!==t.enterprise}class z2{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function LD(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Vr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function gse(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function q2(t){return`__${t}${Math.floor(1e6*Math.random())}`}class W2{constructor(e){this.type="recaptcha-enterprise",this.auth=Et(e)}verify(e="verify",n=!1){var r=this;return g(function*(){function s(){return s=g(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=g(function*(c,l){$2(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new z2(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;G2(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&G2(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));LD("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class vse{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return g(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class wse{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new K2(this),this.idTokenSubscription=new K2(this),this.beforeStateQueue=new vse(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=wi(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield za.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield hl(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Yie(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?Ft(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return g(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(wi(e))}))}initializeRecaptchaConfig(){var e=this;return g(function*(){const n=yield $2(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new z2(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new W2(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Or("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&wi(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield za.create(n,[wi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=j2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return g(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Kie(t,...e){Dp.logLevel<=he.WARN&&Dp.warn(`Auth (${Ks}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Et(t){return Ft(t)}class K2{constructor(e){this.auth=e,this.observer=null,this.addObserver=function SZ(t,e){const n=new AZ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Q2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Y2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Tse{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,n){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}}function Ii(t,e){return eC.apply(this,arguments)}function eC(){return(eC=g(function*(t,e){return function _i(t,e,n,r){return CD.apply(this,arguments)}(t,"POST","/v1/accounts:signInWithIdp",He(t,e))})).apply(this,arguments)}class es{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Bse extends es{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class nr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield to._fromIdTokenResponse(e,r,i),o=eV(r);return new nr({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=eV(r);return new nr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function eV(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Rp extends tr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Rp.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Rp(e,n,r,i)}}function tV(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Rp._fromErrorAndOperation(t,s,e,r):s})}function lC(){return(lC=g(function*(t,e,n=!1){const r=yield vi(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return nr._forOperation(t,"link",r)})).apply(this,arguments)}function hC(){return(hC=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield vi(t,tV(r,i,e,t),n);A(s.idToken,r,"internal-error");const o=bp(s.idToken);A(o,r,"internal-error");const{sub:a}=o;return A(t.uid===a,r,"user-mismatch"),nr._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Nn(r,"user-mismatch"),s}})).apply(this,arguments)}function fC(){return(fC=g(function*(t,e,n=!1){const r="signIn",i=yield tV(t,r,e),s=yield nr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}const Op="__sak";class oV{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Op,"1"),this.storage.removeItem(Op),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const coe=(()=>{class t extends oV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ooe(){const t=wt();return OD(t)||Sp(t)}()&&function fse(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=B2(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function hse(){return function EZ(){const t=wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),aV=(()=>{class t extends oV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let doe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function loe(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function HC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class hoe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=HC("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function ct(){return window}function GC(){return typeof ct().WorkerGlobalScope<"u"&&"function"==typeof ct().importScripts}function zC(){return(zC=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const uV="firebaseLocalStorageDb",Pp="firebaseLocalStorage",cV="fbase_key";class yl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fp(t,e){return t.transaction([Pp],e?"readwrite":"readonly").objectStore(Pp)}function qC(){const t=indexedDB.open(uV,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Pp,{keyPath:cV})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(Pp)?e(r):(r.close(),yield function _oe(){const t=indexedDB.deleteDatabase(uV);return new yl(t).toPromise()}(),e(yield qC()))}))})}function lV(t,e,n){return WC.apply(this,arguments)}function WC(){return(WC=g(function*(t,e,n){const r=Fp(t,!0).put({[cV]:e,value:n});return new yl(r).toPromise()})).apply(this,arguments)}function KC(){return(KC=g(function*(t,e){const n=Fp(t,!1).get(e),r=yield new yl(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function dV(t,e){const n=Fp(t,!0).delete(e);return new yl(n).toPromise()}const Eoe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield qC()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return GC()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=doe._getInstance(function moe(){return GC()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function poe(){return zC.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new hoe(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function goe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield qC();return yield lV(n,Op,"1"),yield dV(n,Op),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>lV(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function voe(t,e){return KC.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>dV(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=Fp(o,!1).getAll();return new yl(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();q2("rcb"),new cl(3e4,6e4);class rb extends Tse{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ii(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ii(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ii(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Voe(t){return function iV(t,e){return fC.apply(this,arguments)}(t.auth,new rb(t),t.bypassAuthState)}function Uoe(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),function rV(t,e){return hC.apply(this,arguments)}(n,new rb(t),t.bypassAuthState)}function Boe(t){return ib.apply(this,arguments)}function ib(){return(ib=g(function*(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),function cC(t,e){return lC.apply(this,arguments)}(n,new rb(t),t.bypassAuthState)})).apply(this,arguments)}class joe{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Voe;case"linkViaPopup":case"linkViaRedirect":return Boe;case"reauthViaPopup":case"reauthViaRedirect":return Uoe;default:Nn(this.auth,"internal-error")}}resolve(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new cl(2e3,1e4);const $oe="pendingRedirect",_l=new Map;class Hoe extends joe{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=_l.get(n.auth._key());if(!r){try{const s=(yield function Goe(t,e){return cb.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}_l.set(n.auth._key(),r)}return n.bypassAuthState||_l.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function cb(){return(cb=g(function*(t,e){const n=function pV(t){return Tp($oe,t.config.apiKey,t.name)}(e),r=function fV(t){return wi(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function zoe(t,e){_l.set(t._key(),e)}function gV(t,e){return mb.apply(this,arguments)}function mb(){return(mb=g(function*(t,e,n=!1){const r=Et(t),i=function ro(t,e){return e?wi(e):(A(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),o=yield new Hoe(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class Yoe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Joe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _V(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_V(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Vr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(yV(e))}saveEventToCache(e){this.cachedEventUids.add(yV(e)),this.lastProcessedEventTime=Date.now()}}function yV(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _V({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function _b(){return(_b=g(function*(t,e={}){return Ye(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Zoe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eae=/^https?/;function vb(){return vb=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function Xoe(t){return _b.apply(this,arguments)}(t);for(const n of e)try{if(nae(n))return}catch{}Nn(t,"unauthorized-domain")}),vb.apply(this,arguments)}function nae(t){const e=ul(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!eae.test(n))return!1;if(Zoe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const rae=new cl(3e4,6e4);function vV(){const t=ct().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Vp=null;const oae=new cl(5e3,15e3),aae="__/auth/iframe",uae="emulator/auth/iframe",cae={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lae=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dae(t){const e=t.config;A(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ID(e,uae):`https://${t.config.authDomain}/${aae}`,r={apiKey:e.apiKey,appName:t.name,v:Ks},i=lae.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${sp(r).slice(1)}`}function wb(){return wb=g(function*(t){const e=yield function sae(t){return Vp=Vp||function iae(t){return new Promise((e,n)=>{var r,i,s;function o(){vV(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vV(),n(Vr(t,"network-request-failed"))},timeout:rae.get()})}if(null!==(i=null===(r=ct().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=ct().gapi)||void 0===s||!s.load){const a=q2("iframefcb");return ct()[a]=()=>{gapi.load?o():n(Vr(t,"network-request-failed"))},LD(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw Vp=null,e})}(t),Vp}(t),n=ct().gapi;return A(n,t,"internal-error"),e.open({where:document.body,url:dae(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cae,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Vr(t,"network-request-failed"),u=ct().setTimeout(()=>{o(a)},oae.get());function c(){ct().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),wb.apply(this,arguments)}const fae={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class wV{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const wae="__/auth/handler",Iae="emulator/auth/handler",Eae=encodeURIComponent("fac");function IV(t,e,n,r,i,s){return Ib.apply(this,arguments)}function Ib(){return(Ib=g(function*(t,e,n,r,i,s){A(t.config.authDomain,t,"auth-domain-config-required"),A(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ks,eventId:i};if(e instanceof es){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function TZ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof Bse){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield t._getAppCheckToken(),c=u?`#${Eae}=${encodeURIComponent(u)}`:"";return`${function Dae({config:t}){return t.emulator?ID(t,Iae):`https://${t.authDomain}/${wae}`}(t)}?${sp(a).slice(1)}${c}`})).apply(this,arguments)}const Eb="webStorageSupport",bae=class Cae{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aV,this._completeRedirectFn=gV,this._overrideRedirectResult=zoe}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;Ji(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield IV(e,n,r,ul(),i);return function _ae(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},fae),{width:r.toString(),height:i.toString(),top:s,left:o}),c=wt().toLowerCase();n&&(a=P2(c)?"_blank":n),O2(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function dse(t=wt()){var e;return Sp(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function vae(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new wV(null);const d=window.open(e||"",a,l);A(d,t,"popup-blocked");try{d.focus()}catch{}return new wV(d)}(e,a,HC())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function foe(t){ct().location.href=t}(yield IV(e,n,r,ul(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ji(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function hae(t){return wb.apply(this,arguments)}(e),i=new Yoe(e);return r.register("authEvent",s=>(A(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Eb,{type:Eb},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[Eb];void 0!==o&&n(!!o),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function tae(t){return vb.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return B2()||OD()||Sp()}};var CV="@firebase/auth";class Tae{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const xae=NF("authIdTokenMaxAge")||300;let TV=null;const Nae=t=>function(){var e=g(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>xae)return;const s=r?.token;TV!==s&&(TV=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Rae(t=zw()){const e=Va(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function Ise(t,e){const n=Va(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(ip(n.getOptions(),e??{}))return i;Nn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:bae,persistence:[Eoe,coe,aV]}),r=NF("authTokenSyncURL");if(r){const s=Nae(r);(function toe(t,e,n){Ft(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function eoe(t,e,n,r){Ft(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=MF("auth");return i&&function Dse(t,e,n){const r=Et(t);A(r._canInitEmulator,r,"emulator-config-failed"),A(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=Q2(e),{host:o,port:a}=function Cse(t){const e=Q2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Y2(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:Y2(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function bse(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function Aae(t){mn(new Yt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;A(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:j2(t)},c=new wse(r,i,s,u);return function Ese(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(wi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),mn(new Yt("auth-internal",e=>{const n=Et(e.getProvider("auth").getImmediate());return new Tae(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ke(CV,"0.23.2",function Sae(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Ke(CV,"0.23.2","esm2017")}("Browser");class Cb{constructor(e){return e}}class AV{constructor(){return WE("auth")}}const bb=new F("angularfire2.auth-instances");function Oae(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Cb(r)}}const Pae={provide:AV,deps:[[new dn,bb]]},Fae={provide:Cb,useFactory:function kae(t,e){const n=qE("auth",t,e);return n&&new Cb(n)},deps:[[new dn,bb],$a]};let Lae=(()=>{class t{constructor(){Ke("angularfire",gp.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=sn({type:t}),t.\u0275inj=Gt({providers:[Fae,Pae]}),t})();function Vae(t,...e){return{ngModule:Lae,providers:[{provide:bb,useFactory:Oae(t),multi:!0,deps:[_e,Wt,KE,QE,[new dn,yD],...e]}]}}const Uae=Lr(Rae,!0);var N,Bae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gr={},Tb=Tb||{},J=Bae||self;function Bp(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function vl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Sb="closure_uid_"+(1e9*Math.random()>>>0),$ae=0;function Hae(t,e,n){return t.call.apply(t.bind,arguments)}function Gae(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Jt(t,e,n){return(Jt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Hae:Gae).apply(null,arguments)}function jp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Dt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ts(){this.s=this.s,this.o=this.o}ts.prototype.s=!1,ts.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function jae(t){Object.prototype.hasOwnProperty.call(t,Sb)&&t[Sb]||(t[Sb]=++$ae)}(this)},ts.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const MV=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Ab(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function xV(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Bp(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Xt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Xt.prototype.h=function(){this.defaultPrevented=!0};var qae=function(){if(!J.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{J.addEventListener("test",()=>{},e),J.removeEventListener("test",()=>{},e)}catch{}return t}();function wl(t){return/^[\s\xa0]*$/.test(t)}function $p(){var t=J.navigator;return t&&(t=t.userAgent)?t:""}function Br(t){return-1!=$p().indexOf(t)}function Mb(t){return Mb[" "](t),t}Mb[" "]=function(){};var Nb,t,Kae=Br("Opera"),Wa=Br("Trident")||Br("MSIE"),NV=Br("Edge"),xb=NV||Wa,RV=Br("Gecko")&&!(-1!=$p().toLowerCase().indexOf("webkit")&&!Br("Edge"))&&!(Br("Trident")||Br("MSIE"))&&!Br("Edge"),Qae=-1!=$p().toLowerCase().indexOf("webkit")&&!Br("Edge");function kV(){var t=J.document;return t?t.documentMode:void 0}e:{var Rb="",kb=(t=$p(),RV?/rv:([^\);]+)(\)|;)/.exec(t):NV?/Edge\/([\d\.]+)/.exec(t):Wa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Qae?/WebKit\/(\S+)/.exec(t):Kae?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(kb&&(Rb=kb?kb[1]:""),Wa){var Ob=kV();if(null!=Ob&&Ob>parseFloat(Rb)){Nb=String(Ob);break e}}Nb=Rb}var Yae=J.document&&Wa&&(kV()||parseInt(Nb,10))||void 0;function Il(t,e){if(Xt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(RV){e:{try{Mb(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Jae[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Il.$.h.call(this)}}Dt(Il,Xt);var Jae={2:"touch",3:"pen",4:"mouse"};Il.prototype.h=function(){Il.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var El="closure_listenable_"+(1e6*Math.random()|0),Xae=0;function Zae(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Xae,this.fa=this.ia=!1}function Hp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Fb(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function PV(t){const e={};for(const n in t)e[n]=t[n];return e}const FV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function LV(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<FV.length;s++)n=FV[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Gp(t){this.src=t,this.g={},this.h=0}function Lb(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=MV(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Hp(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Vb(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}Gp.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=Vb(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Zae(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var Ub="closure_lm_"+(1e6*Math.random()|0),Bb={};function VV(t,e,n,r,i){if(r&&r.once)return BV(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)VV(t,e[s],n,r,i);return null}return n=Gb(n),t&&t[El]?t.O(e,n,vl(r)?!!r.capture:!!r,i):UV(t,e,n,!1,r,i)}function UV(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=vl(i)?!!i.capture:!!i,a=$b(t);if(a||(t[Ub]=a=new Gp(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function tue(){const e=nue;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)qae||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent($V(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function BV(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)BV(t,e[s],n,r,i);return null}return n=Gb(n),t&&t[El]?t.P(e,n,vl(r)?!!r.capture:!!r,i):UV(t,e,n,!0,r,i)}function jV(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)jV(t,e[s],n,r,i);else r=vl(r)?!!r.capture:!!r,n=Gb(n),t&&t[El]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Vb(s=t.g[e],n,r,i))&&(Hp(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=$b(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Vb(e,n,r,i)),(n=-1<t?e[t]:null)&&jb(n))}function jb(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[El])Lb(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent($V(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=$b(e))?(Lb(n,t),0==n.h&&(n.src=null,e[Ub]=null)):Hp(t)}}}function $V(t){return t in Bb?Bb[t]:Bb[t]="on"+t}function nue(t,e){if(t.fa)t=!0;else{e=new Il(e,this);var n=t.listener,r=t.la||t.src;t.ia&&jb(t),t=n.call(r,e)}return t}function $b(t){return(t=t[Ub])instanceof Gp?t:null}var Hb="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gb(t){return"function"==typeof t?t:(t[Hb]||(t[Hb]=function(e){return t.handleEvent(e)}),t[Hb])}function Ct(){ts.call(this),this.i=new Gp(this),this.S=this,this.J=null}function Ut(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Xt(e,t);else if(e instanceof Xt)e.target=e.target||t;else{var i=e;LV(e=new Xt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=zp(o,r,!0,e)&&i}if(i=zp(o=e.g=t,r,!0,e)&&i,i=zp(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=zp(o=e.g=n[s],r,!1,e)&&i}function zp(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&Lb(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Dt(Ct,ts),Ct.prototype[El]=!0,Ct.prototype.removeEventListener=function(t,e,n,r){jV(this,t,e,n,r)},Ct.prototype.N=function(){if(Ct.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Hp(n[r]);delete t.g[e],t.h--}}this.J=null},Ct.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Ct.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var zb=J.JSON.stringify;function iue(){var t=qb;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var HV=new class rue{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new oue,t=>t.reset());class oue{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function aue(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function uue(t){J.setTimeout(()=>{throw t},0)}let Dl,Cl=!1,qb=new class sue{constructor(){this.h=this.g=null}add(e,n){const r=HV.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},GV=()=>{const t=J.Promise.resolve(void 0);Dl=()=>{t.then(cue)}};var cue=()=>{for(var t;t=iue();){try{t.h.call(t.g)}catch(n){uue(n)}var e=HV;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Cl=!1};function qp(t,e){Ct.call(this),this.h=t||1,this.g=e||J,this.j=Jt(this.qb,this),this.l=Date.now()}function Wb(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function Kb(t,e,n){if("function"==typeof t)n&&(t=Jt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Jt(t.handleEvent,t)}return 2147483647<Number(e)?-1:J.setTimeout(t,e||0)}function zV(t){t.g=Kb(()=>{t.g=null,t.i&&(t.i=!1,zV(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Dt(qp,Ct),(N=qp.prototype).ga=!1,N.T=null,N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ut(this,"tick"),this.ga&&(Wb(this),this.start()))}},N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.N=function(){qp.$.N.call(this),Wb(this),delete this.g};class lue extends ts{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zV(this)}N(){super.N(),this.g&&(J.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bl(t){ts.call(this),this.h=t,this.g={}}Dt(bl,ts);var qV=[];function WV(t,e,n,r){Array.isArray(n)||(n&&(qV[0]=n.toString()),n=qV);for(var i=0;i<n.length;i++){var s=VV(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function KV(t){Fb(t.g,function(e,n){this.g.hasOwnProperty(n)&&jb(e)},t),t.g={}}function Wp(){this.g=!0}function Ka(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function pue(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return zb(n)}catch{return e}}(t,n)+(r?" "+r:"")})}bl.prototype.N=function(){bl.$.N.call(this),KV(this)},bl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wp.prototype.Ea=function(){this.g=!1},Wp.prototype.info=function(){};var io={},QV=null;function Kp(){return QV=QV||new Ct}function YV(t){Xt.call(this,io.Ta,t)}function Tl(t){const e=Kp();Ut(e,new YV(e))}function JV(t,e){Xt.call(this,io.STAT_EVENT,t),this.stat=e}function _n(t){const e=Kp();Ut(e,new JV(e,t))}function XV(t,e){Xt.call(this,io.Ua,t),this.size=e}function Sl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return J.setTimeout(function(){t()},e)}io.Ta="serverreachability",Dt(YV,Xt),io.STAT_EVENT="statevent",Dt(JV,Xt),io.Ua="timingevent",Dt(XV,Xt);var Qp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ZV={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Qb(){}function tU(){}Qb.prototype.h=null;var Xb,Al={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Yb(){Xt.call(this,"d")}function Jb(){Xt.call(this,"c")}function Yp(){}function Ml(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new bl(this),this.P=gue,this.V=new qp(t=xb?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new nU}function nU(){this.i=null,this.g="",this.h=!1}Dt(Yb,Xt),Dt(Jb,Xt),Dt(Yp,Qb),Yp.prototype.g=function(){return new XMLHttpRequest},Yp.prototype.i=function(){return{}},Xb=new Yp;var gue=45e3,Zb={},Jp={};function eT(t,e,n){t.L=1,t.v=tg(Ei(e)),t.s=n,t.S=!0,rU(t,null)}function rU(t,e){t.G=Date.now(),xl(t),t.A=Ei(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),fU(n.i,"t",r),t.C=0,n=t.l.J,t.h=new nU,t.g=LU(t.l,n?e:null,!t.s),0<t.O&&(t.M=new lue(Jt(t.Pa,t,t.g),t.O)),WV(t.U,t.g,"readystatechange",t.nb),e=t.I?PV(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Tl(),function due(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function iU(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function sU(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=mue(t,n),i==Jp){4==e&&(t.o=4,_n(14),r=!1),Ka(t.j,t.m,null,"[Incomplete Response]");break}if(i==Zb){t.o=4,_n(15),Ka(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Ka(t.j,t.m,i,null),tT(t,i)}iU(t)&&i!=Jp&&i!=Zb&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,_n(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),uT(e),e.M=!0,_n(11))):(Ka(t.j,t.m,n,"[Invalid Chunked Response]"),so(t),Nl(t))}function mue(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Jp:(n=Number(e.substring(n,r)),isNaN(n)?Zb:(r+=1)+n>e.length?Jp:(e=e.slice(r,r+n),t.C=r+n,e))}function xl(t){t.Y=Date.now()+t.P,oU(t,t.P)}function oU(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Sl(Jt(t.lb,t),e)}function Xp(t){t.B&&(J.clearTimeout(t.B),t.B=null)}function Nl(t){0==t.l.H||t.J||kU(t.l,t)}function so(t){Xp(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,Wb(t.V),KV(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function tT(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||nT(n.i,t)))if(!t.K&&nT(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;ag(n),sg(n)}aT(n),_n(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Sl(Jt(n.ib,n),6e3));if(1>=mU(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ao(n,11)}else if((t.K||n.g==t)&&ag(n),!wl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(rT(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,Oe(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=FU(r,r.J?r.pa:null,r.Y),o.K){yU(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Xp(a),xl(a)),r.g=o}else NU(r);0<n.j.length&&og(n)}else"stop"!=c[0]&&"close"!=c[0]||ao(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ao(n,7):oT(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Tl()}catch{}}function aU(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Bp(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function _ue(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Bp(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function yue(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Bp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(N=Ml.prototype).setTimeout=function(t){this.P=t},N.nb=function(t){t=t.target;const e=this.M;e&&3==jr(t)?e.l():this.Pa(t)},N.Pa=function(t){try{if(t==this.g)e:{const l=jr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||xb||this.g&&(this.h.h||this.g.ja()||bU(this.g)))){this.J||4!=l||7==e||Tl(),Xp(this);var n=this.g.da();this.ca=n;t:if(iU(this)){var r=bU(this.g);t="";var i=r.length,s=4==jr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){so(this),Nl(this);var o="";break t}this.h.i=new J.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function hue(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wl(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,_n(12),so(this),Nl(this);break e}Ka(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tT(this,n)}this.S?(sU(this,l,o),xb&&this.i&&3==l&&(WV(this.U,this.V,"tick",this.mb),this.V.start())):(Ka(this.j,this.m,o,null),tT(this,o)),4==l&&so(this),this.i&&!this.J&&(4==l?kU(this.l,this):(this.i=!1,xl(this)))}else(function Fue(t){const e={};t=(t.g&&2<=jr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(wl(t[r]))continue;var n=aue(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function eue(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,_n(12)):(this.o=0,_n(13)),so(this),Nl(this)}}}catch{}},N.mb=function(){if(this.g){var t=jr(this.g),e=this.g.ja();this.C<e.length&&(Xp(this),sU(this,t,e),this.i&&4!=t&&xl(this))}},N.cancel=function(){this.J=!0,so(this)},N.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function fue(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Tl(),_n(17)),so(this),this.o=2,Nl(this)):oU(this,this.Y-t)};var uU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof oo){this.h=t.h,Zp(this,t.j),this.s=t.s,this.g=t.g,eg(this,t.m),this.l=t.l;var e=t.i,n=new Ol;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),cU(this,n),this.o=t.o}else t&&(e=String(t).match(uU))?(this.h=!1,Zp(this,e[1]||"",!0),this.s=Rl(e[2]||""),this.g=Rl(e[3]||"",!0),eg(this,e[4]),this.l=Rl(e[5]||"",!0),cU(this,e[6]||"",!0),this.o=Rl(e[7]||"")):(this.h=!1,this.i=new Ol(null,this.h))}function Ei(t){return new oo(t)}function Zp(t,e,n){t.j=n?Rl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function eg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function cU(t,e,n){e instanceof Ol?(t.i=e,function bue(t,e){e&&!t.j&&(ns(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(dU(this,r),fU(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=kl(e,Due)),t.i=new Ol(e,t.h))}function Oe(t,e,n){t.i.set(e,n)}function tg(t){return Oe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Rl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function kl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,wue),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function wue(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}oo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(kl(e,lU,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(kl(e,lU,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(kl(n,"/"==n.charAt(0)?Eue:Iue,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",kl(n,Cue)),t.join("")};var lU=/[#\/\?@]/g,Iue=/[#\?:]/g,Eue=/[#\?]/g,Due=/[#\?@]/g,Cue=/#/g;function Ol(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ns(t){t.g||(t.g=new Map,t.h=0,t.i&&function vue(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function dU(t,e){ns(t),e=Qa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function hU(t,e){return ns(t),e=Qa(t,e),t.g.has(e)}function fU(t,e,n){dU(t,e),0<n.length&&(t.i=null,t.g.set(Qa(t,e),Ab(n)),t.h+=n.length)}function Qa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function pU(t){this.l=t||Sue,t=J.PerformanceNavigationTiming?0<(t=J.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(J.g&&J.g.Ka&&J.g.Ka()&&J.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=Ol.prototype).add=function(t,e){ns(this),this.i=null,t=Qa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){ns(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},N.ta=function(){ns(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},N.Z=function(t){ns(this);let e=[];if("string"==typeof t)hU(this,t)&&(e=e.concat(this.g.get(Qa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},N.set=function(t,e){return ns(this),this.i=null,hU(this,t=Qa(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Sue=10;function gU(t){return!!t.h||!!t.g&&t.g.size>=t.j}function mU(t){return t.h?1:t.g?t.g.size:0}function nT(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function rT(t,e){t.g?t.g.add(e):t.h=e}function yU(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function _U(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Ab(t.i)}pU.prototype.cancel=function(){if(this.i=_U(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Aue=class{stringify(t){return J.JSON.stringify(t,void 0)}parse(t){return J.JSON.parse(t,void 0)}};function Mue(){this.g=new Aue}function xue(t,e,n){const r=n||"";try{aU(t,function(i,s){let o=i;vl(i)&&(o=zb(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ng(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Pl(t){this.l=t.fc||null,this.j=t.ob||!1}function rg(t,e){Ct.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=iT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Dt(Pl,Qb),Pl.prototype.g=function(){return new rg(this.l,this.j)},Pl.prototype.i=function(t){return function(){return t}}({}),Dt(rg,Ct);var iT=0;function vU(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Fl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ll(t)}function Ll(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=rg.prototype).open=function(t,e){if(this.readyState!=iT)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ll(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||J).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fl(this)),this.readyState=iT},N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ll(this)),this.g&&(this.readyState=3,Ll(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof J.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vU(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Fl(this):Ll(this),3==this.readyState&&vU(this)}},N.Za=function(t){this.g&&(this.response=this.responseText=t,Fl(this))},N.Ya=function(t){this.g&&(this.response=t,Fl(this))},N.ka=function(){this.g&&Fl(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(rg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Rue=J.JSON.parse;function Je(t){Ct.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=wU,this.L=this.M=!1}Dt(Je,Ct);var wU="",kue=/^https?$/i,Oue=["POST","PUT"];function IU(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,EU(t),ig(t)}function EU(t){t.F||(t.F=!0,Ut(t,"complete"),Ut(t,"error"))}function DU(t){if(t.h&&typeof Tb<"u"&&(!t.C[1]||4!=jr(t)||2!=t.da()))if(t.v&&4==jr(t))Kb(t.La,0,t);else if(Ut(t,"readystatechange"),4==jr(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(uU)[1]||null;!i&&J.self&&J.self.location&&(i=J.self.location.protocol.slice(0,-1)),r=!kue.test(i?i.toLowerCase():"")}n=r}if(n)Ut(t,"complete"),Ut(t,"success");else{t.m=6;try{var s=2<jr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",EU(t)}}finally{ig(t)}}}function ig(t,e){if(t.g){CU(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ut(t,"ready");try{n.onreadystatechange=r}catch{}}}function CU(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(J.clearTimeout(t.A),t.A=null)}function jr(t){return t.g?t.g.readyState:0}function bU(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case wU:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function TU(t){let e="";return Fb(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function sT(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=TU(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Oe(t,e,n))}function Vl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function SU(t){this.Ga=0,this.j=[],this.l=new Wp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Vl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Vl("baseRetryDelayMs",5e3,t),this.hb=Vl("retryDelaySeedMs",1e4,t),this.eb=Vl("forwardChannelMaxRetries",2,t),this.xa=Vl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new pU(t&&t.concurrentRequestLimit),this.Ja=new Mue,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function oT(t){if(AU(t),3==t.H){var e=t.W++,n=Ei(t.I);if(Oe(n,"SID",t.K),Oe(n,"RID",e),Oe(n,"TYPE","terminate"),Ul(t,n),(e=new Ml(t,t.l,e)).L=2,e.v=tg(Ei(n)),n=!1,J.navigator&&J.navigator.sendBeacon)try{n=J.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&J.Image&&((new Image).src=e.v,n=!0),n||(e.g=LU(e.l,null),e.g.ha(e.v)),e.G=Date.now(),xl(e)}PU(t)}function sg(t){t.g&&(uT(t),t.g.cancel(),t.g=null)}function AU(t){sg(t),t.u&&(J.clearTimeout(t.u),t.u=null),ag(t),t.i.cancel(),t.m&&("number"==typeof t.m&&J.clearTimeout(t.m),t.m=null)}function og(t){if(!gU(t.i)&&!t.m){t.m=!0;var e=t.Na;Dl||GV(),Cl||(Dl(),Cl=!0),qb.add(e,t),t.C=0}}function MU(t,e){var n;n=e?e.m:t.W++;const r=Ei(t.I);Oe(r,"SID",t.K),Oe(r,"RID",n),Oe(r,"AID",t.V),Ul(t,r),t.o&&t.s&&sT(r,t.o,t.s),n=new Ml(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=xU(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),rT(t.i,n),eT(n,r,e)}function Ul(t,e){t.na&&Fb(t.na,function(n,r){Oe(e,r,n)}),t.h&&aU({},function(n,r){Oe(e,r,n)})}function xU(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Jt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{xue(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function NU(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Dl||GV(),Cl||(Dl(),Cl=!0),qb.add(e,t),t.A=0}}function aT(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Sl(Jt(t.Ma,t),OU(t,t.A)),t.A++,0))}function uT(t){null!=t.B&&(J.clearTimeout(t.B),t.B=null)}function RU(t){t.g=new Ml(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Ei(t.wa);Oe(e,"RID","rpc"),Oe(e,"SID",t.K),Oe(e,"AID",t.V),Oe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Oe(e,"TO",t.qa),Oe(e,"TYPE","xmlhttp"),Ul(t,e),t.o&&t.s&&sT(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=tg(Ei(e)),n.s=null,n.S=!0,rU(n,t)}function ag(t){null!=t.v&&(J.clearTimeout(t.v),t.v=null)}function kU(t,e){var n=null;if(t.g==e){ag(t),uT(t),t.g=null;var r=2}else{if(!nT(t.i,e))return;n=e.F,yU(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Ut(r=Kp(),new XV(r,n)),og(t)}else NU(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Lue(t,e){return!(mU(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Sl(Jt(t.Na,t,e),OU(t,t.C)),t.C++,0)))}(t,e)||2==r&&aT(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ao(t,5);break;case 4:ao(t,10);break;case 3:ao(t,6);break;default:ao(t,2)}}function OU(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ao(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Jt(t.pb,t);n||(n=new oo("//www.google.com/images/cleardot.gif"),J.location&&"http"==J.location.protocol||Zp(n,"https"),tg(n)),function Nue(t,e){const n=new Wp;if(J.Image){const r=new Image;r.onload=jp(ng,n,r,"TestLoadImage: loaded",!0,e),r.onerror=jp(ng,n,r,"TestLoadImage: error",!1,e),r.onabort=jp(ng,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=jp(ng,n,r,"TestLoadImage: timeout",!1,e),J.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else _n(2);t.H=0,t.h&&t.h.za(e),PU(t),AU(t)}function PU(t){if(t.H=0,t.ma=[],t.h){const e=_U(t.i);(0!=e.length||0!=t.j.length)&&(xV(t.ma,e),xV(t.ma,t.j),t.i.i.length=0,Ab(t.j),t.j.length=0),t.h.ya()}}function FU(t,e,n){var r=n instanceof oo?Ei(n):new oo(n);if(""!=r.g)e&&(r.g=e+"."+r.g),eg(r,r.m);else{var i=J.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new oo(null);r&&Zp(s,r),e&&(s.g=e),i&&eg(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Oe(r,n,e),Oe(r,"VER",t.ra),Ul(t,r),r}function LU(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Je(n&&t.Ha&&!t.va?new Pl({ob:!0}):t.va)).Oa(t.J),e}function VU(){}function ug(){if(Wa&&!(10<=Number(Yae)))throw Error("Environmental error: no available transport.")}function $n(t,e){Ct.call(this),this.g=new SU(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!wl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!wl(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Ya(this)}function UU(t){Yb.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function BU(){Jb.call(this),this.status=1}function Ya(t){this.g=t}function mr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function cT(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function De(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(N=Je.prototype).Oa=function(t){this.M=t},N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Xb.g(),this.C=function eU(t){return t.h||(t.h=t.i())}(this.u?this.u:Xb),this.g.onreadystatechange=Jt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void IU(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=J.FormData&&t instanceof J.FormData,!(0<=MV(Oue,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{CU(this),0<this.B&&((this.L=function Pue(t){return Wa&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jt(this.ua,this)):this.A=Kb(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){IU(this,s)}},N.ua=function(){typeof Tb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ut(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ut(this,"complete"),Ut(this,"abort"),ig(this))},N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ig(this,!0)),Je.$.N.call(this)},N.La=function(){this.s||(this.G||this.v||this.l?DU(this):this.kb())},N.kb=function(){DU(this)},N.isActive=function(){return!!this.g},N.da=function(){try{return 2<jr(this)?this.g.status:-1}catch{return-1}},N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Rue(e)}},N.Ia=function(){return this.m},N.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=SU.prototype).ra=8,N.H=1,N.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Ml(this,this.l,t);let s=this.s;if(this.U&&(s?(s=PV(s),LV(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=xU(this,i,e),Oe(n=Ei(this.I),"RID",t),Oe(n,"CVER",22),this.F&&Oe(n,"X-HTTP-Session-Id",this.F),Ul(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(TU(s)))+"&"+e:this.o&&sT(n,this.o,s)),rT(this.i,i),this.bb&&Oe(n,"TYPE","init"),this.P?(Oe(n,"$req",e),Oe(n,"SID","null"),i.aa=!0,eT(i,n,null)):eT(i,n,e),this.H=2}}else 3==this.H&&(t?MU(this,t):0==this.j.length||gU(this.i)||MU(this))},N.Ma=function(){if(this.u=null,RU(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Sl(Jt(this.jb,this),t)}},N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,_n(10),sg(this),RU(this))},N.ib=function(){null!=this.v&&(this.v=null,sg(this),aT(this),_n(19))},N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),_n(2)):(this.l.info("Failed to ping google.com"),_n(1))},N.isActive=function(){return!!this.h&&this.h.isActive(this)},(N=VU.prototype).Ba=function(){},N.Aa=function(){},N.za=function(){},N.ya=function(){},N.isActive=function(){return!0},N.Va=function(){},ug.prototype.g=function(t,e){return new $n(t,e)},Dt($n,Ct),$n.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;_n(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=FU(t,null,t.Y),og(t)},$n.prototype.close=function(){oT(this.g)},$n.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=zb(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&og(e)},$n.prototype.N=function(){this.g.h=null,delete this.j,oT(this.g),delete this.g,$n.$.N.call(this)},Dt(UU,Yb),Dt(BU,Jb),Dt(Ya,VU),Ya.prototype.Ba=function(){Ut(this.g,"a")},Ya.prototype.Aa=function(t){Ut(this.g,new UU(t))},Ya.prototype.za=function(t){Ut(this.g,new BU)},Ya.prototype.ya=function(){Ut(this.g,"b")},Dt(mr,function Vue(){this.blockSize=-1}),mr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},mr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)cT(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){cT(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){cT(this,r),i=0;break}}this.h=i,this.i+=e},mr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Uue={};function lT(t){return-128<=t&&128>t?function Wae(t,e){var n=Uue;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new De([0|e],0>e?-1:0)}):new De([0|t],0>t?-1:0)}function $r(t){if(isNaN(t)||!isFinite(t))return Ja;if(0>t)return Bt($r(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=dT;return new De(e,0)}var dT=4294967296,Ja=lT(0),hT=lT(1),$U=lT(16777216);function Di(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function rr(t){return-1==t.h}function Bt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new De(n,~t.h).add(hT)}function cg(t,e){return t.add(Bt(e))}function lg(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Bl(t,e){this.g=t,this.h=e}function dg(t,e){if(Di(e))throw Error("division by zero");if(Di(t))return new Bl(Ja,Ja);if(rr(t))return e=dg(Bt(t),e),new Bl(Bt(e.g),Bt(e.h));if(rr(e))return e=dg(t,Bt(e)),new Bl(Bt(e.g),e.h);if(30<t.g.length){if(rr(t)||rr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=hT,r=e;0>=r.X(t);)n=HU(n),r=HU(r);var i=Xa(n,1),s=Xa(r,1);for(r=Xa(r,2),n=Xa(n,2);!Di(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Xa(r,1),n=Xa(n,1)}return e=cg(t,i.R(e)),new Bl(i,e)}for(i=Ja;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=$r(n)).R(e);rr(o)||0<o.X(t);)o=(s=$r(n-=r)).R(e);Di(s)&&(s=hT),i=i.add(s),t=cg(t,o)}return new Bl(i,t)}function HU(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new De(n,t.h)}function Xa(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new De(i,t.h)}(N=De.prototype).ea=function(){if(rr(this))return-Bt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:dT+r)*e,e*=dT}return t},N.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Di(this))return"0";if(rr(this))return"-"+Bt(this).toString(t);for(var e=$r(Math.pow(t,6)),n=this,r="";;){var i=dg(n,e).g,s=((0<(n=cg(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Di(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},N.X=function(t){return rr(t=cg(this,t))?-1:Di(t)?0:1},N.abs=function(){return rr(this)?Bt(this):this},N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new De(n,-2147483648&n[n.length-1]?-1:0)},N.R=function(t){if(Di(this)||Di(t))return Ja;if(rr(this))return rr(t)?Bt(this).R(Bt(t)):Bt(Bt(this).R(t));if(rr(t))return Bt(this.R(Bt(t)));if(0>this.X($U)&&0>t.X($U))return $r(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,lg(n,2*r+2*i),n[2*r+2*i+1]+=s*u,lg(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,lg(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,lg(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new De(n,0)},N.gb=function(t){return dg(this,t).h},N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new De(n,this.h&t.h)},N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new De(n,this.h|t.h)},N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new De(n,this.h^t.h)},ug.prototype.createWebChannel=ug.prototype.g,$n.prototype.send=$n.prototype.u,$n.prototype.open=$n.prototype.m,$n.prototype.close=$n.prototype.close,Qp.NO_ERROR=0,Qp.TIMEOUT=8,Qp.HTTP_ERROR=6,ZV.COMPLETE="complete",tU.EventType=Al,Al.OPEN="a",Al.CLOSE="b",Al.ERROR="c",Al.MESSAGE="d",Ct.prototype.listen=Ct.prototype.O,Je.prototype.listenOnce=Je.prototype.P,Je.prototype.getLastError=Je.prototype.Sa,Je.prototype.getLastErrorCode=Je.prototype.Ia,Je.prototype.getStatus=Je.prototype.da,Je.prototype.getResponseJson=Je.prototype.Wa,Je.prototype.getResponseText=Je.prototype.ja,Je.prototype.send=Je.prototype.ha,Je.prototype.setWithCredentials=Je.prototype.Oa,mr.prototype.digest=mr.prototype.l,mr.prototype.reset=mr.prototype.reset,mr.prototype.update=mr.prototype.j,De.prototype.add=De.prototype.add,De.prototype.multiply=De.prototype.R,De.prototype.modulo=De.prototype.gb,De.prototype.compare=De.prototype.X,De.prototype.toNumber=De.prototype.ea,De.prototype.toString=De.prototype.toString,De.prototype.getBits=De.prototype.D,De.fromNumber=$r,De.fromString=function jU(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Bt(jU(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=$r(Math.pow(e,8)),r=Ja,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=$r(Math.pow(e,s)),r=r.R(s).add($r(o))):r=(r=r.R(n)).add($r(o))}return r};var Bue=gr.createWebChannelTransport=function(){return new ug},jue=gr.getStatEventTarget=function(){return Kp()},fT=gr.ErrorCode=Qp,$ue=gr.EventType=ZV,Hue=gr.Event=io,GU=gr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Gue=gr.FetchXmlHttpFactory=Pl,hg=gr.WebChannel=tU,zue=gr.XhrIo=Je,que=gr.Md5=mr,Za=gr.Integer=De;const zU="@firebase/firestore";class bt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bt.UNAUTHENTICATED=new bt(null),bt.GOOGLE_CREDENTIALS=new bt("google-credentials-uid"),bt.FIRST_PARTY=new bt("first-party-uid"),bt.MOCK_USER=new bt("mock-user");let eu="9.23.0";const rs=new La("@firebase/firestore");function pT(){return rs.logLevel}function S(t,...e){if(rs.logLevel<=he.DEBUG){const n=e.map(gT);rs.debug(`Firestore (${eu}): ${t}`,...n)}}function rt(t,...e){if(rs.logLevel<=he.ERROR){const n=e.map(gT);rs.error(`Firestore (${eu}): ${t}`,...n)}}function yr(t,...e){if(rs.logLevel<=he.WARN){const n=e.map(gT);rs.warn(`Firestore (${eu}): ${t}`,...n)}}function gT(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function O(t="Unexpected state"){const e=`FIRESTORE (${eu}) INTERNAL ASSERTION FAILED: `+t;throw rt(e),new Error(e)}function L(t,e){t||O()}function x(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class qU{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Wue{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bt.UNAUTHENTICATED))}shutdown(){}}class Kue{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Que{constructor(e){this.t=e,this.currentUser=bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new yt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new yt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new yt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(L("string"==typeof r.accessToken),new qU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return L(null===e||"string"==typeof e),new bt(e)}}class Yue{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=bt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Jue{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Yue(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class WU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Xue{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,S("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(L("string"==typeof n.token),this.T=n.token,new WU(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Zue(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class KU{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Zue(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function K(t,e){return t<e?-1:t>e?1:0}function tu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Ge{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ge(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?K(this.nanoseconds,e.nanoseconds):K(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class U{constructor(e){this.timestamp=e}static fromTimestamp(e){return new U(e)}static min(){return new U(new Ge(0,0))}static max(){return new U(new Ge(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class jl{constructor(e,n,r){void 0===n?n=0:n>e.length&&O(),void 0===r?r=e.length-n:r>e.length-n&&O(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===jl.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof jl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class le extends jl{construct(e,n,r){return new le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new le(n)}static emptyPath(){return new le([])}}const ece=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class it extends jl{construct(e,n,r){return new it(e,n,r)}static isValidIdentifier(e){return ece.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),it.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new it(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new D(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new D(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new D(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new D(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new it(n)}static emptyPath(){return new it([])}}class M{constructor(e){this.path=e}static fromPath(e){return new M(le.fromString(e))}static fromName(e){return new M(le.fromString(e).popFirst(5))}static empty(){return new M(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===le.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new M(new le(e.slice()))}}function JU(t){return new Hn(t.readTime,t.key,-1)}class Hn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Hn(U.min(),M.empty(),-1)}static max(){return new Hn(U.max(),M.empty(),-1)}}function yT(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=M.comparator(t.documentKey,e.documentKey),0!==n?n:K(t.largestBatchId,e.largestBatchId))}const XU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rce{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function is(t){return _T.apply(this,arguments)}function _T(){return _T=g(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==XU)throw t;S("LocalStore","Unexpectedly lost primary lease")}),_T.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new v((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function ss(t){return"IndexedDbTransactionError"===t.name}let Gn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Gl(t){return null==t}function zl(t){return 0===t&&1/t==-1/0}function aB(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function os(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class ke{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yg(this.root,e,this.comparator,!1)}getReverseIterator(){return new yg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yg(this.root,e,this.comparator,!0)}}class yg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??jt.RED,this.left=i??jt.EMPTY,this.right=s??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new jt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();const e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1,jt.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(t,e,n,r,i){return this}insert(t,e,n){return new jt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pe{constructor(e){this.comparator=e,this.data=new ke(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cB(this.data.getIterator())}getIteratorFrom(e){return new cB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pe(this.comparator);return n.data=e,n}}class cB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rn{constructor(e){this.fields=e,e.sort(it.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new Pe(it.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return tu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class lB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class _t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new lB("Invalid base64 string: "+i):i}}(e);return new _t(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new _t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return K(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_t.EMPTY_BYTE_STRING=new _t("");const Tce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function as(t){if(L(!!t),"string"==typeof t){let e=0;const n=Tce.exec(t);if(L(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xe(t.seconds),nanos:Xe(t.nanos)}}function Xe(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ci(t){return"string"==typeof t?_t.fromBase64String(t):_t.fromUint8Array(t)}function _g(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function vg(t){const e=t.mapValue.fields.__previous_value__;return _g(e)?vg(e):e}function ql(t){const e=as(t.mapValue.fields.__local_write_time__.timestampValue);return new Ge(e.seconds,e.nanos)}class Sce{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class lo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new lo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof lo&&e.projectId===this.projectId&&e.database===this.database}}const us={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function cs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_g(t)?4:pB(t)?9007199254740991:10:O()}function Gr(t,e){if(t===e)return!0;const n=cs(t);if(n!==cs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ql(t).isEqual(ql(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=as(r.timestampValue),o=as(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Ci(t.bytesValue).isEqual(Ci(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Xe(r.geoPointValue.latitude)===Xe(i.geoPointValue.latitude)&&Xe(r.geoPointValue.longitude)===Xe(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Xe(r.integerValue)===Xe(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Xe(r.doubleValue),o=Xe(i.doubleValue);return s===o?zl(s)===zl(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return tu(t.arrayValue.values||[],e.arrayValue.values||[],Gr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(aB(s)!==aB(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Gr(s[a],o[a])))return!1;return!0}(t,e);default:return O()}var i}function Wl(t,e){return void 0!==(t.values||[]).find(n=>Gr(n,e))}function ls(t,e){if(t===e)return 0;const n=cs(t),r=cs(e);if(n!==r)return K(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return K(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Xe(i.integerValue||i.doubleValue),a=Xe(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return dB(t.timestampValue,e.timestampValue);case 4:return dB(ql(t),ql(e));case 5:return K(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Ci(i),a=Ci(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=K(o[u],a[u]);if(0!==c)return c}return K(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=K(Xe(i.latitude),Xe(s.latitude));return 0!==o?o:K(Xe(i.longitude),Xe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=ls(o[u],a[u]);if(c)return c}return K(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===us.mapValue&&s===us.mapValue)return 0;if(i===us.mapValue)return 1;if(s===us.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=K(a[l],c[l]);if(0!==d)return d;const h=ls(o[a[l]],u[c[l]]);if(0!==h)return h}return K(a.length,c.length)}(t.mapValue,e.mapValue);default:throw O()}}function dB(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return K(t,e);const n=as(t),r=as(e),i=K(n.seconds,r.seconds);return 0!==i?i:K(n.nanos,r.nanos)}function ru(t){return IT(t)}function IT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=as(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ci(t.bytesValue).toBase64():"referenceValue"in t?M.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=IT(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${IT(r.fields[a])}`;return s+"}"}(t.mapValue):O();var e}function ET(t){return!!t&&"integerValue"in t}function Kl(t){return!!t&&"arrayValue"in t}function hB(t){return!!t&&"nullValue"in t}function fB(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Eg(t){return!!t&&"mapValue"in t}function Ql(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return os(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ql(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ql(t.arrayValue.values[n]);return e}return Object.assign({},t)}function pB(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Eg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(n)}setAll(e){let n=it.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ql(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Eg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Eg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){os(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new $t(Ql(this.value))}}function yB(t){const e=[];return os(t.fields,(n,r)=>{const i=new it([n]);if(Eg(r)){const s=yB(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Rn(e)}class Fe{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Fe(e,0,U.min(),U.min(),U.min(),$t.empty(),0)}static newFoundDocument(e,n,r,i){return new Fe(e,1,n,U.min(),r,i,0)}static newNoDocument(e,n){return new Fe(e,2,n,U.min(),U.min(),$t.empty(),0)}static newUnknownDocument(e,n){return new Fe(e,3,n,U.min(),U.min(),$t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(U.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=U.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ds{constructor(e,n){this.position=e,this.inclusive=n}}function _B(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?M.comparator(M.fromName(o.referenceValue),n.key):ls(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function vB(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gr(t.position[n],e.position[n]))return!1;return!0}class iu{constructor(e,n="asc"){this.field=e,this.dir=n}}function xce(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class wB{}class oe extends wB{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Nce(e,n,r):"array-contains"===n?new Oce(e,r):"in"===n?new TB(e,r):"not-in"===n?new Pce(e,r):"array-contains-any"===n?new Fce(e,r):new oe(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Rce(e,r):new kce(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ls(n,this.value)):null!==n&&cs(this.value)===cs(n)&&this.matchesComparison(ls(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return O()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ce extends wB{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Ce(e,n)}matches(e){return su(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function su(t){return"and"===t.op}function CT(t){return function IB(t){for(const e of t.filters)if(e instanceof Ce)return!1;return!0}(t)&&su(t)}function bT(t){if(t instanceof oe)return t.field.canonicalString()+t.op.toString()+ru(t.value);if(CT(t))return t.filters.map(e=>bT(e)).join(",");{const e=t.filters.map(n=>bT(n)).join(",");return`${t.op}(${e})`}}function EB(t,e){return t instanceof oe?(n=t,(r=e)instanceof oe&&n.op===r.op&&n.field.isEqual(r.field)&&Gr(n.value,r.value)):t instanceof Ce?function(n,r){return r instanceof Ce&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&EB(s,r.filters[o]),!0)}(t,e):void O();var n,r}function CB(t){return t instanceof oe?`${(e=t).field.canonicalString()} ${e.op} ${ru(e.value)}`:t instanceof Ce?function(e){return e.op.toString()+" {"+e.getFilters().map(CB).join(" ,")+"}"}(t):"Filter";var e}class Nce extends oe{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){const n=M.comparator(e.key,this.key);return this.matchesComparison(n)}}class Rce extends oe{constructor(e,n){super(e,"in",n),this.keys=bB(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class kce extends oe{constructor(e,n){super(e,"not-in",n),this.keys=bB(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bB(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}class Oce extends oe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kl(n)&&Wl(n.arrayValue,this.value)}}class TB extends oe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Wl(this.value.arrayValue,n)}}class Pce extends oe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Wl(this.value.arrayValue,n)}}class Fce extends oe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wl(this.value.arrayValue,r))}}class Lce{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function TT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Lce(t,e,n,r,i,s,o)}function fo(t){const e=x(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>bT(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Gl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ru(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ru(r)).join(",")),e.dt=n}return e.dt}function Yl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xce(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vB(t.startAt,e.startAt)&&vB(t.endAt,e.endAt)}function Dg(t){return M.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class bi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function ou(t){return new bi(t)}function xB(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function po(t){const e=x(t);if(null===e.wt){e.wt=[];const n=function bg(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function ST(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new iu(n)),e.wt.push(new iu(it.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new iu(it.keyField(),s))}}}return e.wt}function vn(t){const e=x(t);if(!e._t)if("F"===e.limitType)e._t=TT(e.path,e.collectionGroup,po(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of po(e))n.push(new iu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new ds(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ds(e.startAt.position,e.startAt.inclusive):null;e._t=TT(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Tg(t,e,n){return new bi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jl(t,e){return Yl(vn(t),vn(e))&&t.limitType===e.limitType}function NB(t){return`${fo(vn(t))}|lt:${t.limitType}`}function xT(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>CB(r)).join(", ")}]`),Gl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ru(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ru(r)).join(",")),`Target(${n})`}(vn(t))}; limitType=${t.limitType})`}function Xl(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):M.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of po(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=_B(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,po(n),r)||n.endAt&&!function(i,s,o){const a=_B(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,po(n),r)));var n,r}function kB(t){return(e,n)=>{let r=!1;for(const i of po(t)){const s=Vce(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Vce(t,e,n){const r=t.field.isKeyField()?M.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?ls(a,u):O()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return O()}}class Ti{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){os(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return uB(this.inner)}size(){return this.innerSize}}const Uce=new ke(M.comparator);function kn(){return Uce}const OB=new ke(M.comparator);function Zl(...t){let e=OB;for(const n of t)e=e.insert(n.key,n);return e}function PB(t){let e=OB;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function zr(){return ed()}function FB(){return ed()}function ed(){return new Ti(t=>t.toString(),(t,e)=>t.isEqual(e))}const Bce=new ke(M.comparator),jce=new Pe(M.comparator);function re(...t){let e=jce;for(const n of t)e=e.add(n);return e}const $ce=new Pe(K);function LB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zl(e)?"-0":e}}function VB(t){return{integerValue:""+t}}function UB(t,e){return function eB(t){return"number"==typeof t&&Number.isInteger(t)&&!zl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?VB(e):LB(t,e)}class Sg{constructor(){this._=void 0}}function Hce(t,e,n){return t instanceof au?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&_g(i)&&(i=vg(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof go?jB(t,e):t instanceof mo?$B(t,e):function(r,i){const s=BB(r,i),o=HB(s)+HB(r.gt);return ET(s)&&ET(r.gt)?VB(o):LB(r.serializer,o)}(t,e)}function Gce(t,e,n){return t instanceof go?jB(t,e):t instanceof mo?$B(t,e):n}function BB(t,e){return t instanceof uu?ET(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class au extends Sg{}class go extends Sg{constructor(e){super(),this.elements=e}}function jB(t,e){const n=GB(e);for(const r of t.elements)n.some(i=>Gr(i,r))||n.push(r);return{arrayValue:{values:n}}}class mo extends Sg{constructor(e){super(),this.elements=e}}function $B(t,e){let n=GB(e);for(const r of t.elements)n=n.filter(i=>!Gr(i,r));return{arrayValue:{values:n}}}class uu extends Sg{constructor(e,n){super(),this.serializer=e,this.gt=n}}function HB(t){return Xe(t.integerValue||t.doubleValue)}function GB(t){return Kl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class qce{constructor(e,n){this.version=e,this.transformResults=n}}class Be{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Be}static exists(e){return new Be(void 0,e)}static updateTime(e){return new Be(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ag(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Mg{}function zB(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new lu(t.key,Be.none()):new cu(t.key,t.data,Be.none());{const n=t.data,r=$t.empty();let i=new Pe(it.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Si(t.key,r,new Rn(i.toArray()),Be.none())}}function Wce(t,e,n){t instanceof cu?function(r,i,s){const o=r.value.clone(),a=KB(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Si?function(r,i,s){if(!Ag(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=KB(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(WB(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function nd(t,e,n,r){return t instanceof cu?function(i,s,o,a){if(!Ag(i.precondition,s))return o;const u=i.value.clone(),c=QB(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Si?function(i,s,o,a){if(!Ag(i.precondition,s))return o;const u=QB(i.fieldTransforms,a,s),c=s.data;return c.setAll(WB(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,Ag(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Kce(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=BB(r.transform,i||null);null!=s&&(null===n&&(n=$t.empty()),n.set(r.field,s))}return n||null}function qB(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&tu(n,r,(i,s)=>function zce(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof go&&r instanceof go||n instanceof mo&&r instanceof mo?tu(n.elements,r.elements,Gr):n instanceof uu&&r instanceof uu?Gr(n.gt,r.gt):n instanceof au&&r instanceof au);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class cu extends Mg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Si extends Mg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function WB(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function KB(t,e,n){const r=new Map;L(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Gce(o,a,n[i]))}return r}function QB(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Hce(s,o,e))}return r}class lu extends Mg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RT extends Mg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Wce(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=nd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=nd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=FB();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=zB(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(U.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),re())}isEqual(e){return this.batchId===e.batchId&&tu(this.mutations,e.mutations,(n,r)=>qB(n,r))&&tu(this.baseMutations,e.baseMutations,(n,r)=>qB(n,r))}}class OT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){L(e.mutations.length===r.length);let i=Bce;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new OT(e,n,r,i)}}class PT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Yce{constructor(e,n){this.count=e,this.unchangedNames=n}}var lt,de;function JB(t){if(void 0===t)return rt("GRPC error has no .code"),I.UNKNOWN;switch(t){case lt.OK:return I.OK;case lt.CANCELLED:return I.CANCELLED;case lt.UNKNOWN:return I.UNKNOWN;case lt.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case lt.INTERNAL:return I.INTERNAL;case lt.UNAVAILABLE:return I.UNAVAILABLE;case lt.UNAUTHENTICATED:return I.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case lt.NOT_FOUND:return I.NOT_FOUND;case lt.ALREADY_EXISTS:return I.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return I.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case lt.ABORTED:return I.ABORTED;case lt.OUT_OF_RANGE:return I.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return I.UNIMPLEMENTED;case lt.DATA_LOSS:return I.DATA_LOSS;default:return O()}}(de=lt||(lt={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";class FT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return xg}static getOrCreateInstance(){return null===xg&&(xg=new FT),xg}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let xg=null;const Jce=new Za([4294967295,4294967295],0);function ZB(t){const e=function XB(){return new TextEncoder}().encode(t),n=new que;return n.update(e),new Uint8Array(n.digest())}function ej(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Za([n,r],0),new Za([i,s],0)]}class LT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new rd(`Invalid padding: ${n}`);if(r<0)throw new rd(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new rd(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new rd(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Za.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Za.fromNumber(r)));return 1===i.compare(Jce)&&(i=new Za([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=ZB(e),[r,i]=ej(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new LT(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=ZB(e),[r,i]=ej(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class rd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class id{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,sd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new id(U.min(),i,new ke(K),kn(),re())}}class sd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new sd(r,n,re(),re(),re())}}class Ng{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class tj{constructor(e,n){this.targetId=e,this.Vt=n}}class nj{constructor(e,n,r=_t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class rj{constructor(){this.St=0,this.Dt=sj(),this.Ct=_t.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=re(),n=re(),r=re();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:O()}}),new sd(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=sj()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Xce{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=kn(),this.zt=ij(),this.Wt=new ke(K)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:O()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Dg(o))if(0===i){const a=new M(o.path);this.Yt(r,a,Fe.newNoDocument(a,U.min()))}else L(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=FT.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,m,y,w;const _={localCacheCount:l,existenceFilterCount:d.count},b=d.unchangedNames;return b&&(_.bloomFilter={applied:0===c,hashCount:null!==(h=b?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(p=null===(f=b?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(w=null===(y=b?.bits)||void 0===y?void 0:y.padding)&&void 0!==w?w:0}),_}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=Ci(s).toUint8Array()}catch(l){if(l instanceof lB)return yr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new LT(u,o,a)}catch(l){return yr(l instanceof rd?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Dg(a.target)){const u=new M(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Fe.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=re();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new id(e,n,this.Wt,this.jt,r);return this.jt=kn(),this.zt=ij(),this.Wt=new ke(K),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new rj,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Pe(K),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||S("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new rj),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function ij(){return new ke(M.comparator)}function sj(){return new ke(M.comparator)}const Zce={asc:"ASCENDING",desc:"DESCENDING"},ele={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tle={and:"AND",or:"OR"};class nle{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function VT(t,e){return t.useProto3Json||Gl(e)?e:{value:e}}function du(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rle(t,e){return du(t,e.toTimestamp())}function st(t){return L(!!t),U.fromTimestamp(function(e){const n=as(e);return new Ge(n.seconds,n.nanos)}(t))}function UT(t,e){return(n=t,new le(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function aj(t){const e=le.fromString(t);return L(mj(e)),e}function od(t,e){return UT(t.databaseId,e.path)}function qr(t,e){const n=aj(e);if(n.get(1)!==t.databaseId.projectId)throw new D(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M(cj(n))}function BT(t,e){return UT(t.databaseId,e)}function ad(t){return new le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cj(t){return L(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function lj(t,e,n){return{name:od(t,e),fields:n.value.mapValue.fields}}function hj(t,e){return{documents:[BT(t,e.path)]}}function $T(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=BT(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=BT(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return gj(Ce.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:hs((l=c).field),direction:ule(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=VT(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function fj(t){let e=function uj(t){const e=aj(t);return 4===e.length?le.emptyPath():cj(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){L(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=pj(l);return d instanceof Ce&&CT(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new iu(hu((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Gl(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new ds((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new ds(l.values||[],!l.before)}(n.endAt)),function MB(t,e,n,r,i,s,o,a){return new bi(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function pj(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=hu(e.unaryFilter.field);return oe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=hu(e.unaryFilter.field);return oe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=hu(e.unaryFilter.field);return oe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=hu(e.unaryFilter.field);return oe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return O()}}(t):void 0!==t.fieldFilter?oe.create(hu((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return Ce.create(e.compositeFilter.filters.map(n=>pj(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return O()}}(e.compositeFilter.op))}(t):O();var e}function ule(t){return Zce[t]}function cle(t){return ele[t]}function lle(t){return tle[t]}function hs(t){return{fieldPath:t.canonicalString()}}function hu(t){return it.fromServerFormat(t.fieldPath)}function gj(t){return t instanceof oe?function(e){if("=="===e.op){if(fB(e.value))return{unaryFilter:{field:hs(e.field),op:"IS_NAN"}};if(hB(e.value))return{unaryFilter:{field:hs(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(fB(e.value))return{unaryFilter:{field:hs(e.field),op:"IS_NOT_NAN"}};if(hB(e.value))return{unaryFilter:{field:hs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hs(e.field),op:cle(e.op),value:e.value}}}(t):t instanceof Ce?function(e){const n=e.getFilters().map(r=>gj(r));return 1===n.length?n[0]:{compositeFilter:{op:lle(e.op),filters:n}}}(t):O()}function dle(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mj(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Ai{constructor(e,n,r,i,s=U.min(),o=U.min(),a=_t.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ai(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class yj{constructor(e){this.fe=e}}function HT(t){const e=fj({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Tg(e,e.limit,"L"):e}class wo{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Xe(e.integerValue));else if("doubleValue"in e){const r=Xe(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),zl(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Ci(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?pB(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):O()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),M.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}wo.Ve=new wo;class wle{constructor(){this.rn=new QT}addToCollectionParentIndex(e,n){return this.rn.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(Hn.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(Hn.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class QT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pe(le.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pe(le.comparator)).toArray()}}new Uint8Array(0);class en{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(41943040,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);class Eo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Eo(0)}static Mn(){return new Eo(-1)}}class Tle{constructor(){this.changes=new Ti(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Fe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Mle{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Hj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&nd(r.mutation,i,Rn.empty(),Ge.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=re()){const i=zr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Zl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=zr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,re()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=kn();const o=ed(),a=ed();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Si)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),nd(l.mutation,c,l.mutation.getFieldMask(),Ge.now())):o.set(c.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new Mle(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ed();let i=new ke((o,a)=>o-a),s=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Rn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||re()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=FB();l.forEach(h=>{if(!s.has(h)){const f=zB(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return M.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function AT(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):v.resolve(zr());let a=-1,u=s;return o.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,re())).next(l=>({batchId:a,changes:PB(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let i=Zl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Zl();return this.indexManager.getCollectionParents(e,i).next(o=>v.forEach(o,a=>{const u=(c=n,l=a.child(i),new bi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Fe.newInvalidDocument(c)))});let o=Zl();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&nd(c.mutation,u,Rn.empty(),Ge.now()),Xl(n,u)&&(o=o.insert(a,u))}),o})}}class xle{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return v.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:st(r.createTime)}),v.resolve()}getNamedQuery(e,n){return v.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:HT(r.bundledQuery),readTime:st(r.readTime)}),v.resolve();var r}}class Nle{constructor(){this.overlays=new ke(M.comparator),this.ls=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=zr();return v.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=zr(),s=n.length+1,o=new M(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ke((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=zr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=zr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new PT(n,r));let s=this.ls.get(n);void 0===s&&(s=re(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class YT{constructor(){this.fs=new Pe(St.ds),this.ws=new Pe(St._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new St(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new St(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new M(new le([])),r=new St(n,e),i=new St(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new M(new le([])),r=new St(n,e),i=new St(n,e+1);let s=re();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new St(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class St{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return M.comparator(e.key,n.key)||K(e.As,n.As)}static _s(e,n){return K(e.As,n.As)||M.comparator(e.key,n.key)}}class Rle{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Pe(St.ds)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new kT(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new St(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,n){return v.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new St(n,0),i=new St(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pe(K);return n.forEach(i=>{const s=new St(i,0),o=new St(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),v.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;M.isDocumentKey(s)||(s=s.child(""));const o=new St(new M(s),0);let a=new Pe(K);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),v.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){L(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return v.forEach(n.mutations,i=>{const s=new St(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new St(n,0),i=this.Rs.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class kle{constructor(e){this.Ds=e,this.docs=new ke(M.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():Fe.newInvalidDocument(n))}getEntries(e,n){let r=kn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Fe.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=kn();const o=n.path,a=new M(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||yT(JU(l),r)<=0||(i.has(l.key)||Xl(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return v.resolve(s)}getAllFromCollectionGroup(e,n,r,i){O()}Cs(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ole(this)}getSize(e){return v.resolve(this.size)}}class Ole extends Tle{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Ple{constructor(e){this.persistence=e,this.xs=new Ti(n=>fo(n),Yl),this.lastRemoteSnapshotVersion=U.min(),this.highestTargetId=0,this.Ns=0,this.ks=new YT,this.targetCount=0,this.Ms=Eo.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),v.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Eo(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.Fn(n),v.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.ks.containsKey(n))}}class JT{constructor(e,n){this.$s={},this.overlays={},this.Os=new Gn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Ple(this),this.indexManager=new wle,this.remoteDocumentCache=new kle(r=>this.referenceDelegate.Ls(r)),this.serializer=new yj(n),this.qs=new xle(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Nle,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new Rle(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){S("MemoryPersistence","Starting transaction:",e);const i=new Fle(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return v.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class Fle extends rce{constructor(e){super(),this.currentSequenceNumber=e}}class Bg{constructor(e){this.persistence=e,this.Qs=new YT,this.js=null}static zs(e){return new Bg(e)}get Ws(){if(this.js)return this.js;throw O()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),v.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Ws,r=>{const i=M.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,U.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return v.or([()=>v.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class t0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=re(),i=re();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t0(e,n.fromCache,r,i)}}class zj{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(xB(n))return v.resolve(null);let r=vn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Tg(n,null,"F"),r=vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=re(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,Tg(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return xB(n)||i.isEqual(U.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(pT()<=he.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xT(n)),this.Wi(e,o,n,function YU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=U.fromTimestamp(1e9===r?new Ge(n+1,0):new Ge(n,r));return new Hn(i,M.empty(),e)}(i,-1)))})}ji(e,n){let r=new Pe(kB(e));return n.forEach((i,s)=>{Xl(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return pT()<=he.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",xT(n)),this.Ui.getDocumentsMatchingQuery(e,n,Hn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Vle{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new ke(K),this.Yi=new Ti(s=>fo(s),Yl),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hj(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function Wj(t,e){return n0.apply(this,arguments)}function n0(){return n0=g(function*(t,e){const n=x(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=re();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),n0.apply(this,arguments)}function Kj(t){const e=x(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function jle(t,e){const n=x(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mu(t,e,n){return r0.apply(this,arguments)}function r0(){return r0=g(function*(t,e,n){const r=x(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ss(o))throw o;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),r0.apply(this,arguments)}function Hg(t,e,n){const r=x(t);let i=U.min(),s=re();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=x(a),d=l.Yi.get(c);return void 0!==d?v.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,vn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:U.min(),n?s:re())).next(a=>(function Xj(t,e,n){let r=t.Xi.get(e)||U.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function RB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class c0{constructor(){this.activeTargetIds=function NT(){return $ce}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class t${constructor(){this.Hr=new c0,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new c0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Gle{Yr(e){}shutdown(){}}class n${constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let qg=null;function d0(){return null===qg?qg=268435456+Math.round(2147483648*Math.random()):qg++,"0x"+qg.toString(16)}const zle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qle{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const tn="WebChannelConnection";class Wle extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=d0(),a=this.To(e,n);S("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(S("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw yr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+eu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${zle[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=d0();return new Promise((o,a)=>{const u=new zue;u.setWithCredentials(!0),u.listenOnce($ue.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case fT.NO_ERROR:const l=u.getResponseJson();S(tn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case fT.TIMEOUT:S(tn,`RPC '${e}' ${s} timed out`),a(new D(I.DEADLINE_EXCEEDED,"Request time out"));break;case fT.HTTP_ERROR:const d=u.getStatus();if(S(tn,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(y)>=0?y:I.UNKNOWN}(f.status);a(new D(p,f.message))}else a(new D(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new D(I.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{S(tn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);S(tn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=d0(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Bue(),a=jue(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new Gue({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");S(tn,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new qle({ro:y=>{f?S(tn,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(S(tn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),S(tn,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),m=(y,w,_)=>{y.listen(w,b=>{try{_(b)}catch(k){setTimeout(()=>{throw k},0)}})};return m(d,hg.EventType.OPEN,()=>{f||S(tn,`RPC '${e}' stream ${i} transport opened.`)}),m(d,hg.EventType.CLOSE,()=>{f||(f=!0,S(tn,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,hg.EventType.ERROR,y=>{f||(f=!0,yr(tn,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new D(I.UNAVAILABLE,"The operation could not be completed")))}),m(d,hg.EventType.MESSAGE,y=>{var w;if(!f){const _=y.data[0];L(!!_);const k=_.error||(null===(w=_[0])||void 0===w?void 0:w.error);if(k){S(tn,`RPC '${e}' stream ${i} received error:`,k);const V=k.status;let Z=function(rn){const Qr=lt[rn];if(void 0!==Qr)return JB(Qr)}(V),Se=k.message;void 0===Z&&(Z=I.INTERNAL,Se="Unknown error status: "+V+" with message "+k.message),f=!0,p.wo(new D(Z,Se)),d.close()}else S(tn,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),m(a,Hue.STAT_EVENT,y=>{y.stat===GU.PROXY?S(tn,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===GU.NOPROXY&&S(tn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Wg(){return typeof document<"u"?document:null}function yd(t){return new nle(t,!0)}class h0{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class i${constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new h0(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return g(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return g(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return g(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(rt(n.toString()),rt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new D(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(g(function*(){e.state=0,e.start()}))}tu(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Kle extends i${constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function sle(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:O(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(L(void 0===c||"string"==typeof c),_t.fromBase64String(c||"")):(L(void 0===c||c instanceof Uint8Array),_t.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?I.UNKNOWN:JB(u.code);return new D(c,u.message||"")}(o);n=new nj(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=qr(t,r.document.name),s=st(r.document.updateTime),o=r.document.createTime?st(r.document.createTime):U.min(),a=new $t({mapValue:{fields:r.document.fields}}),u=Fe.newFoundDocument(i,s,o,a);n=new Ng(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=qr(t,r.document),s=r.readTime?st(r.readTime):U.min(),o=Fe.newNoDocument(i,s);n=new Ng([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=qr(t,r.document);n=new Ng([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return O();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Yce(i,s);n=new tj(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return U.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?U.min():s.readTime?st(s.readTime):U.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=ad(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Dg(a)?{documents:hj(i,a)}:{query:$T(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=oj(i,s.resumeToken);const u=VT(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(U.min())>0){o.readTime=du(i,s.snapshotVersion.toTimestamp());const u=VT(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function ale(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return O()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=ad(this.serializer),n.removeTarget=e,this.Wo(n)}}class Qle extends i${constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(L(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function ole(t,e){return t&&t.length>0?(L(void 0!==e),t.map(n=>function(r,i){let s=st(r.updateTime?r.updateTime:i);return s.isEqual(U.min())&&(s=st(i)),new qce(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=st(e.commitTime);return this.listener.cu(r,n)}return L(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=ad(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function ud(t,e){let n;if(e instanceof cu)n={update:lj(t,e.key,e.value)};else if(e instanceof lu)n={delete:od(t,e.key)};else if(e instanceof Si)n={update:lj(t,e.key,e.data),updateMask:dle(e.fieldMask)};else{if(!(e instanceof RT))return O();n={verify:od(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof au)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof go)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof mo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof uu)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw O()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:rle(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:O()),n;var i}(this.serializer,r))};this.Wo(n)}}class Yle extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new D(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new D(I.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Xle{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(rt(n),this.mu=!1):S("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Zle{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(g(function*(){var u;ms(o)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=x(c);l.vu.add(4),yield yu(l),l.bu.set("Unknown"),l.vu.delete(4),yield _d(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new Xle(r,i)}}function _d(t){return p0.apply(this,arguments)}function p0(){return p0=g(function*(t){if(ms(t))for(const e of t.Ru)yield e(!0)}),p0.apply(this,arguments)}function yu(t){return g0.apply(this,arguments)}function g0(){return g0=g(function*(t){for(const e of t.Ru)yield e(!1)}),g0.apply(this,arguments)}function Kg(t,e){const n=x(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),_0(n)?y0(n):vu(n).Ko()&&m0(n,e))}function vd(t,e){const n=x(t),r=vu(n);n.Au.delete(e),r.Ko()&&s$(n,e),0===n.Au.size&&(r.Ko()?r.jo():ms(n)&&n.bu.set("Unknown"))}function m0(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(U.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vu(t).su(e)}function s$(t,e){t.Vu.qt(e),vu(t).iu(e)}function y0(t){t.Vu=new Xce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),vu(t).start(),t.bu.gu()}function _0(t){return ms(t)&&!vu(t).Uo()&&t.Au.size>0}function ms(t){return 0===x(t).vu.size}function o$(t){t.Vu=void 0}function ede(t){return v0.apply(this,arguments)}function v0(){return v0=g(function*(t){t.Au.forEach((e,n)=>{m0(t,e)})}),v0.apply(this,arguments)}function tde(t,e){return w0.apply(this,arguments)}function w0(){return w0=g(function*(t,e){o$(t),_0(t)?(t.bu.Iu(e),y0(t)):t.bu.set("Unknown")}),w0.apply(this,arguments)}function nde(t,e,n){return I0.apply(this,arguments)}function I0(){return I0=g(function*(t,e,n){if(t.bu.set("Online"),e instanceof nj&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Qg(t,r)}else if(e instanceof Ng?t.Vu.Ht(e):e instanceof tj?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(U.min()))try{const r=yield Kj(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(_t.EMPTY_BYTE_STRING,c.snapshotVersion)),s$(i,a);const l=new Ai(c.target,a,u,c.sequenceNumber);m0(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){S("RemoteStore","Failed to raise snapshot:",r),yield Qg(t,r)}var r}),I0.apply(this,arguments)}function Qg(t,e,n){return E0.apply(this,arguments)}function E0(){return E0=g(function*(t,e,n){if(!ss(e))throw e;t.vu.add(1),yield yu(t),t.bu.set("Offline"),n||(n=()=>Kj(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){S("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield _d(t)}))}),E0.apply(this,arguments)}function a$(t,e){return e().catch(n=>Qg(t,n,e))}function _u(t){return D0.apply(this,arguments)}function D0(){return D0=g(function*(t){const e=x(t),n=ys(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;rde(e);)try{const i=yield jle(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,ide(e,i)}catch(i){yield Qg(e,i)}u$(e)&&c$(e)}),D0.apply(this,arguments)}function rde(t){return ms(t)&&t.Eu.length<10}function ide(t,e){t.Eu.push(e);const n=ys(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function u$(t){return ms(t)&&!ys(t).Uo()&&t.Eu.length>0}function c$(t){ys(t).start()}function sde(t){return C0.apply(this,arguments)}function C0(){return C0=g(function*(t){ys(t).hu()}),C0.apply(this,arguments)}function ode(t){return b0.apply(this,arguments)}function b0(){return b0=g(function*(t){const e=ys(t);for(const n of t.Eu)e.uu(n.mutations)}),b0.apply(this,arguments)}function ade(t,e,n){return T0.apply(this,arguments)}function T0(){return T0=g(function*(t,e,n){const r=t.Eu.shift(),i=OT.from(r,e,n);yield a$(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield _u(t)}),T0.apply(this,arguments)}function ude(t,e){return S0.apply(this,arguments)}function S0(){return S0=g(function*(t,e){var n;e&&ys(t).ou&&(yield(n=g(function*(r,i){if(function YB(t){switch(t){default:return O();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}(s=i.code)&&s!==I.ABORTED){const o=r.Eu.shift();ys(r).Qo(),yield a$(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield _u(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),u$(t)&&c$(t)}),S0.apply(this,arguments)}function l$(t,e){return A0.apply(this,arguments)}function A0(){return A0=g(function*(t,e){const n=x(t);n.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const r=ms(n);n.vu.add(3),yield yu(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield _d(n)}),A0.apply(this,arguments)}function x0(){return x0=g(function*(t,e){const n=x(t);e?(n.vu.delete(2),yield _d(n)):e||(n.vu.add(2),yield yu(n),n.bu.set("Unknown"))}),x0.apply(this,arguments)}function vu(t){return t.Su||(t.Su=function(e,n,r){const i=x(e);return i.fu(),new Kle(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:ede.bind(null,t),ao:tde.bind(null,t),nu:nde.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Su.Qo(),_0(t)?y0(t):t.bu.set("Unknown")):(yield t.Su.stop(),o$(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function ys(t){return t.Du||(t.Du=function(e,n,r){const i=x(e);return i.fu(),new Qle(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:sde.bind(null,t),ao:ude.bind(null,t),au:ode.bind(null,t),cu:ade.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Du.Qo(),yield _u(t)):(yield t.Du.stop(),t.Eu.length>0&&(S("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class N0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new yt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new N0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wu(t,e){if(rt("AsyncQueue",`${e}: ${t}`),ss(t))return new D(I.UNAVAILABLE,`${e}: ${t}`);throw t}class Iu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=Zl(),this.sortedSet=new ke(this.comparator)}static emptySet(e){return new Iu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Iu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Iu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class d${constructor(){this.Cu=new ke(M.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):O():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Eu{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Eu(e,n,Iu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class cde{constructor(){this.Nu=void 0,this.listeners=[]}}class lde{constructor(){this.queries=new Ti(e=>NB(e),Jl),this.onlineState="Unknown",this.ku=new Set}}function R0(t,e){return k0.apply(this,arguments)}function k0(){return k0=g(function*(t,e){const n=x(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new cde),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=wu(o,`Initialization of query '${xT(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&F0(n)}),k0.apply(this,arguments)}function O0(t,e){return P0.apply(this,arguments)}function P0(){return P0=g(function*(t,e){const n=x(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),P0.apply(this,arguments)}function dde(t,e){const n=x(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&F0(n)}function hde(t,e,n){const r=x(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function F0(t){t.ku.forEach(e=>{e.next()})}class L0{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Eu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Eu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class p${constructor(e){this.key=e}}class g${constructor(e){this.key=e}}class m${constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=re(),this.mutatedKeys=re(),this.tc=kB(e),this.ec=new Iu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new d$,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Xl(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Eu(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new d$,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=re(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new g$(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new p$(r))}),n}hc(e){this.Yu=e.ir,this.Zu=re();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Eu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class gde{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class mde{constructor(e){this.key=e,this.fc=!1}}class yde{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Ti(a=>NB(a),Jl),this._c=new Map,this.mc=new Set,this.gc=new ke(M.comparator),this.yc=new Map,this.Ic=new YT,this.Tc={},this.Ec=new Map,this.Ac=Eo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function _de(t,e){return V0.apply(this,arguments)}function V0(){return V0=g(function*(t,e){const n=function aS(t){const e=x(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=y$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sde.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ide.bind(null,e),e.dc.nu=dde.bind(null,e.eventManager),e.dc.Pc=hde.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function gu(t,e){const n=x(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Ai(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,vn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function U0(t,e,n,r,i){return B0.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&Kg(n.remoteStore,o)}return i}),V0.apply(this,arguments)}function B0(){return B0=g(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=g(function*(m,y,w,_){let b=y.view.sc(w);b.zi&&(b=yield Hg(m.localStore,y.query,!1).then(({documents:Z})=>y.view.sc(Z,b)));const k=_&&_.targetChanges.get(y.targetId),V=y.view.applyChanges(b,m.isPrimaryClient,k);return Y0(m,y.targetId,V.cc),V.snapshot}),function(m,y,w,_){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield Hg(t.localStore,e,!0),o=new m$(e,s.ir),a=o.sc(s.documents),u=sd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);Y0(t,n,c.cc);const l=new gde(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),B0.apply(this,arguments)}function vde(t,e){return j0.apply(this,arguments)}function j0(){return j0=g(function*(t,e){const n=x(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Jl(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield mu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),vd(n.remoteStore,r.targetId),Du(n,r.targetId)}).catch(is))):(Du(n,r.targetId),yield mu(n.localStore,r.targetId,!0))}),j0.apply(this,arguments)}function $0(){return $0=g(function*(t,e,n){const r=function uS(t){const e=x(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ede.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dde.bind(null,e),e}(t);try{const i=yield function(s,o){const a=x(s),u=Ge.now(),c=o.reduce((h,f)=>h.add(f.key),re());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=kn(),p=re();return a.Zi.getEntries(h,c).next(m=>{f=m,f.forEach((y,w)=>{w.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{l=m;const y=[];for(const w of o){const _=Kce(w,l.get(w.key).overlayedDocument);null!=_&&y.push(new Si(w.key,_,yB(_.value.mapValue),Be.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:PB(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new ke(K)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Mi(r,i.changes),yield _u(r.remoteStore)}catch(i){const s=wu(i,"Failed to persist write");n.reject(s)}}),$0.apply(this,arguments)}function y$(t,e){return H0.apply(this,arguments)}function H0(){return H0=g(function*(t,e){const n=x(t);try{const r=yield function Ble(t,e){const n=x(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(_t.EMPTY_BYTE_STRING,U.min()).withLastLimboFreeSnapshotVersion(U.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=kn(),c=re();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function Qj(t,e,n){let r=re(),i=re();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=kn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(U.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):S("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(U.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(L(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?L(o.fc):i.removedDocuments.size>0&&(L(o.fc),o.fc=!1))}),yield Mi(n,r,e)}catch(r){yield is(r)}}),H0.apply(this,arguments)}function _$(t,e,n){const r=x(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=x(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&F0(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Ide(t,e,n){return G0.apply(this,arguments)}function G0(){return G0=g(function*(t,e,n){const r=x(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new ke(M.comparator);o=o.insert(s,Fe.newNoDocument(s,U.min()));const a=re().add(s),u=new id(U.min(),new Map,new ke(K),o,a);yield y$(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),J0(r)}else yield mu(r.localStore,e,!1).then(()=>Du(r,e,n)).catch(is)}),G0.apply(this,arguments)}function Ede(t,e){return z0.apply(this,arguments)}function z0(){return z0=g(function*(t,e){const n=x(t),r=e.batch.batchId;try{const i=yield function Ule(t,e){const n=x(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=v.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);L(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=re();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);Q0(n,r,null),K0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Mi(n,i)}catch(i){yield is(i)}}),z0.apply(this,arguments)}function Dde(t,e,n){return q0.apply(this,arguments)}function q0(){return q0=g(function*(t,e,n){const r=x(t);try{const i=yield function(s,o){const a=x(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(L(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);Q0(r,e,n),K0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Mi(r,i)}catch(i){yield is(i)}}),q0.apply(this,arguments)}function K0(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function Q0(t,e,n){const r=x(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Du(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||v$(t,r)})}function v$(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(vd(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),J0(t))}function Y0(t,e,n){for(const r of n)r instanceof p$?(t.Ic.addReference(r.key,e),bde(t,r)):r instanceof g$?(S("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||v$(t,r.key)):O()}function bde(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(S("SyncEngine","New document in limbo: "+n),t.mc.add(r),J0(t))}function J0(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new M(le.fromString(e)),r=t.Ac.next();t.yc.set(r,new mde(n)),t.gc=t.gc.insert(n,r),Kg(t.remoteStore,new Ai(vn(ou(n.path)),r,"TargetPurposeLimboResolution",Gn.ct))}}function Mi(t,e,n){return X0.apply(this,arguments)}function X0(){return X0=g(function*(t,e,n){const r=x(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=t0.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=g(function*(u,c){const l=x(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(c,h=>v.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!ss(d))throw d;S("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),X0.apply(this,arguments)}function Tde(t,e){return Z0.apply(this,arguments)}function Z0(){return Z0=g(function*(t,e){const n=x(t);if(!n.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const r=yield Wj(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new D(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Mi(n,r.er)}var i}),Z0.apply(this,arguments)}function Sde(t,e){const n=x(t),r=n.yc.get(e);if(r&&r.fc)return re().add(r.key);{let i=re();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class Yg{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.serializer=yd(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function qj(t,e,n,r){return new Vle(t,e,n,r)}(this.persistence,new zj,e.initialUser,this.serializer)}createPersistence(e){return new JT(Bg.zs,this.serializer)}createSharedClientState(e){return new t$}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Cu{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>_$(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Tde.bind(null,r.syncEngine),yield function M0(t,e){return x0.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new lde}createDatastore(e){const n=yd(e.databaseInfo.databaseId),r=new Wle(e.databaseInfo);return new Yle(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>_$(this.syncEngine,a,0),o=n$.D()?new n$:new Gle,new Zle(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new yde(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=x(n);S("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield yu(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Jg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):rt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Bde{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=bt.UNAUTHENTICATED,this.clientId=KU.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){S("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(S("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new yt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=wu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Xg(t,e){return cS.apply(this,arguments)}function cS(){return cS=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield Wj(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),cS.apply(this,arguments)}function lS(t,e){return dS.apply(this,arguments)}function dS(){return dS=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function hS(t){return fS.apply(this,arguments)}(t);S("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>l$(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>l$(e.remoteStore,s)),t._onlineComponents=e}),dS.apply(this,arguments)}function fS(){return fS=g(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){S("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Xg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function b$(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;yr("Error using user provided cache. Falling back to memory cache: "+n),yield Xg(t,new Yg)}}else S("FirestoreClient","Using default OfflineComponentProvider"),yield Xg(t,new Yg);return t._offlineComponents}),fS.apply(this,arguments)}function Zg(t){return pS.apply(this,arguments)}function pS(){return pS=g(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(S("FirestoreClient","Using user provided OnlineComponentProvider"),yield lS(t,t._uninitializedComponentsProvider._online)):(S("FirestoreClient","Using default OnlineComponentProvider"),yield lS(t,new Cu))),t._onlineComponents}),pS.apply(this,arguments)}function bu(t){return mS.apply(this,arguments)}function mS(){return mS=g(function*(t){const e=yield Zg(t),n=e.eventManager;return n.onListen=_de.bind(null,e.syncEngine),n.onUnlisten=vde.bind(null,e.syncEngine),n}),mS.apply(this,arguments)}function N$(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const R$=new Map;function yS(t,e,n){if(!n)throw new D(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function k$(t){if(!M.isDocumentKey(t))throw new D(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function O$(t){if(M.isDocumentKey(t))throw new D(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":O()}function ae(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tm(t);throw new D(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class F${constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new D(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Qde(t,e,n,r){if(!0===e&&!0===r)throw new D(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=N$(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new D(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new D(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new D(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F$({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new D(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F$(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Wue;switch(n.type){case"firstParty":return new Jue(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new D(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=R$.get(e);n&&(S("ComponentProvider","Removing Datastore"),R$.delete(e),n.terminate())}(this),Promise.resolve()}}class ot{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ot(this.firestore,e,this._key)}}class Ht{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ht(this.firestore,e,this._query)}}class Wr extends Ht{constructor(e,n,r){super(e,n,ou(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ot(this.firestore,null,new M(e))}withConverter(e){return new Wr(this.firestore,e,this._path)}}function Jde(t,e,...n){if(t=Ft(t),yS("collection","path",e),t instanceof wd){const r=le.fromString(e,...n);return O$(r),new Wr(t,null,r)}{if(!(t instanceof ot||t instanceof Wr))throw new D(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(le.fromString(e,...n));return O$(r),new Wr(t.firestore,null,r)}}function L$(t,e,...n){if(t=Ft(t),1===arguments.length&&(e=KU.A()),yS("doc","path",e),t instanceof wd){const r=le.fromString(e,...n);return k$(r),new ot(t,null,new M(r))}{if(!(t instanceof ot||t instanceof Wr))throw new D(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(le.fromString(e,...n));return k$(r),new ot(t.firestore,t instanceof Wr?t.converter:null,new M(r))}}class Xde{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new h0(this,"async_queue_retry"),this.Xc=()=>{const n=Wg();n&&S("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Wg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Wg();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new yt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return g(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!ss(n))throw n;S("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,rt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=N0.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&O()}verifyOperationInProgress(){}sa(){var e=this;return g(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function _S(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Le extends wd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Xde,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||U$(this),this._firestoreClient.terminate()}}function ehe(t,e){const r="string"==typeof t?t:e||"(default)",i=Va("object"==typeof t?t:zw(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=MF("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();s&&function Yde(t,e,n,r={}){var i;const s=(t=ae(t,wd))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&yr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=bt.MOCK_USER;else{a=function _Z(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zf(JSON.stringify({alg:"none",type:"JWT"})),Zf(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new D(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new bt(c)}t._authCredentials=new Kue(new qU(a,u))}}(i,...s)}return i}function dt(t){return t._firestoreClient||U$(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function U$(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Sce(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,N$(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new Bde(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Co{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Co(_t.fromBase64String(e))}catch(n){throw new D(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Co(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Tu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new D(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new it(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vS{constructor(e){this._methodName=e}}class wS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return K(this._lat,e._lat)||K(this._long,e._long)}}const nhe=/^__.*__$/;class rhe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Si(e,this.data,this.fieldMask,n,this.fieldTransforms):new cu(e,this.data,n,this.fieldTransforms)}}class $${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Si(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function H$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}class nm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new nm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return im(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(H$(this.ca)&&nhe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class ihe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yd(e)}ya(e,n,r,i=!1){return new nm({ca:e,methodName:n,ga:r,path:it.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Su(t){const e=t._freezeSettings(),n=yd(t._databaseId);return new ihe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function IS(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);DS("Data must be an object, but it was:",o,r);const a=K$(r,o);let u,c;if(s.merge)u=new Rn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Dd(e,d,n);if(!o.contains(h))throw new D(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Y$(l,h)||l.push(h)}u=new Rn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new rhe(new $t(a),u,c)}class Ed extends vS{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ed}}function bo(t,e){if(Q$(t=Ft(t)))return DS("Unsupported field value:",e,t),K$(t,e);if(t instanceof vS)return function(n,r){if(!H$(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=bo(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Ft(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return UB(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Ge.fromDate(n);return{timestampValue:du(r.serializer,i)}}if(n instanceof Ge){const i=new Ge(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:du(r.serializer,i)}}if(n instanceof wS)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Co)return{bytesValue:oj(r.serializer,n._byteString)};if(n instanceof ot){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:UT(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${tm(n)}`)}(t,e)}function K$(t,e){const n={};return uB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):os(t,(r,i)=>{const s=bo(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function Q$(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof wS||t instanceof Co||t instanceof ot||t instanceof vS)}function DS(t,e,n){if(!Q$(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=tm(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Dd(t,e,n){if((e=Ft(e))instanceof Tu)return e._internalPath;if("string"==typeof e)return rm(t,e);throw im("Field path arguments must be of type string or ",t,!1,void 0,n)}const uhe=new RegExp("[~\\*/\\[\\]]");function rm(t,e,n){if(e.search(uhe)>=0)throw im(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tu(...e.split("."))._internalPath}catch{throw im(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function im(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new D(I.INVALID_ARGUMENT,a+t+u)}function Y$(t,e){return t.some(n=>n.isEqual(e))}class CS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ot(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new che(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class che extends CS{data(){return super.data()}}function sm(t,e){return"string"==typeof e?rm(t,e):e instanceof Tu?e._internalPath:e._delegate._internalPath}class dhe{convertValue(e,n="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ci(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw O()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return os(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new wS(Xe(e.latitude),Xe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=vg(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ql(e));default:return null}}convertTimestamp(e){const n=as(e);return new Ge(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=le.fromString(e);L(mj(r));const i=new lo(r.get(1),r.get(3)),s=new M(r.popFirst(5));return i.isEqual(n)||rt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class To{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mu extends CS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class cm extends Mu{data(e={}){return super.data(e)}}class xu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new To(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new cm(this._firestore,this._userDataWriter,r.key,r,new To(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new cm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new To(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new cm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new To(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:fhe(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function fhe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O()}}function phe(t){t=ae(t,ot);const e=ae(t.firestore,Le);return function M$(t,e,n={}){const r=new yt;return t.asyncQueue.enqueueAndForget(g(function*(){return function(i,s,o,a,u){const c=new Jg({next:d=>{s.enqueueAndForget(()=>O0(i,l));const h=d.docs.has(o);!h&&d.fromCache?u.reject(new D(I.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?u.reject(new D(I.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new L0(ou(o.path),c,{includeMetadataChanges:!0,Ku:!0});return R0(i,l)}(yield bu(t),t.asyncQueue,e,n,r)})),r.promise}(dt(e),t._key).then(n=>SS(e,t,n))}class _s extends dhe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Co(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ot(this.firestore,null,n)}}function ghe(t,e,n,...r){t=ae(t,ot);const i=ae(t.firestore,Le),s=Su(i);let o;return o="string"==typeof(e=Ft(e))||e instanceof Tu?function q$(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[Dd(e,r,n)],u=[i];if(s.length%2!=0)throw new D(I.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Dd(e,s[h])),u.push(s[h+1]);const c=[],l=$t.empty();for(let h=a.length-1;h>=0;--h)if(!Y$(c,a[h])){const f=a[h];let p=u[h];p=Ft(p);const m=o.da(f);if(p instanceof Ed)c.push(f);else{const y=bo(p,m);null!=y&&(c.push(f),l.set(f,y))}}const d=new Rn(c);return new $$(l,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function z$(t,e,n,r){const i=t.ya(1,e,n);DS("Data must be an object, but it was:",i,r);const s=[],o=$t.empty();os(r,(u,c)=>{const l=rm(e,u,n);c=Ft(c);const d=i.da(l);if(c instanceof Ed)s.push(l);else{const h=bo(c,d);null!=h&&(s.push(l),o.set(l,h))}});const a=new Rn(s);return new $$(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),bd(i,[o.toMutation(t._key,Be.exists(!0))])}function mhe(t){return bd(ae(t.firestore,Le),[new lu(t._key,Be.none())])}function yhe(t,e){const n=ae(t.firestore,Le),r=L$(t),i=function TS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return bd(n,[IS(Su(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Be.exists(!1))]).then(()=>r)}function bd(t,e){return function(n,r){const i=new yt;return n.asyncQueue.enqueueAndForget(g(function*(){return function wde(t,e,n){return $0.apply(this,arguments)}(yield function gS(t){return Zg(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(dt(t),e)}function SS(t,e,n){const r=n.docs.get(e._key),i=new _s(t);return new Mu(t,i,e._key,r,new To(n.hasPendingWrites,n.fromCache),e.converter)}!function(t,e=!0){eu=Ks,mn(new Yt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Le(new Que(n.getProvider("auth-internal")),new Xue(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new D(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lo(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ke(zU,"3.13.0",t),Ke(zU,"3.13.0","esm2017")}();var dm=function(){return dm=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var s in n=arguments[r])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},dm.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var xhe={includeMetadataChanges:!1};function MS(t,e){return void 0===e&&(e=xhe),new je(function(n){var r=function _he(t,...e){var n,r,i;t=Ft(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||_S(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(_S(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof ot)c=ae(t.firestore,Le),l=ou(t._key.path),u={next:d=>{e[o]&&e[o](SS(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ae(t,Ht);c=ae(d.firestore,Le),l=d._query;const h=new _s(c);u={next:f=>{e[o]&&e[o](new xu(c,h,d,f))},error:e[o+1],complete:e[o+2]},function J$(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new D(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const m=new Jg(p),y=new L0(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return R0(yield bu(d),y)})),()=>{m.Dc(),d.asyncQueue.enqueueAndForget(g(function*(){return O0(yield bu(d),y)}))}}(dt(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Lhe(t,e){return void 0===e&&(e={}),function Fhe(t){return MS(t,{includeMetadataChanges:!0}).pipe(ve(function(e){return e.docs}))}(t).pipe(ve(function(n){return n.map(function(r){return function sH(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?dm(dm({},r),((n={})[e.idField]=t.id,n)):r}(r,e)})}))}class hm{constructor(e){return e}}const cH="firestore",RS=new F("angularfire2.firestore-instances");function jhe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new hm(r)}}const $he={provide:class Uhe{constructor(){return WE(cH)}},deps:[[new dn,RS]]},Hhe={provide:hm,useFactory:function Bhe(t,e){const n=qE(cH,t,e);return n&&new hm(n)},deps:[[new dn,RS],$a]};let Ghe=(()=>{class t{constructor(){Ke("angularfire",gp.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=sn({type:t}),t.\u0275inj=Gt({providers:[Hhe,$he]}),t})();function zhe(t,...e){return{ngModule:Ghe,providers:[{provide:RS,useFactory:jhe(t),multi:!0,deps:[_e,Wt,KE,QE,[new dn,AV],[new dn,yD],...e]}]}}const qhe=Lr(Lhe,!0),Whe=Lr(yhe,!0),lH=Lr(Jde,!0),Khe=Lr(mhe,!0),kS=Lr(L$,!0),Qhe=Lr(phe,!0),Yhe=Lr(ehe,!0),Jhe=Lr(ghe,!0);let OS=(()=>{class t{constructor(n){this.firestore=n}addProductos(n){const r=lH(this.firestore,"productos");return Whe(r,n)}getProductos(){const n=lH(this.firestore,"productos");return qhe(n,{idField:"id"})}getOneProducto(n){const r=kS(this.firestore,`productos/${n}`);return Qhe(r)}deleteProductos(n){const r=kS(this.firestore,`productos/${n.id}`);return Khe(r)}updateProductos(n,r){const i=kS(this.firestore,`productos/${n.id}`);return Jhe(i,r)}static#e=this.\u0275fac=function(r){return new(r||t)(B(hm))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),PS=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ki({type:t,selectors:[["app-loading"]],decls:3,vars:0,consts:[["role","status",1,"spinner-grow","text-info",2,"width","12rem","height","12rem"],[1,"visually-hidden"]],template:function(r,i){1&r&&(te(0,"div",0)(1,"span",1),pe(2,"Loading..."),$()())}})}return t})();function Xhe(t,e){1&t&&(te(0,"div",3),Ot(1,"app-loading"),$())}const Zhe=function(t){return["edit-item",t]};function efe(t,e){if(1&t){const n=Zh();te(0,"tr")(1,"td"),pe(2),$(),te(3,"td"),pe(4),$(),te(5,"td"),pe(6),$(),te(7,"td"),pe(8),function lk(t,e){const n=ce();let r;const i=t+se;n.firstCreatePass?(r=function s7(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Ss(r.type)),a=En(C);try{const u=oh(!1),c=s();return oh(u),function B9(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,E(),i,c),c}finally{En(a)}}(9,"currency"),$(),te(10,"td")(11,"button",9),pe(12,"Editar"),$(),te(13,"button",10),hn("click",function(){const s=eh(n).$implicit;return th(ks(2).onClickDelete(s))}),pe(14,"Eliminar"),$()()()}if(2&t){const n=e.$implicit,r=e.index;tt(2),wa(r+1),tt(2),wa(n.nombre),tt(2),wa(n.tipo),tt(2),wa(dk(9,5,n.precio,"S/. ")),tt(3),gt("routerLink",ik(8,Zhe,n.id))}}const tfe=function(){return["create-item"]};function nfe(t,e){if(1&t&&(te(0,"h1",4),pe(1,"Lista de productos"),$(),te(2,"a",5),pe(3," Nuevo "),$(),te(4,"table",6)(5,"thead")(6,"tr")(7,"th",7),pe(8,"N\xb0"),$(),te(9,"th",7),pe(10,"Nombre"),$(),te(11,"th",7),pe(12,"Tipo"),$(),te(13,"th",7),pe(14,"Precio"),$(),te(15,"th",7),pe(16,"Operaciones"),$()()(),te(17,"tbody"),Qt(18,efe,15,10,"tr",8),$()()),2&t){const n=ks();tt(2),gt("routerLink",tv(2,tfe)),tt(16),gt("ngForOf",n.productos)}}let rfe=(()=>{class t{constructor(n){this.productsService=n,this.productos=[],this.isLoading=!0}ngOnInit(){this.productsService.getProductos().subscribe(n=>{console.log(n),this.productos=n,this.isLoading=!1})}onClickDelete(n){var r=this;return g(function*(){const i=yield r.productsService.deleteProductos(n);console.log(i)})()}static#e=this.\u0275fac=function(r){return new(r||t)(C(OS))};static#t=this.\u0275cmp=ki({type:t,selectors:[["app-lista"]],decls:4,vars:2,consts:[[1,"p-4","text-white"],["class","d-flex justify-content-center align-items-center min-vh-100",4,"ngIf","ngIfElse"],["lista",""],[1,"d-flex","justify-content-center","align-items-center","min-vh-100"],[1,"text-3xl","my-8"],[1,"btn","btn-success","my-4",3,"routerLink"],[1,"table","table-primary","table-striped"],["className",""],[4,"ngFor","ngForOf"],[1,"btn","btn-dark","mx-2",3,"routerLink"],[1,"btn","btn-danger",3,"click"]],template:function(r,i){if(1&r&&(te(0,"div",0),Qt(1,Xhe,2,0,"div",1),Qt(2,nfe,19,3,"ng-template",null,2,df),$()),2&r){const s=Xh(3);tt(1),gt("ngIf",i.isLoading)("ngIfElse",s)}},dependencies:[$O,Nf,tl,PS,WO]})}return t})(),dH=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(C(ri),C(Un))};static#t=this.\u0275dir=q({type:t})}return t})(),So=(()=>{class t extends dH{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=kt(t)))(i||t)}}();static#t=this.\u0275dir=q({type:t,features:[Ie]})}return t})();const Kr=new F("NgValueAccessor"),ofe={provide:Kr,useExisting:Ae(()=>Td),multi:!0},ufe=new F("CompositionEventMode");let Td=(()=>{class t extends dH{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function afe(){const t=Gi()?Gi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(C(ri),C(Un),C(ufe,8))};static#t=this.\u0275dir=q({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&hn("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Ue([ofe]),Ie]})}return t})();function vs(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function fH(t){return null!=t&&"number"==typeof t.length}const nn=new F("NgValidators"),ws=new F("NgAsyncValidators"),cfe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Nu{static min(e){return function pH(t){return e=>{if(vs(e.value)||vs(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function gH(t){return e=>{if(vs(e.value)||vs(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function mH(t){return vs(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function yH(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function _H(t){return vs(t.value)||cfe.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function vH(t){return e=>vs(e.value)||!fH(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function wH(t){return e=>fH(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function IH(t){if(!t)return fm;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(vs(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return SH(e)}static composeAsync(e){return AH(e)}}function fm(t){return null}function EH(t){return null!=t}function DH(t){return Ec(t)?vt(t):t}function CH(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function bH(t,e){return e.map(n=>n(t))}function TH(t){return t.map(e=>function lfe(t){return!t.validate}(e)?e:n=>e.validate(n))}function SH(t){if(!t)return null;const e=t.filter(EH);return 0==e.length?null:function(n){return CH(bH(n,e))}}function FS(t){return null!=t?SH(TH(t)):null}function AH(t){if(!t)return null;const e=t.filter(EH);return 0==e.length?null:function(n){return function ife(...t){const e=TA(t),{args:n,keys:r}=yP(t),i=new je(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;On(n[l]).subscribe(at(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?vP(r,a):a),s.complete())}))}});return e?i.pipe(_P(e)):i}(bH(n,e).map(DH)).pipe(ve(CH))}}function LS(t){return null!=t?AH(TH(t)):null}function MH(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function xH(t){return t._rawValidators}function NH(t){return t._rawAsyncValidators}function VS(t){return t?Array.isArray(t)?t:[t]:[]}function pm(t,e){return Array.isArray(t)?t.includes(e):t===e}function RH(t,e){const n=VS(e);return VS(t).forEach(i=>{pm(n,i)||n.push(i)}),n}function kH(t,e){return VS(e).filter(n=>!pm(t,n))}class OH{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=FS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=LS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class wn extends OH{get formDirective(){return null}get path(){return null}}class Is extends OH{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class PH{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let US=(()=>{class t extends PH{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(C(Is,2))};static#t=this.\u0275dir=q({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&tf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ie]})}return t})(),BS=(()=>{class t extends PH{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(C(wn,10))};static#t=this.\u0275dir=q({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&tf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ie]})}return t})();const Sd="VALID",mm="INVALID",Ru="PENDING",Ad="DISABLED";function HS(t){return(ym(t)?t.validators:t)||null}function GS(t,e){return(ym(e)?e.asyncValidators:t)||null}function ym(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class UH{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Sd}get invalid(){return this.status===mm}get pending(){return this.status==Ru}get disabled(){return this.status===Ad}get enabled(){return this.status!==Ad}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(RH(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(RH(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(kH(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(kH(e,this._rawAsyncValidators))}hasValidator(e){return pm(this._rawValidators,e)}hasAsyncValidator(e){return pm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ru,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Ad,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Sd,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Sd||this.status===Ru)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ad:Sd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ru,this._hasOwnPendingAsyncValidator=!0;const n=DH(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new qe,this.statusChanges=new qe}_calculateStatus(){return this._allControlsDisabled()?Ad:this.errors?mm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ru)?Ru:this._anyControlsHaveStatus(mm)?mm:Sd}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ym(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function pfe(t){return Array.isArray(t)?FS(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function gfe(t){return Array.isArray(t)?LS(t):t||null}(this._rawAsyncValidators)}}class Md extends UH{constructor(e,n,r){super(HS(n),GS(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function VH(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new T(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function LH(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new T(1e3,"");if(!r[n])throw new T(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const ku=new F("CallSetDisabledState",{providedIn:"root",factory:()=>_m}),_m="always";function xd(t,e,n=_m){zS(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function _fe(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&BH(t,e)})}(t,e),function wfe(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function vfe(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&BH(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function yfe(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function wm(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Em(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Im(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function zS(t,e){const n=xH(t);null!==e.validator?t.setValidators(MH(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=NH(t);null!==e.asyncValidator?t.setAsyncValidators(MH(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Im(e._rawValidators,i),Im(e._rawAsyncValidators,i)}function Em(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=xH(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=NH(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return Im(e._rawValidators,r),Im(e._rawAsyncValidators,r),n}function BH(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function HH(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function GH(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Es=class extends UH{constructor(e=null,n,r){super(HS(n),GS(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ym(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=GH(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){HH(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){HH(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){GH(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let YS=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=q({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})(),YH=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=sn({type:t});static#n=this.\u0275inj=Gt({})}return t})();const JS=new F("NgModelWithFormControlWarning"),Ofe={provide:wn,useExisting:Ae(()=>Rd)};let Rd=(()=>{class t extends wn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new qe,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Em(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return xd(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){wm(n.control||null,n,!1),function Cfe(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function $H(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(wm(r||null,n),(t=>t instanceof Es)(i)&&(xd(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function jH(t,e){zS(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function Ife(t,e){return Em(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zS(this.form,this),this._oldForm&&Em(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(C(nn,10),C(ws,10),C(ku,8))};static#t=this.\u0275dir=q({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&hn("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ue([Ofe]),Ie,Kn]})}return t})();const Lfe={provide:Is,useExisting:Ae(()=>Dm)};let Dm=(()=>{class t extends Is{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new qe,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function KS(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Td?n=s:function Dfe(t){return Object.getPrototypeOf(t.constructor)===So}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function WS(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function vm(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||t)(C(wn,13),C(nn,10),C(ws,10),C(Kr,10),C(JS,8))};static#n=this.\u0275dir=q({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ue([Lfe]),Ie,Kn]})}return t})(),Xfe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=sn({type:t});static#n=this.\u0275inj=Gt({imports:[YH]})}return t})(),epe=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:JS,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:ku,useValue:n.callSetDisabledState??_m}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=sn({type:t});static#n=this.\u0275inj=Gt({imports:[Xfe]})}return t})();const tpe=function(){return["/"]};let hG=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ki({type:t,selectors:[["app-back-button"]],decls:2,vars:2,consts:[[1,"btn","btn-success","my-3",3,"routerLink"]],template:function(r,i){1&r&&(te(0,"button",0),pe(1," Regresar"),$()),2&r&&gt("routerLink",tv(1,tpe))},dependencies:[tl]})}return t})();function npe(t,e){1&t&&(te(0,"div",3),Ot(1,"app-loading"),$())}function rpe(t,e){1&t&&(te(0,"span",14),pe(1," (El nombre no puede quedar vac\xedo) "),$())}function ipe(t,e){1&t&&(te(0,"span",14),pe(1," (El tipo no puede quedar vac\xedo) "),$())}function spe(t,e){1&t&&(te(0,"span",14),pe(1," (El precio no puede quedar vac\xedo) "),$())}function ope(t,e){1&t&&(te(0,"span",14),pe(1," (Rellene los campos primero) "),$())}function ape(t,e){if(1&t){const n=Zh();Ot(0,"app-back-button"),te(1,"h1",4),pe(2," Create Employe"),$(),te(3,"form",5),hn("ngSubmit",function(){return eh(n),th(ks().onSubmit())}),te(4,"div",6)(5,"label",7),pe(6,"Nombre"),$(),Ot(7,"input",8),Qt(8,rpe,2,0,"span",9),$(),te(9,"div",6)(10,"label",7),pe(11,"Tipo"),$(),Ot(12,"input",10),Qt(13,ipe,2,0,"span",9),$(),te(14,"div",11)(15,"label",7),pe(16,"Precio"),$(),Ot(17,"input",12),Qt(18,spe,2,0,"span",9),$(),Ot(19,"input",13),Qt(20,ope,2,0,"span",9),$()}if(2&t){const n=ks();let r,i,s;tt(3),gt("formGroup",n.formulario),tt(5),gt("ngIf",(null==(r=n.formulario.get("nombre"))||null==r.errors?null:r.errors.required)&&(null==n.formulario.controls.nombre?null:n.formulario.controls.nombre.touched)),tt(5),gt("ngIf",(null==(i=n.formulario.get("tipo"))||null==i.errors?null:i.errors.required)&&(null==n.formulario.controls.tipo?null:n.formulario.controls.tipo.touched)),tt(5),gt("ngIf",(null==(s=n.formulario.get("precio"))||null==s.errors?null:s.errors.required)&&(null==n.formulario.controls.precio?null:n.formulario.controls.precio.touched)),tt(2),gt("ngIf",n.creacionInvalida)}}let upe=(()=>{class t{constructor(n,r){this.productsService=n,this.router=r,this.isLoading=!1,this.creacionInvalida=!1,this.formulario=new Md({nombre:new Es("",[Nu.required]),tipo:new Es("",[Nu.required]),precio:new Es("",[Nu.required])})}onSubmit(){var n=this;return g(function*(){if(n.formulario.get("nombre")?.errors?.required||n.formulario.get("tipo")?.errors?.required||n.formulario.get("precio")?.errors?.required)n.creacionInvalida=!0;else{console.log(n.formulario.value),n.isLoading=!0;const r=yield n.productsService.addProductos(n.formulario.value);n.isLoading=!1,console.log(r),n.router.navigate(["/"])}})()}static#e=this.\u0275fac=function(r){return new(r||t)(C(OS),C(Mn))};static#t=this.\u0275cmp=ki({type:t,selectors:[["app-create-item"]],decls:4,vars:2,consts:[[1,"p-4","text-white"],["class","d-flex justify-content-center align-items-center min-vh-100",4,"ngIf","ngIfElse"],["createItem",""],[1,"d-flex","justify-content-center","align-items-center","min-vh-100"],["className","text-3xl my-4"],[3,"formGroup","ngSubmit"],[1,"mb-3","w-50"],[1,"form-label"],["type","text","formControlName","nombre",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","formControlName","tipo",1,"form-control"],[1,"mb-3","w-25"],["type","text","formControlName","precio",1,"form-control"],["type","submit","value","Enviar",1,"btn","btn-info"],[1,"text-danger"]],template:function(r,i){if(1&r&&(te(0,"div",0),Qt(1,npe,2,0,"div",1),Qt(2,ape,21,5,"ng-template",null,2,df),$()),2&r){const s=Xh(3);tt(1),gt("ngIf",i.isLoading)("ngIfElse",s)}},dependencies:[Nf,hG,PS,YS,Td,US,BS,Rd,Dm]})}return t})();function cpe(t,e){1&t&&(te(0,"div",3),Ot(1,"app-loading"),$())}function lpe(t,e){1&t&&(te(0,"span",14),pe(1," (El nombre no puede quedar vac\xedo) "),$())}function dpe(t,e){1&t&&(te(0,"span",14),pe(1," (El tipo no puede quedar vac\xedo) "),$())}function hpe(t,e){1&t&&(te(0,"span",14),pe(1," (El precio no puede quedar vac\xedo) "),$())}function fpe(t,e){1&t&&(te(0,"span",14),pe(1," (Rellene los campos primero) "),$())}function ppe(t,e){if(1&t){const n=Zh();Ot(0,"app-back-button"),te(1,"h1",4),pe(2," Edit Employe"),$(),te(3,"form",5),hn("ngSubmit",function(){return eh(n),th(ks().onSubmit())}),te(4,"div",6)(5,"label",7),pe(6,"Nombre"),$(),Ot(7,"input",8),Qt(8,lpe,2,0,"span",9),$(),te(9,"div",6)(10,"label",7),pe(11,"Tipo"),$(),Ot(12,"input",10),Qt(13,dpe,2,0,"span",9),$(),te(14,"div",11)(15,"label",7),pe(16,"Precio"),$(),Ot(17,"input",12),Qt(18,hpe,2,0,"span",9),$(),Ot(19,"input",13),Qt(20,fpe,2,0,"span",9),$()}if(2&t){const n=ks();let r,i,s;tt(3),gt("formGroup",n.formulario),tt(5),gt("ngIf",(null==(r=n.formulario.get("nombre"))||null==r.errors?null:r.errors.required)&&(null==n.formulario.controls.nombre?null:n.formulario.controls.nombre.touched)),tt(5),gt("ngIf",(null==(i=n.formulario.get("tipo"))||null==i.errors?null:i.errors.required)&&(null==n.formulario.controls.tipo?null:n.formulario.controls.tipo.touched)),tt(5),gt("ngIf",(null==(s=n.formulario.get("precio"))||null==s.errors?null:s.errors.required)&&(null==n.formulario.controls.precio?null:n.formulario.controls.precio.touched)),tt(2),gt("ngIf",n.editInvalid)}}const gpe=[{path:"",component:rfe},{path:"create-item",component:upe},{path:"edit-item/:id",component:(()=>{class t{constructor(n,r,i){this.productsService=n,this.ruta=r,this.router=i,this.isLoading=!1,this.editInvalid=!1,this.formulario=new Md({nombre:new Es("",[Nu.required]),tipo:new Es("",[Nu.required]),precio:new Es("",[Nu.required])}),this.ruta.params.subscribe(s=>{console.log(s.id),this.prodId=s.id})}onSubmit(){var n=this;return g(function*(){if(n.formulario.get("nombre")?.errors?.required||n.formulario.get("tipo")?.errors?.required||n.formulario.get("precio")?.errors?.required)n.editInvalid=!0;else{console.log(n.formulario.value),n.isLoading=!0;const r=yield n.productsService.updateProductos(n.docSnap,n.formulario.value);n.isLoading=!1,console.log(r),n.router.navigate(["/"])}})()}ngOnInit(){var n=this;return g(function*(){n.docSnap=yield n.productsService.getOneProducto(n.prodId),console.log(n.docSnap),n.product=n.docSnap.data(),console.log(n.product),n.formulario?.setValue(n.product)})()}static#e=this.\u0275fac=function(r){return new(r||t)(C(OS),C(Hs),C(Mn))};static#t=this.\u0275cmp=ki({type:t,selectors:[["app-edit-item"]],decls:4,vars:2,consts:[[1,"p-4","text-white"],["class","d-flex justify-content-center align-items-center min-vh-100",4,"ngIf","ngIfElse"],["editItem",""],[1,"d-flex","justify-content-center","align-items-center","min-vh-100"],["className","text-3xl my-4"],[3,"formGroup","ngSubmit"],[1,"mb-3","w-50"],[1,"form-label"],["type","text","formControlName","nombre",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","formControlName","tipo",1,"form-control"],[1,"mb-3","w-25"],["type","text","formControlName","precio",1,"form-control"],["type","submit","value","Enviar",1,"btn","btn-info"],[1,"text-danger"]],template:function(r,i){if(1&r&&(te(0,"div",0),Qt(1,cpe,2,0,"div",1),Qt(2,ppe,21,5,"ng-template",null,2,df),$()),2&r){const s=Xh(3);tt(1),gt("ngIf",i.isLoading)("ngIfElse",s)}},dependencies:[Nf,hG,PS,YS,Td,US,BS,Rd,Dm]})}return t})()}];let Cm=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=sn({type:t});static#n=this.\u0275inj=Gt({imports:[CF.forRoot(gpe),CF]})}return t})(),mpe=(()=>{class t{constructor(){this.title="crud-angular-firebase"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ki({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&Ot(0,"router-outlet")},dependencies:[Iw]})}return t})(),fG=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=sn({type:t});static#n=this.\u0275inj=Gt({imports:[Wv,Cm]})}return t})(),ype=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=sn({type:t});static#n=this.\u0275inj=Gt({imports:[Wv,Cm,fG,epe,Cm]})}return t})();const _pe_firebase={projectId:"angular-crud-example-105c6",appId:"1:746191838803:web:1d46174e833f860efbf0a6",storageBucket:"angular-crud-example-105c6.appspot.com",apiKey:"AIzaSyCirZhB2B5pMWr_Y9B2rwqGT-CK8-lDQwQ",authDomain:"angular-crud-example-105c6.firebaseapp.com",messagingSenderId:"746191838803"};let vpe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=sn({type:t,bootstrap:[mpe]});static#n=this.\u0275inj=Gt({imports:[EY,Cm,ype,fG,rie(()=>iie(_pe_firebase)),Vae(()=>Uae()),zhe(()=>Yhe())]})}return t})();wY().bootstrapModule(vpe).catch(t=>console.error(t))}},be=>{be(be.s=185)}]);